!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=14)}([function(t,e,i){(function(e){var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=i}).call(e,i(1))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n,r,s=i(3).toUnsigned,a=function(t){return new Date(1e3*t-20828448e5)},o=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},l=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},u=function(t,e){var i,n,r,a,o,c=[];if(!e.length)return null;for(i=0;i<t.byteLength;)n=s(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),r=l(t.subarray(i+4,i+8)),a=n>1?i+n:t.byteLength,r===e[0]&&(1===e.length?c.push(t.subarray(i+8,a)):(o=u(t.subarray(i+8,a),e.slice(1))).length&&(c=c.concat(o))),i=a;return c},c=function(t){var e,i,n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=[];for(e=0;e+4<t.length;e+=i)if(i=n.getUint32(e),e+=4,i<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+t[e]&31)}return r},h={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:n(t.subarray(78,t.byteLength))}},avcC:function(t){var e,i,n,r,s=new DataView(t.buffer,t.byteOffset,t.byteLength),a={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},o=31&t[5];for(n=6,r=0;r<o;r++)i=s.getUint16(n),n+=2,a.sps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;for(e=t[n],n++,r=0;r<e;r++)i=s.getUint16(n),n+=2,a.pps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;return a},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={majorBrand:l(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},n=8;n<t.byteLength;)i.compatibleBrands.push(l(t.subarray(n,n+4))),n+=4;return i},dinf:function(t){return{boxes:n(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:n(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:l(t.subarray(8,12)),name:""},i=8;for(i=24;i<t.byteLength;i++){if(0===t[i]){i++;break}e.name+=String.fromCharCode(t[i])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:c(t)}},mdhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,r={version:i.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===r.version?(n+=4,r.creationTime=a(i.getUint32(n)),n+=8,r.modificationTime=a(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=8,r.duration=i.getUint32(n)):(r.creationTime=a(i.getUint32(n)),n+=4,r.modificationTime=a(i.getUint32(n)),n+=4,r.timescale=i.getUint32(n),n+=4,r.duration=i.getUint32(n)),n+=4,e=i.getUint16(n),r.language+=String.fromCharCode(96+(e>>10)),r.language+=String.fromCharCode(96+((992&e)>>5)),r.language+=String.fromCharCode(96+(31&e)),r},mdia:function(t){return{boxes:n(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:n(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(i.streamDescriptor=n(t.subarray(28))[0]),i},moof:function(t){return{boxes:n(t)}},moov:function(t){return{boxes:n(t)}},mvex:function(t){return{boxes:n(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=a(e.getUint32(i)),i+=8,n.modificationTime=a(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=8,n.duration=e.getUint32(i)):(n.creationTime=a(e.getUint32(i)),i+=4,n.modificationTime=a(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=4,n.duration=e.getUint32(i)),i+=4,n.rate=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=e.getUint32(i),n},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)i.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return i},sidx:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},r=i.getUint16(22);for(e=24;r;e+=12,r--)n.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&i.getUint32(e),subsegmentDuration:i.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&i.getUint32(e+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:n(t)}},stco:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},r=i.getUint32(4);for(e=8;r;e+=4,r--)n.chunkOffsets.push(i.getUint32(e));return n},stsc:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=i.getUint32(4),r={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;n;e+=12,n--)r.sampleToChunks.push({firstChunk:i.getUint32(e),samplesPerChunk:i.getUint32(e+4),sampleDescriptionIndex:i.getUint32(e+8)});return r},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:n(t.subarray(8))}},stsz:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)n.entries.push(i.getUint32(e));return n},stts:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},r=i.getUint32(4);for(e=8;r;e+=8,r--)n.timeToSamples.push({sampleCount:i.getUint32(e),sampleDelta:i.getUint32(e+4)});return n},styp:function(t){return h.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:s(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=s(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},tfhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],s=2&n.flags[2],a=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return e=8,r&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),s&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),a&&(n.defaultSampleDuration=i.getUint32(e),e+=4),o&&(n.defaultSampleSize=i.getUint32(e),e+=4),l&&(n.defaultSampleFlags=i.getUint32(e)),u&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=a(e.getUint32(i)),i+=8,n.modificationTime=a(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=8,n.duration=e.getUint32(i)):(n.creationTime=a(e.getUint32(i)),i+=4,n.modificationTime=a(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=4,n.duration=e.getUint32(i)),i+=4,i+=8,n.layer=e.getUint16(i),i+=2,n.alternateGroup=e.getUint16(i),i+=2,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,n.width=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.height=e.getUint16(i)+e.getUint16(i+2)/16,n},traf:function(t){return{boxes:n(t)}},trak:function(t){return{boxes:n(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&i.flags[2],s=4&i.flags[2],a=1&i.flags[1],l=2&i.flags[1],u=4&i.flags[1],c=8&i.flags[1],h=n.getUint32(4),d=8;for(r&&(i.dataOffset=n.getInt32(d),d+=4),s&&h&&(e={flags:o(t.subarray(d,d+4))},d+=4,a&&(e.duration=n.getUint32(d),d+=4),l&&(e.size=n.getUint32(d),d+=4),c&&(e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e),h--);h--;)e={},a&&(e.duration=n.getUint32(d),d+=4),l&&(e.size=n.getUint32(d),d+=4),u&&(e.flags=o(t.subarray(d,d+4)),d+=4),c&&(e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e);return i},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}};n=function(t){for(var e,i,n,r,s,a=0,o=[],u=new ArrayBuffer(t.length),c=new Uint8Array(u),d=0;d<t.length;++d)c[d]=t[d];for(e=new DataView(u);a<t.byteLength;)i=e.getUint32(a),n=l(t.subarray(a+4,a+8)),r=i>1?a+i:t.byteLength,(s=(h[n]||function(t){return{data:t}})(t.subarray(a+8,r))).size=i,s.type=n,o.push(s),a=r;return o},r=function(t,e){var i;return e=e||0,i=new Array(2*e+1).join(" "),t.map(function(t,n){return i+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var n=i+"  "+e+": ",r=t[e];if(r instanceof Uint8Array||r instanceof Uint32Array){var s=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return s?1===s.length?n+"<"+s.join("").slice(1)+">":n+"<\n"+s.map(function(t){return i+"  "+t}).join("\n")+"\n"+i+"  >":n+"<>"}return n+JSON.stringify(r,null,2).split("\n").map(function(t,e){return 0===e?t:i+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+r(t.boxes,e+1):"")}).join("\n")},t.exports={inspect:n,textify:r,parseType:l,findBox:u,parseTraf:h.traf,parseTfdt:h.tfdt,parseHdlr:h.hdlr,parseTfhd:h.tfhd,parseTrun:h.trun,parseSidx:h.sidx}},function(t,e){t.exports={toUnsigned:function(t){return t>>>0},toHexString:function(t){return("00"+t.toString(16)).slice(-2)}}},function(t,e,i){(function(e){var n,r=void 0!==e?e:"undefined"!=typeof window?window:{},s=i(18);"undefined"!=typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"])||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=s),t.exports=n}).call(e,i(1))},function(t,e){function i(){return t.exports=i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i.apply(this,arguments)}t.exports=i},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function i(e,n){return t.exports=i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,i){var n,r,s,a,o;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,r=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return i.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=r.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(h)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o},function(t,e){function i(t,e){for(var i in t)e[i]=t[i]}function n(t,e){var n=t.prototype;if(Object.create){var r=Object.create(e.prototype);n.__proto__=r}if(!(n instanceof e)){function s(){}s.prototype=e.prototype,i(n,s=new s),t.prototype=n=s}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var r="http://www.w3.org/1999/xhtml",s={},a=s.ELEMENT_NODE=1,o=s.ATTRIBUTE_NODE=2,l=s.TEXT_NODE=3,u=s.CDATA_SECTION_NODE=4,c=s.ENTITY_REFERENCE_NODE=5,h=s.ENTITY_NODE=6,d=s.PROCESSING_INSTRUCTION_NODE=7,f=s.COMMENT_NODE=8,p=s.DOCUMENT_NODE=9,m=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,_=s.NOTATION_NODE=12,v={},y={},b=(v.INDEX_SIZE_ERR=(y[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),T=(v.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),v.NOT_FOUND_ERR=(y[8]="Not found",8)),w=(v.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));v.INVALID_STATE_ERR=(y[11]="Invalid state",11),v.SYNTAX_ERR=(y[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),v.NAMESPACE_ERR=(y[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function S(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,y[t]),this.message=y[t],Error.captureStackTrace&&Error.captureStackTrace(this,S);return i.code=t,e&&(this.message=this.message+": "+e),i}function k(){}function C(t,e){this._node=t,this._refresh=e,E(this)}function E(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);it(t,"length",n.length),i(n,t),t._inc=e}}function x(){}function P(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function A(t,e,i,n){if(n?e[P(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&N(r,t,n),function(t,e,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&(e._nsMap[i.prefix?i.localName:""]=i.value)}(r,t,i))}}function O(t,e,i){var n=P(e,i);if(!(n>=0))throw S(T,new Error(t.tagName+"@"+i));for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var s=t.ownerDocument;s&&(N(s,t,i),i.ownerElement=null)}}function I(t){if(this._features={},t)for(var e in t)this._features=t[e]}function D(){}function L(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function R(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(R(t,e))return!0}while(t=t.nextSibling)}function M(){}function N(t,e,i,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&delete e._nsMap[i.prefix?i.localName:""]}function U(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,s=0;r;)n[s++]=r,r=r.nextSibling;n.length=s}}}function B(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,U(t.ownerDocument,t),e}function j(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===g){var r=e.firstChild;if(null==r)return e;var s=e.lastChild}else r=s=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,s.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,null==i?t.lastChild=s:i.previousSibling=s;do{r.parentNode=t}while(r!==s&&(r=r.nextSibling));return U(t.ownerDocument||t,t),e.nodeType==g&&(e.firstChild=e.lastChild=null),e}function F(){this._nsMap={}}function H(){}function V(){}function q(){}function z(){}function $(){}function W(){}function X(){}function Y(){}function G(){}function K(){}function Q(){}function Z(){}function J(t,e){var i=[],n=9==this.nodeType?this.documentElement:this,r=n.prefix,s=n.namespaceURI;if(s&&null==r&&null==(r=n.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return et(this,i,t,e,a),i.join("")}function tt(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!n&&!r)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix==n)return a.namespace!=r}return!0}function et(t,e,i,n,s){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case a:s||(s=[]);s.length;var h=t.attributes,_=h.length,v=t.firstChild,y=t.tagName;i=r===t.namespaceURI||i,e.push("<",y);for(var b=0;b<_;b++){"xmlns"==(T=h.item(b)).prefix?s.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&s.push({prefix:"",namespace:T.value})}for(b=0;b<_;b++){var T;if(tt(T=h.item(b),0,s)){var w=T.prefix||"",S=T.namespaceURI,k=w?" xmlns:"+w:" xmlns";e.push(k,'="',S,'"'),s.push({prefix:w,namespace:S})}et(T,e,i,n,s)}if(tt(t,0,s)){w=t.prefix||"",S=t.namespaceURI,k=w?" xmlns:"+w:" xmlns";e.push(k,'="',S,'"'),s.push({prefix:w,namespace:S})}if(v||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(e.push(">"),i&&/^script$/i.test(y))for(;v;)v.data?e.push(v.data):et(v,e,i,n,s),v=v.nextSibling;else for(;v;)et(v,e,i,n,s),v=v.nextSibling;e.push("</",y,">")}else e.push("/>");return;case p:case g:for(v=t.firstChild;v;)et(v,e,i,n,s),v=v.nextSibling;return;case o:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,L),'"');case l:return e.push(t.data.replace(/[<&]/g,L));case u:return e.push("<![CDATA[",t.data,"]]>");case f:return e.push("\x3c!--",t.data,"--\x3e");case m:var C=t.publicId,E=t.systemId;if(e.push("<!DOCTYPE ",t.name),C)e.push(' PUBLIC "',C),E&&"."!=E&&e.push('" "',E),e.push('">');else if(E&&"."!=E)e.push(' SYSTEM "',E,'">');else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case d:return e.push("<?",t.target," ",t.data,"?>");case c:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function it(t,e,i){t[e]=i}S.prototype=Error.prototype,i(v,S),k.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)et(this[n],i,t,e);return i.join("")}},C.prototype.item=function(t){return E(this),this[t]},n(C,k),x.prototype={length:0,item:k.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new S(w);var i=this.getNamedItem(t.nodeName);return A(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e,i=t.ownerElement;if(i&&i!=this._ownerElement)throw new S(w);return e=this.getNamedItemNS(t.namespaceURI,t.localName),A(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return O(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return O(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}},I.prototype={hasFeature:function(t,e){var i=this._features[t.toLowerCase()];return!(!i||e&&!(e in i))},createDocument:function(t,e,i){var n=new M;if(n.implementation=this,n.childNodes=new k,n.doctype=i,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new W;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=i,n}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return j(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return B(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,i,n){var r=new i.constructor;for(var s in i){var l=i[s];"object"!=typeof l&&l!=r[s]&&(r[s]=l)}i.childNodes&&(r.childNodes=new k);r.ownerDocument=e;switch(r.nodeType){case a:var u=i.attributes,c=r.attributes=new x,h=u.length;c._ownerElement=r;for(var d=0;d<h;d++)r.setAttributeNode(t(e,u.item(d),!0));break;case o:n=!0}if(n)for(var f=i.firstChild;f;)r.appendChild(t(e,f,n)),f=f.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==l&&t.nodeType==l?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i)for(var n in i)if(i[n]==t)return n;e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==o?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},i(s,D),i(s,D.prototype),M.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==g){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return null==this.documentElement&&t.nodeType==a&&(this.documentElement=t),j(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),B(this,t)},importNode:function(t,e){return function t(e,i,n){var r;switch(i.nodeType){case a:(r=i.cloneNode(!1)).ownerDocument=e;case g:break;case o:n=!0}r||(r=i.cloneNode(!1));r.ownerDocument=e;r.parentNode=null;if(n)for(var s=i.firstChild;s;)r.appendChild(t(e,s,n)),s=s.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return R(this.documentElement,function(i){if(i.nodeType==a&&i.getAttribute("id")==t)return e=i,!0}),e},createElement:function(t){var e=new F;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new k,(e.attributes=new x)._ownerElement=e,e},createDocumentFragment:function(){var t=new K;return t.ownerDocument=this,t.childNodes=new k,t},createTextNode:function(t){var e=new q;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new z;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new $;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new Q;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new H;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new G;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new F,n=e.split(":"),r=i.attributes=new x;return i.childNodes=new k,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new H,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}},n(M,D),F.prototype={nodeType:a,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===g?this.insertBefore(t,null):function(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e),n=t.lastChild}return n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,U(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new C(this,function(e){var i=[];return R(e,function(n){n===e||n.nodeType!=a||"*"!==t&&n.tagName!=t||i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new C(this,function(i){var n=[];return R(i,function(r){r===i||r.nodeType!==a||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||n.push(r)}),n})}},M.prototype.getElementsByTagName=F.prototype.getElementsByTagName,M.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,n(F,D),H.prototype.nodeType=o,n(H,D),V.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(y[b])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){i=this.data.substring(0,t)+i+this.data.substring(t+e),this.nodeValue=this.data=i,this.length=i.length}},n(V,D),q.prototype={nodeName:"#text",nodeType:l,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(q,V),z.prototype={nodeName:"#comment",nodeType:f},n(z,V),$.prototype={nodeName:"#cdata-section",nodeType:u},n($,V),W.prototype.nodeType=m,n(W,D),X.prototype.nodeType=_,n(X,D),Y.prototype.nodeType=h,n(Y,D),G.prototype.nodeType=c,n(G,D),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=g,n(K,D),Q.prototype.nodeType=d,n(Q,D),Z.prototype.serializeToString=function(t,e,i){return J.call(t,e,i)},D.prototype.toString=J;try{if(Object.defineProperty){Object.defineProperty(C.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case a:case g:var i=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case a:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),it=function(t,e,i){t["$$"+e]=i}}}catch(t){}e.DOMImplementation=I,e.XMLSerializer=Z},function(t,e,i){"use strict";var n,r,s,a,o,l=i(3).toUnsigned,u=i(3).toHexString,c=i(2);n=function(t){return c.findBox(t,["moov","trak"]).reduce(function(t,e){var i,n,r,s,a;return(i=c.findBox(e,["tkhd"])[0])?(n=i[0],s=l(i[r=0===n?12:20]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3]),(a=c.findBox(e,["mdia","mdhd"])[0])?(r=0===(n=a[0])?12:20,t[s]=l(a[r]<<24|a[r+1]<<16|a[r+2]<<8|a[r+3]),t):null):null},{})},r=function(t,e){var i,n,r;return i=c.findBox(e,["moof","traf"]),n=[].concat.apply([],i.map(function(e){return c.findBox(e,["tfhd"]).map(function(i){var n,r;return n=l(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),r=t[n]||9e4,(c.findBox(e,["tfdt"]).map(function(t){var e,i;return e=t[0],i=l(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=l(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i})[0]||1/0)/r})})),r=Math.min.apply(null,n),isFinite(r)?r:0},s=function(t,e){var i,n=c.findBox(e,["moof","traf"]),r=0,s=0;if(n&&n.length)for(var a=c.parseTraf(n[0]),o=0;o<a.boxes.length;o++)"tfhd"===a.boxes[o].type?i=a.boxes[o].trackId:"tfdt"===a.boxes[o].type?r=a.boxes[o].baseMediaDecodeTime:"trun"===a.boxes[o].type&&a.boxes[o].samples.length&&(s=a.boxes[o].samples[0].compositionTimeOffset||0);return(r+s)/(t[i]||9e4)},a=function(t){var e=c.findBox(t,["moov","trak"]),i=[];return e.forEach(function(t){var e=c.findBox(t,["mdia","hdlr"]),n=c.findBox(t,["tkhd"]);e.forEach(function(t,e){var r,s,a=c.parseType(t.subarray(8,12)),o=n[e];"vide"===a&&(s=0===(r=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),i.push(s))})}),i},o=function(t){var e=c.findBox(t,["moov","trak"]),i=[];return e.forEach(function(t){var e,n,r={},s=c.findBox(t,["tkhd"])[0];s&&(n=(e=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0),r.id=0===n?e.getUint32(12):e.getUint32(20));var a=c.findBox(t,["mdia","hdlr"])[0];if(a){var o=c.parseType(a.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var h=c.findBox(t,["mdia","minf","stbl","stsd"])[0];if(h){var d=h.subarray(8);r.codec=c.parseType(d.subarray(4,8));var f,p=c.findBox(d,[r.codec])[0];p&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(f=p.subarray(78),"avcC"===c.parseType(f.subarray(4,8))&&f.length>11?(r.codec+=".",r.codec+=u(f[9]),r.codec+=u(f[10]),r.codec+=u(f[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(f=p.subarray(28),"esds"===c.parseType(f.subarray(4,8))&&f.length>20&&0!==f[19]?(r.codec+="."+u(f[19]),r.codec+="."+u(f[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var m=c.findBox(t,["mdia","mdhd"])[0];if(m&&s){var g=0===n?12:20;r.timescale=l(m[g]<<24|m[g+1]<<16|m[g+2]<<8|m[g+3])}i.push(r)}),i},t.exports={findBox:c.findBox,parseType:c.parseType,timescale:n,startTime:r,compositionStartTime:s,videoTrackIds:a,tracks:o}},function(t,e,i){"use strict";t.exports={parseSei:function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}e+=r,n=0,r=0}return i},parseUserData:function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var i,n,r,s,a=[];if(!(64&e[0]))return a;for(n=31&e[0],i=0;i<n;i++)s={type:3&e[2+(r=3*i)],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a},discardEmulationPreventionBytes:function(t){for(var e,i,n=t.byteLength,r=[],s=1;s<n-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=t[a];return i},USER_DATA_REGISTERED_ITU_T_T35:4}},function(t,e,i){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,s;if(i=t[e])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},n.prototype.push=function(t){this.trigger("data",t)},n.prototype.flush=function(t){this.trigger("done",t)},n.prototype.partialFlush=function(t){this.trigger("partialdone",t)},n.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},n.prototype.reset=function(t){this.trigger("reset",t)},t.exports=n},function(t,e,i){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e,i){"use strict";var n=r(i(15));function r(t){return t&&t.__esModule?t:{default:t}}(0,r(i(63)).default)(),$(document).ready(function(){new n.default})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(i(16)),r=d(i(54)),s=d(i(55)),a=d(i(56)),o=d(i(58)),l=d(i(59)),u=d(i(60)),c=d(i(61)),h=d(i(62));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slider=new n.default,this.main=new r.default,this.products=new s.default,this.supports=new a.default,this.sliderDetail=new o.default,this.flipClockCustom=new l.default,$("#signup-as-shop-form").length>0||$("#signup-test-drive").length>0)new u.default;if($(".signup-info-modal").length>0)new h.default;if($("#download-app-support-page").length>0)new c.default;this.bindEvents()}var e,i,d;return e=t,(i=[{key:"bindEvents",value:function(){$(".no-overlay").length>0&&$("#loading-overlay").length>0&&($("#loading-overlay").addClass("hidden"),$(document).trigger("remove-overlay")),setTimeout(function(){$("#loading-overlay").length>0&&!$("#loading-overlay").hasClass("hidden")&&$("#loading-overlay").addClass("hidden")},3e3)}}])&&f(e.prototype,i),d&&f(e,d),t}();e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=(n=i(17))&&n.__esModule?n:{default:n};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sliderOptions={arrows:!1,speed:1200,autoplay:!0,autoplaySpeed:5e3,pauseOnFocus:!1,pauseOnHover:!1,lazyLoad:"ondemand"},this.sliderOptions1={arrows:!1,speed:1500,autoplay:!1,pauseOnFocus:!1,pauseOnHover:!1,swipeToSlide:!0},this.videoPlayerArray=[],this.indexRefVideoArray=[],this.slider1VideoSlides=[],this.slider1=$("#slider-style-1"),this.slider1Paging=$("#slider-style-1-paging"),this.slider1CurrentPage=this.slider1Paging.find(".current-page"),this.slider1TotalPage=this.slider1Paging.find(".all-page"),this.slider1Indicator=$("#slider-style-1-indicator"),this.slider2=$("#slider-style-2"),this.slider2Paging=$("#slider-style-2-paging"),this.slider2CurrentPage=this.slider2Paging.find(".current-page"),this.slider2TotalPage=this.slider2Paging.find(".all-page"),this.slider3=$("#slider-style-3"),this.bindEvents()}var e,i,n;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.$sliderTimeout=null,this.$videoSlide=this.slider1.find(".main-content__slider__item"),this.videoPlayersControl=[],this.$videoSlide.each(function(e,i){$(i).hasClass("slide-video")?t.videoPlayersControl.push((0,r.default)($(i).find("video").get(0),{},function(){t.videoPlayersControl[e].pause(),t.videoPlayersControl[e].currentTime(0),t.videoPlayersControl[e].on("ended",function(){$("#slider-style-1 .main-content__slider__item").length>1?(t.slider1.slick("next"),t.videoPlayersControl[e].pause(),t.videoPlayersControl[e].currentTime(0)):(t.videoPlayersControl[e].pause(),t.videoPlayersControl[e].currentTime(0),t.videoPlayersControl[0].play())})})):t.videoPlayersControl.push(null)}),this.slider1.length>0&&(this.slider1.on("init reInit",function(e,i){var n=t.slider1Paging.find(".current-page.active");t.$currentSlide=t.slider1.find(".slick-active .main-content__slider__item");t.$currentSlide.hasClass("slide-video")?setTimeout(function(){t.videoPlayersControl[0].play()},800):t.$sliderTimeout=setTimeout(function(){t.slider1.slick("next")},5e3),n.html("01"),t.slider1TotalPage.html("0"+i.slideCount),t.slider1Paging.css("bottom",25*i.slideCount+15+"px"),$("#loading-overlay").length>0&&$("#loading-overlay").addClass("hidden")}),this.slider1.on("beforeChange",function(e,i,n,r){console.log("beforeChangge was called"),t.$sliderTimeout&&clearTimeout(t.$sliderTimeout);var s=t.slider1Paging.find(".current-page.active"),a=t.slider1Paging.find(".current-page.inactive");$(".slick-slide:nth-child("+(r+1)+") .slide-video video").length>0?t.videoPlayersControl[r].play():t.videoPlayersControl.forEach(function(t){null!==t&&(t.pause(),t.currentTime(0))});var o=r+1;s.removeClass("active").addClass("removed"),a.html("0"+o).removeClass("inactive").addClass("active")}),this.slider1.on("afterChange",function(e,i,n,r){t.$currentSlide=t.slider1.find(".slick-active .main-content__slider__item");t.$currentSlide.hasClass("slide-video")||(t.$sliderTimeout=setTimeout(function(){t.slider1.slick("next")},5e3));var s=t.slider1Paging.find(".current-page.removed");s&&s.removeClass("removed").addClass("inactive")}),this.slider1OBJ=this.slider1.slick(Object.assign({fade:!0,asNavFor:"#slider-style-1-indicator",dots:!0},this.sliderOptions1)),this.slider1Indicator.length>0&&this.slider1Indicator.slick(Object.assign({fade:!0,asNavFor:"#slider-style-1",autoplay:!1},this.sliderOptions1))),this.slider2.on("init reInit",function(e,i){t.slider2Paging.find(".current-page.active").html("01"),t.slider2TotalPage.html("0"+i.slideCount),t.slider2Paging.css("bottom",25*i.slideCount+15+"px")}),this.slider2.on("beforeChange",function(e,i,n,r){var s=t.slider2Paging.find(".current-page.active"),a=t.slider2Paging.find(".current-page.inactive"),o=r+1;s.removeClass("active").addClass("removed"),a.html("0"+o).removeClass("inactive").addClass("active")}),this.slider2.on("afterChange",function(){var e=t.slider2Paging.find(".current-page.removed");e&&e.removeClass("removed").addClass("inactive")}),this.slider2&&this.slider2.slick(Object.assign({fade:!0,dots:!0},this.sliderOptions)),this.slider3&&this.slider3.slick(Object.assign({fade:!0,dots:!1},this.sliderOptions))}}])&&s(e.prototype,i),n&&s(e,n),t}();e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i.n(n),s=i(4),a=i.n(s),o=i(5),l=i.n(o),u=i(6),c=i.n(u),h=i(19),d=(i.n(h),i(21)),f=(i.n(d),i(22)),p=i.n(f),m=i(23),g=i.n(m),_=i(24),v=i.n(_),y=i(25),b=i.n(y),T=i(28),w=i.n(T),S=i(32),k=i.n(S),C=i(34),E=i.n(C),x=i(8),P=i.n(x),A=i(35),O=i(36),I=i(2),D=i.n(I),L=i(10),R=i.n(L),M=i(45),N=i.n(M),U=i(47),B=i.n(U),j=i(52),F="7.8.4",H=[],V=function(t,e){return function(i,n,s){var a=e.levels[n],o=new RegExp("^("+a+")$");if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(t+":"),H){H.push([].concat(s));var l=H.length-1e3;H.splice(0,l>0?l:0)}if(r.a.console){var u=r.a.console[i];u||"debug"!==i||(u=r.a.console.info||r.a.console.log),u&&a&&o.test(i)&&u[Array.isArray(s)?"apply":"call"](r.a.console,s)}}};var q=function t(e){var i,n="info",r=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i("log",n,e)};return i=V(e,r),r.createLogger=function(i){return t(e+": "+i)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=function(t){if("string"==typeof t){if(!r.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');n=t}return n},(r.history=function(){return H?[].concat(H):[]}).filter=function(t){return(H||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},r.history.clear=function(){H&&(H.length=0)},r.history.disable=function(){null!==H&&(H.length=0,H=null)},r.history.enable=function(){null===H&&(H=[])},r.error=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i("error",n,e)},r.warn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i("warn",n,e)},r.debug=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return i("debug",n,e)},r}("VIDEOJS"),z=q.createLogger,$=Object.prototype.toString,W=function(t){return G(t)?Object.keys(t):[]};function X(t,e){W(t).forEach(function(i){return e(t[i],i)})}function Y(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?l.a.apply(void 0,[t].concat(i)):(i.forEach(function(e){e&&X(e,function(e,i){t[i]=e})}),t)}function G(t){return!!t&&"object"==typeof t}function K(t){return G(t)&&"[object Object]"===$.call(t)&&t.constructor===Object}function Q(t,e){if(!t||!e)return"";if("function"==typeof r.a.getComputedStyle){var i=r.a.getComputedStyle(t);return i?i.getPropertyValue(e)||i[e]:""}return""}function Z(t){return"string"==typeof t&&Boolean(t.trim())}function J(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function tt(){return a.a===r.a.document}function et(t){return G(t)&&1===t.nodeType}function it(){try{return r.a.parent!==r.a.self}catch(t){return!0}}function nt(t){return function(e,i){if(!Z(e))return a.a[t](null);Z(i)&&(i=a.a.querySelector(i));var n=et(i)?i:a.a;return n[t]&&n[t](e)}}function rt(t,e,i,n){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var r=a.a.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(q.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+i+"."),r.setAttribute(t,i)):"textContent"===t?st(r,i):r[t]!==i&&(r[t]=i)}),Object.getOwnPropertyNames(i).forEach(function(t){r.setAttribute(t,i[t])}),n&&kt(r,n),r}function st(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function at(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ot(t,e){return J(e),t.classList?t.classList.contains(e):(i=e,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function lt(t,e){return t.classList?t.classList.add(e):ot(t,e)||(t.className=(t.className+" "+e).trim()),t}function ut(t,e){return t.classList?t.classList.remove(e):(J(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function ct(t,e,i){var n=ot(t,e);if("function"==typeof i&&(i=i(t,e)),"boolean"!=typeof i&&(i=!n),i!==n)return i?lt(t,e):ut(t,e),t}function ht(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];null==n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)})}function dt(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,a=n[r].value;"boolean"!=typeof t[s]&&-1===i.indexOf(","+s+",")||(a=null!==a),e[s]=a}return e}function ft(t,e){return t.getAttribute(e)}function pt(t,e,i){t.setAttribute(e,i)}function mt(t,e){t.removeAttribute(e)}function gt(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function _t(){a.a.onselectstart=function(){return!0}}function vt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),i.height||(i.height=parseFloat(Q(t,"height"))),i.width||(i.width=parseFloat(Q(t,"width"))),i}}function yt(t){var e;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=a.a.documentElement,n=a.a.body,s=i.clientLeft||n.clientLeft||0,o=r.a.pageXOffset||n.scrollLeft,l=e.left+o-s,u=i.clientTop||n.clientTop||0,c=r.a.pageYOffset||n.scrollTop,h=e.top+c-u;return{left:Math.round(l),top:Math.round(h)}}function bt(t,e){var i={},n=yt(t),r=t.offsetWidth,s=t.offsetHeight,a=n.top,o=n.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(a-l+s)/s)),i.x=Math.max(0,Math.min(1,(u-o)/r)),i}function Tt(t){return G(t)&&3===t.nodeType}function wt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function St(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),et(t)||Tt(t)?t:"string"==typeof t&&/\S/.test(t)?a.a.createTextNode(t):void 0}).filter(function(t){return t})}function kt(t,e){return St(e).forEach(function(e){return t.appendChild(e)}),t}function Ct(t,e){return kt(wt(t),e)}function Et(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||("mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons))}var xt,Pt=nt("querySelector"),At=nt("querySelectorAll"),Ot=Object.freeze({__proto__:null,isReal:tt,isEl:et,isInFrame:it,createEl:rt,textContent:st,prependTo:at,hasClass:ot,addClass:lt,removeClass:ut,toggleClass:ct,setAttributes:ht,getAttributes:dt,getAttribute:ft,setAttribute:pt,removeAttribute:mt,blockTextSelection:gt,unblockTextSelection:_t,getBoundingClientRect:vt,findPosition:yt,getPointerPosition:bt,isTextNode:Tt,emptyEl:wt,normalizeContent:St,appendContent:kt,insertContent:Ct,isSingleLeftClick:Et,$:Pt,$$:At}),It=!1,Dt=function(){if(tt()&&!1!==xt.options.autoSetup){var t=Array.prototype.slice.call(a.a.getElementsByTagName("video")),e=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),i=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(var r=0,s=n.length;r<s;r++){var o=n[r];if(!o||!o.getAttribute){Lt(1);break}void 0===o.player&&null!==o.getAttribute("data-setup")&&xt(o)}else It||Lt(1)}};function Lt(t,e){e&&(xt=e),r.a.setTimeout(Dt,t)}function Rt(){It=!0,r.a.removeEventListener("load",Rt)}tt()&&("complete"===a.a.readyState?Rt():r.a.addEventListener("load",Rt));var Mt,Nt=function(t){var e=a.a.createElement("style");return e.className=t,e},Ut=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Bt=3;function jt(){return Bt++}r.a.WeakMap||(Mt=function(){function t(){this.vdata="vdata"+Math.floor(r.a.performance&&r.a.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(t,e){var i=t[this.vdata]||jt();return t[this.vdata]||(t[this.vdata]=i),this.data[i]=e,this},e.get=function(t){var e=t[this.vdata];if(e)return this.data[e];q("We have no data for this element",t)},e.has=function(t){return t[this.vdata]in this.data},e.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},t}());var Ft,Ht=r.a.WeakMap?new WeakMap:new Mt;function Vt(t,e){if(Ht.has(t)){var i=Ht.get(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Ht.delete(t)}}function qt(t,e,i,n){i.forEach(function(i){t(e,i,n)})}function zt(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||r.a.event;for(var s in t={},n)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&n.preventDefault||(t[s]=n[s]));if(t.target||(t.target=t.srcElement||a.a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var o=a.a.documentElement,l=a.a.body;t.pageX=t.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t.fixed_=!0,t}var $t=function(){if("boolean"!=typeof Ft){Ft=!1;try{var t=Object.defineProperty({},"passive",{get:function(){Ft=!0}});r.a.addEventListener("test",null,t),r.a.removeEventListener("test",null,t)}catch(t){}}return Ft},Wt=["touchstart","touchmove"];function Xt(t,e,i){if(Array.isArray(e))return qt(Xt,t,e,i);Ht.has(t)||Ht.set(t,{});var n=Ht.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=jt()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=zt(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),a=0,o=s.length;a<o&&!e.isImmediatePropagationStopped();a++)try{s[a].call(t,e,i)}catch(t){q.error(t)}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;$t()&&Wt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Yt(t,e,i){if(Ht.has(t)){var n=Ht.get(t);if(n.handlers){if(Array.isArray(e))return qt(Yt,t,e,i);var r=function(t,e){n.handlers[e]=[],Vt(t,e)};if(void 0!==e){var s=n.handlers[e];if(s)if(i){if(i.guid)for(var a=0;a<s.length;a++)s[a].guid===i.guid&&s.splice(a--,1);Vt(t,e)}else r(t,e)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o)}}}function Gt(t,e,i){var n=Ht.has(t)?Ht.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=zt(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)Gt.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Ht.has(e.target)||Ht.set(e.target,{});var s=Ht.get(e.target);e.target[e.type]&&(s.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Kt(t,e,i){if(Array.isArray(e))return qt(Kt,t,e,i);var n=function n(){Yt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||jt(),Xt(t,e,n)}function Qt(t,e,i){var n=function n(){Yt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||jt(),Xt(t,e,n)}var Zt,Jt=Object.freeze({__proto__:null,fixEvent:zt,on:Xt,off:Yt,trigger:Gt,one:Kt,any:Qt}),te=30,ee=function(t,e,i){e.guid||(e.guid=jt());var n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},ie=function(t,e){var i=r.a.performance.now();return function(){var n=r.a.performance.now();n-i>=e&&(t.apply(void 0,arguments),i=n)}},ne=function(t,e,i,n){var s;void 0===n&&(n=r.a);var a=function(){var r=this,a=arguments,o=function(){s=null,o=null,i||t.apply(r,a)};!s&&i&&t.apply(r,a),n.clearTimeout(s),s=n.setTimeout(o,e)};return a.cancel=function(){n.clearTimeout(s),s=null},a},re=function(){};re.prototype.allowedEvents_={},re.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Xt(this,t,e),this.addEventListener=i},re.prototype.addEventListener=re.prototype.on,re.prototype.off=function(t,e){Yt(this,t,e)},re.prototype.removeEventListener=re.prototype.off,re.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Kt(this,t,e),this.addEventListener=i},re.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Qt(this,t,e),this.addEventListener=i},re.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=zt(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Gt(this,t)},re.prototype.dispatchEvent=re.prototype.trigger,re.prototype.queueTrigger=function(t){var e=this;Zt||(Zt=new Map);var i=t.type||t,n=Zt.get(this);n||(n=new Map,Zt.set(this,n));var s=n.get(i);n.delete(i),r.a.clearTimeout(s);var a=r.a.setTimeout(function(){0===n.size&&(n=null,Zt.delete(e)),e.trigger(t)},0);n.set(i,a)};var se=function(t){return t instanceof re||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},ae=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},oe=function(t){if(!t.nodeName&&!se(t))throw new Error("Invalid target; must be a DOM node or evented object.")},le=function(t){if(!ae(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ue=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},ce=function(t,e){var i,n,r,s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return s?(i=t.eventBusEl_,e.length>=3&&e.shift(),n=e[0],r=e[1]):(i=e[0],n=e[1],r=e[2]),oe(i),le(n),ue(r),{isTargetingSelf:s,target:i,type:n,listener:r=ee(t,r)}},he=function(t,e,i,n){oe(t),t.nodeName?Jt[e](t,i,n):t[e](i,n)},de={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ce(this,i),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(he(a,"on",o,l),!s){var u=function(){return t.off(a,o,l)};u.guid=l.guid;var c=function(){return t.off("dispose",u)};c.guid=l.guid,he(this,"on","dispose",u),he(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ce(this,i),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(s)he(a,"one",o,l);else{var u=function e(){t.off(a,o,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,he(a,"one",o,u)}},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ce(this,i),s=r.isTargetingSelf,a=r.target,o=r.type,l=r.listener;if(s)he(a,"any",o,l);else{var u=function e(){t.off(a,o,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];l.apply(null,n)};u.guid=l.guid,he(a,"any",o,u)}},off:function(t,e,i){if(!t||ae(t))Yt(this.eventBusEl_,t,e);else{var n=t,r=e;oe(n),le(r),ue(i),i=ee(this,i),this.off("dispose",i),n.nodeName?(Yt(n,r,i),Yt(n,"dispose",i)):se(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){return Gt(this.eventBusEl_,t,e)}};function fe(t,e){void 0===e&&(e={});var i=e.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=rt("span",{className:"vjs-event-bus"});return Y(t,de),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",function(){t.off(),r.a.setTimeout(function(){t.eventBusEl_=null},0)}),t}var pe={state:{},setState:function(t){var e,i=this;return"function"==typeof t&&(t=t()),X(t,function(t,n){i.state[n]!==t&&((e=e||{})[n]={from:i.state[n],to:t}),i.state[n]=t}),e&&se(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function me(t,e){return Y(t,pe),t.state=Y({},t.state,e),"function"==typeof t.handleStateChanged&&se(t)&&t.on("statechanged",t.handleStateChanged),t}var ge=function(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toLowerCase()})},_e=function(t){return"string"!=typeof t?t:t.replace(/./,function(t){return t.toUpperCase()})};function ve(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){e&&X(e,function(e,i){K(e)?(K(t[i])||(t[i]={}),t[i]=ve(t[i],e)):t[i]=e})}),t}var ye=function(){function t(t,e,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ve({},this.options_),e=this.options_=ve(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+jt()}var s;this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&fe(this,{eventBusKey:this.el_?"el_":null}),me(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},r.a.Set||(s=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var i in this.set_)t.call(e,i,i,this)},t}()),this.setTimeoutIds_=r.a.Set?new Set:new s,this.setIntervalIds_=r.a.Set?new Set:new s,this.rafIds_=r.a.Set?new Set:new s,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ht.has(this.el_)&&Ht.delete(this.el_),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(t){return t?(this.options_=ve(this.options_,t),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(t,e,i){return rt(t,e,i)},e.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],a=n&&n.split("-")[0],o=r&&r[a],l=i;return s&&s[t]?l=s[t]:o&&o[t]&&(l=o[t]),e&&(l=l.replace(/\{(\d+)\}/g,function(t,i){var n=e[i-1],r=n;return void 0===n&&(r=t),r})),l},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(t){return this.childIndex_[t]},e.getChild=function(t){if(t)return this.childNameIndex_[t]},e.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce(function(t,e){return t.concat(e)},[]);for(var n=this,r=0;r<e.length;r++)if(!(n=n.getChild(e[r]))||!n.getChild)return;return n},e.addChild=function(e,i,n){var r,s;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),"string"==typeof e){s=_e(e);var a=i.componentClass||s;i.name=s;var o=t.getComponent(a);if(!o)throw new Error("Component "+a+" does not exist");if("function"!=typeof o)return null;r=new o(this.player_||this,i)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(s=s||r.name&&_e(r.name()))&&(this.childNameIndex_[s]=r,this.childNameIndex_[ge(s)]=r),"function"==typeof r.el&&r.el()){var l=null;this.children_[n+1]&&(this.children_[n+1].el_?l=this.children_[n+1].el_:et(this.children_[n+1])&&(l=this.children_[n+1])),this.contentEl().insertBefore(r.el(),l)}return r},e.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[_e(t.name())]=null,this.childNameIndex_[ge(t.name())]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},e.initChildren=function(){var e=this,i=this.options_.children;if(i){var n,r=this.options_,s=t.getComponent("Tech");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!n.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var n,r;return"string"==typeof t?r=i[n=t]||e.options_[n]||{}:(n=t.name,r=t),{name:n,opts:r}}).filter(function(e){var i=t.getComponent(e.opts.componentClass||_e(e.name));return i&&!s.isTech(i)}).forEach(function(t){var i=t.name,n=t.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=e.options_.playerOptions;var s=e.addChild(i,n);s&&(e[i]=s)}})}},e.buildCSSClass=function(){return""},e.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},e.$=function(t,e){return Pt(t,e||this.contentEl())},e.$$=function(t,e){return At(t,e||this.contentEl())},e.hasClass=function(t){return ot(this.el_,t)},e.addClass=function(t){lt(this.el_,t)},e.removeClass=function(t){ut(this.el_,t)},e.toggleClass=function(t,e){ct(this.el_,t,e)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(t){return ft(this.el_,t)},e.setAttribute=function(t,e){pt(this.el_,t,e)},e.removeAttribute=function(t){mt(this.el_,t)},e.width=function(t,e){return this.dimension("width",t,e)},e.height=function(t,e){return this.dimension("height",t,e)},e.dimensions=function(t,e){this.width(t,!0),this.height(e)},e.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+_e(t)],10)},e.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=Q(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var i="offset"+_e(t);e=this.el_[i]}return e},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},e.handleKeyPress=function(t){this.handleKeyDown(t)},e.emitTapEvents=function(){var t,e=0,i=null;this.on("touchstart",function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=r.a.performance.now(),t=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)t=!1;else if(i){var n=e.touches[0].pageX-i.pageX,r=e.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(t=!1)}});var n=function(){t=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){(i=null,!0===t)&&(r.a.performance.now()-e<200&&(n.preventDefault(),this.trigger("tap")))})},e.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=ee(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},e.setTimeout=function(t,e){var i,n=this;return t=ee(this,t),this.clearTimersOnDispose_(),i=r.a.setTimeout(function(){n.setTimeoutIds_.has(i)&&n.setTimeoutIds_.delete(i),t()},e),this.setTimeoutIds_.add(i),i},e.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),r.a.clearTimeout(t)),t},e.setInterval=function(t,e){t=ee(this,t),this.clearTimersOnDispose_();var i=r.a.setInterval(t,e);return this.setIntervalIds_.add(i),i},e.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),r.a.clearInterval(t)),t},e.requestAnimationFrame=function(t){var e,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=ee(this,t),e=r.a.requestAnimationFrame(function(){i.rafIds_.has(e)&&i.rafIds_.delete(e),t()}),this.rafIds_.add(e),e):this.setTimeout(t,1e3/60)},e.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),r.a.cancelAnimationFrame(t)),t):this.clearTimeout(t)},e.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var i=e[0],n=e[1];t[i].forEach(t[n],t)}),t.clearingTimersOnDispose_=!1}))},t.registerComponent=function(e,i){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n,r=t.getComponent("Tech"),s=r&&r.isTech(i),a=t===i||t.prototype.isPrototypeOf(i.prototype);if(s||!a)throw n=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+n+".");e=_e(e),t.components_||(t.components_={});var o=t.getComponent("Player");if("Player"===e&&o&&o.players){var l=o.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(t){return l[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,t.components_[ge(e)]=i,i},t.getComponent=function(e){if(e&&t.components_)return t.components_[e]},t}();ye.prototype.supportsRaf_="function"==typeof r.a.requestAnimationFrame&&"function"==typeof r.a.cancelAnimationFrame,ye.registerComponent("Component",ye);var be,Te=r.a.navigator&&r.a.navigator.userAgent||"",we=/AppleWebKit\/([\d.]+)/i.exec(Te),Se=we?parseFloat(we.pop()):null,ke=/iPod/i.test(Te),Ce=(be=Te.match(/OS (\d+)_/i))&&be[1]?be[1]:null,Ee=/Android/i.test(Te),xe=function(){var t=Te.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),Pe=Ee&&xe<5&&Se<537,Ae=/Firefox/i.test(Te),Oe=/Edg/i.test(Te),Ie=!Oe&&(/Chrome/i.test(Te)||/CriOS/i.test(Te)),De=function(){var t=Te.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Le=function(){var t=/MSIE\s(\d+)\.\d/.exec(Te),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Te)&&/rv:11.0/.test(Te)&&(e=11),e}(),Re=/Safari/i.test(Te)&&!Ie&&!Ee&&!Oe,Me=/Windows/i.test(Te),Ne=tt()&&("ontouchstart"in r.a||r.a.navigator.maxTouchPoints||r.a.DocumentTouch&&r.a.document instanceof r.a.DocumentTouch),Ue=/iPad/i.test(Te)||Re&&Ne&&!/iPhone/i.test(Te),Be=/iPhone/i.test(Te)&&!Ue,je=Be||Ue||ke,Fe=(Re||je)&&!Ie,He=Object.freeze({__proto__:null,IS_IPOD:ke,IOS_VERSION:Ce,IS_ANDROID:Ee,ANDROID_VERSION:xe,IS_NATIVE_ANDROID:Pe,IS_FIREFOX:Ae,IS_EDGE:Oe,IS_CHROME:Ie,CHROME_VERSION:De,IE_VERSION:Le,IS_SAFARI:Re,IS_WINDOWS:Me,TOUCH_ENABLED:Ne,IS_IPAD:Ue,IS_IPHONE:Be,IS_IOS:je,IS_ANY_SAFARI:Fe});function Ve(t,e,i,n){return function(t,e,i){if("number"!=typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}(t,n,i.length-1),i[n][e]}function qe(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Ve.bind(null,"start",0,t),end:Ve.bind(null,"end",1,t)}}function ze(t,e){return Array.isArray(t)?qe(t):void 0===t||void 0===e?qe():qe([[t,e]])}function $e(t,e){var i,n,r=0;if(!e)return 0;t&&t.length||(t=ze(0,0));for(var s=0;s<t.length;s++)i=t.start(s),(n=t.end(s))>e&&(n=e),r+=n-i;return r/e}for(var We,Xe={prefixed:!0},Ye=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ge=Ye[0],Ke=0;Ke<Ye.length;Ke++)if(Ye[Ke][1]in a.a){We=Ye[Ke];break}if(We){for(var Qe=0;Qe<We.length;Qe++)Xe[Ge[Qe]]=We[Qe];Xe.prefixed=We[0]!==Ge[0]}function Ze(t){if(t instanceof Ze)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:G(t)&&("number"==typeof t.code&&(this.code=t.code),Y(this,t)),this.message||(this.message=Ze.defaultMessages[this.code]||"")}Ze.prototype.code=0,Ze.prototype.message="",Ze.prototype.status=null,Ze.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Ze.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Je=0;Je<Ze.errorTypes.length;Je++)Ze[Ze.errorTypes[Je]]=Je,Ze.prototype[Ze.errorTypes[Je]]=Je;function ti(t){return null!=t&&"function"==typeof t.then}function ei(t){ti(t)&&t.then(null,function(t){})}var ii=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,i,n){return t[i]&&(e[i]=t[i]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},ni=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=ii(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(ii))},ri=function(t,e){return t.forEach(function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),e.textTracks()},si="vjs-modal-dialog",ai=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=rt("div",{className:si+"-content"},{role:"document"}),n.descEl_=rt("p",{className:si+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),st(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return si+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},i.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),Ct(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},i.empty=function(){this.trigger("beforemodalempty"),wt(this.contentEl()),this.trigger("modalempty")},i.content=function(t){return void 0!==t&&(this.content_=t),this.content_},i.conditionalFocus_=function(){var t=a.a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(t){if(t.stopPropagation(),v.a.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(v.a.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(n===i[r]){e=r;break}a.a.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},i.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof r.a.HTMLAnchorElement||t instanceof r.a.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.a.HTMLInputElement||t instanceof r.a.HTMLSelectElement||t instanceof r.a.HTMLTextAreaElement||t instanceof r.a.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.a.HTMLIFrameElement||t instanceof r.a.HTMLObjectElement||t instanceof r.a.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},e}(ye);ai.prototype.options_={pauseOnOpen:!0,temporary:!0},ye.registerComponent("ModalDialog",ai);var oi=function(t){function e(e){var i;void 0===e&&(e=[]),(i=t.call(this)||this).tracks_=[],Object.defineProperty(c()(i),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)i.addTrack(e[n]);return i}p()(e,t);var i=e.prototype;return i.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},i.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){(e=this[i]).off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(re);for(var li in oi.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},oi.prototype.allowedEvents_)oi.prototype["on"+li]=null;var ui=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},ci=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].enabled){ui(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,i}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.enabled&&ui(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){i.changing_||(i.changing_=!0,ui(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(oi),hi=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},di=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].selected){hi(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,Object.defineProperty(c()(i),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.selected&&hi(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){i.changing_||(i.changing_=!0,hi(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(oi),fi=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(oi),pi=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),mi=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},e.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),gi={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},_i={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},vi={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},yi={disabled:"disabled",hidden:"hidden",showing:"showing"},bi=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this)||this;var n={id:e.id||"vjs_track_"+jt(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(c()(i),t,{get:function(){return n[t]},set:function(){}})};for(var s in n)r(s);return i}return p()(e,t),e}(re),Ti=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=a.a.createElement("a");i.href=t;var n,s=""===i.host&&"file:"!==i.protocol;s&&((n=a.a.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=n.firstChild,n.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(n));for(var o={},l=0;l<e.length;l++)o[e[l]]=i[e[l]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=r.a.location.protocol),s&&a.a.body.removeChild(n),o},wi=function(t){if(!t.match(/^https?:\/\//)){var e=a.a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},Si=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},ki=function(t,e){void 0===e&&(e=r.a.location);var i=Ti(t);return(":"===i.protocol?e.protocol:i.protocol)+i.host!==e.protocol+e.host},Ci=Object.freeze({__proto__:null,parseUrl:Ti,getAbsoluteURL:wi,getFileExtension:Si,isCrossOrigin:ki}),Ei=function(t,e){var i=new r.a.WebVTT.Parser(r.a,r.a.vttjs,r.a.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(r.a.console&&r.a.console.groupCollapsed&&r.a.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach(function(t){return q.error(t)}),r.a.console&&r.a.console.groupEnd&&r.a.console.groupEnd()),i.flush()},xi=function(t,e){var i={uri:t},n=ki(t);n&&(i.cors=n),b()(i,ee(this,function(t,i,n){if(t)return q.error(t,i);e.loaded_=!0,"function"!=typeof r.a.WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],function(t){if("vttjserror"!==t.type)return Ei(n,e);q.error("vttjs failed to load, stopping trying to process "+e.src)}):Ei(n,e)}))},Pi=function(t){function e(e){var i;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var n=ve(e,{kind:vi[e.kind]||"subtitles",language:e.language||e.srclang||""}),r=yi[n.mode]||"disabled",s=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(r="hidden"),(i=t.call(this,n)||this).tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var a=new mi(i.cues_),o=new mi(i.activeCues_),l=!1,u=ee(c()(i),function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==r&&i.tech_.ready(function(){i.tech_.on("timeupdate",u)},!0),Object.defineProperties(c()(i),{default:{get:function(){return s},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;yi[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||xi(this.src,this),"disabled"!==r?this.tech_.ready(function(){e.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return o;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(l=!1,e.length!==this.activeCues_.length)l=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(l=!0);return this.activeCues_=e,o.setCues_(this.activeCues_),o},set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||s||"subtitles"!==n.kind&&"captions"!==n.kind)&&xi(i.src,c()(i))):i.loaded_=!0,i}p()(e,t);var i=e.prototype;return i.addCue=function(t){var e=t;if(r.a.vttjs&&!(t instanceof r.a.vttjs.VTTCue)){for(var i in e=new r.a.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var e=this.cues_.length;e--;){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(bi);Pi.prototype.allowedEvents_={cuechange:"cuechange"};var Ai=function(t){function e(e){var i;void 0===e&&(e={});var n=ve(e,{kind:_i[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return p()(e,t),e}(bi),Oi=function(t){function e(e){var i;void 0===e&&(e={});var n=ve(e,{kind:gi[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(c()(i),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return p()(e,t),e}(bi),Ii=0,Di=2,Li=function(t){function e(e){var i,n;void 0===e&&(e={}),i=t.call(this)||this;var r=new Pi(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(c()(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=Ii,r.addEventListener("loadeddata",function(){n=Di,i.trigger({type:"load",target:c()(i)})}),i}return p()(e,t),e}(re);Li.prototype.allowedEvents_={load:"load"},Li.NONE=Ii,Li.LOADING=1,Li.LOADED=Di,Li.ERROR=3;var Ri={audio:{ListClass:ci,TrackClass:Ai,capitalName:"Audio"},video:{ListClass:di,TrackClass:Oi,capitalName:"Video"},text:{ListClass:fi,TrackClass:Pi,capitalName:"Text"}};Object.keys(Ri).forEach(function(t){Ri[t].getterName=t+"Tracks",Ri[t].privateName=t+"Tracks_"});var Mi={remoteText:{ListClass:fi,TrackClass:Pi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:pi,TrackClass:Li,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ni=l()({},Ri,Mi);Mi.names=Object.keys(Mi),Ri.names=Object.keys(Ri),Ni.names=[].concat(Mi.names).concat(Ri.names);var Ui=function(t){function e(e,i){var n;return void 0===e&&(e={}),void 0===i&&(i=function(){}),e.reportTouchActivity=!1,(n=t.call(this,null,e,i)||this).hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Ni.names.forEach(function(t){var i=Ni[t];e&&e[i.getterName]&&(n[i.privateName]=e[i.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(n["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==e.preloadTextTracks,n.autoRemoteTextTracks_=new Ni.text.ListClass,n.initTrackListeners(),e.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}p()(e,t);var i=e.prototype;return i.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ee(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(t){this.duration_=this.duration()},i.buffered=function(){return ze(0,0)},i.bufferedPercent=function(){return $e(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(Ri.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach(function(t){for(var i=e[t+"Tracks"]()||[],n=i.length;n--;){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}})},i.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var i=t[e];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.error=function(t){return void 0!==t&&(this.error_=new Ze(t),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?ze(0,0):ze()},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var t=this;Ri.names.forEach(function(e){var i=Ri[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},i.addWebVttScript_=function(){var t=this;if(!r.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&K(w.a)&&Object.keys(w.a).length>0)return void this.trigger("vttjsloaded");var e=a.a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),r.a.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},a=function(){s();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",s)}})},i.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,i,n,r){void 0===r&&(r={});var s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new Ni.text.TrackClass(r);return s.addTrack(a),a}(this,t,e,i)},i.createRemoteTextTrack=function(t){var e=ve(t,{tech:this});return new Mi.remoteTextEl.TrackClass(e)},i.addRemoteTextTrack=function(t,e){var i=this;void 0===t&&(t={});var n=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(q.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},i.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var t=this.options_.Promise||r.a.Promise;if(t)return t.reject()},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,i){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=_e(t),e.techs_[t]=i,e.techs_[ge(t)]=i,"Tech"!==t&&e.defaultTechOrder_.push(t),i},e.getTech=function(t){if(t)return e.techs_&&e.techs_[t]?e.techs_[t]:(t=_e(t),r.a&&r.a.videojs&&r.a.videojs[t]?(q.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.a.videojs[t]):void 0)},e}(ye);Ni.names.forEach(function(t){var e=Ni[t];Ui.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),Ui.prototype.featuresVolumeControl=!0,Ui.prototype.featuresMuteControl=!0,Ui.prototype.featuresFullscreenResize=!1,Ui.prototype.featuresPlaybackRate=!1,Ui.prototype.featuresProgressEvents=!1,Ui.prototype.featuresSourceset=!1,Ui.prototype.featuresTimeupdateEvents=!1,Ui.prototype.featuresNativeTextTracks=!1,Ui.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i,n=t.sourceHandlers||[],r=0;r<n.length;r++)if(i=n[r].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(e,i))return n[r];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:q.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ye.registerComponent("Tech",Ui),Ui.registerTech("Tech",Ui),Ui.defaultTechOrder_=[];var Bi={},ji={},Fi={};function Hi(t,e,i){t.setTimeout(function(){return function t(e,i,n,r,s,a){void 0===e&&(e={});void 0===i&&(i=[]);void 0===s&&(s=[]);void 0===a&&(a=!1);var o=i,l=o[0],u=o.slice(1);if("string"==typeof l)t(e,Bi[l],n,r,s,a);else if(l){var c=function(t,e){var i=ji[t.id()],n=null;if(null==i)return n=e(t),ji[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var s=i[r],a=s[0],o=s[1];a===e&&(n=o)}null===n&&(n=e(t),i.push([e,n]));return n}(r,l);if(!c.setSource)return s.push(c),t(e,u,n,r,s,a);c.setSource(Y({},e),function(i,o){if(i)return t(e,u,n,r,s,a);s.push(c),t(o,e.type===o.type?u:Bi[o.type],n,r,s,a)})}else u.length?t(e,u,n,r,s,a):a?n(e,s):t(e,Bi["*"],n,r,s,!0)}(e,Bi[e.type],i,t)},1)}function Vi(t,e,i,n){void 0===n&&(n=null);var r="call"+_e(i),s=t.reduce(Wi(r),n),a=s===Fi,o=a?null:e[i](s);return function(t,e,i,n){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](n,i)}}(t,i,o,a),o}var qi={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},zi={setCurrentTime:1,setMuted:1,setVolume:1},$i={play:1,pause:1};function Wi(t){return function(e,i){return e===Fi?Fi:i[t]?i[t](e):e}}var Xi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Yi=function(t){void 0===t&&(t="");var e=Si(t);return Xi[e.toLowerCase()]||""};function Gi(t){if(!t.type){var e=Yi(t.src);e&&(t.type=e)}return t}var Ki=function(t){function e(e,i,n){var r,s=ve({createEl:!1},i);if(r=t.call(this,e,s,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var a=0,o=i.playerOptions.techOrder;a<o.length;a++){var l=_e(o[a]),u=Ui.getTech(l);if(l||(u=ye.getComponent(l)),u&&u.isSupported()){e.loadTech_(l);break}}return r}return p()(e,t),e}(ye);ye.registerComponent("MediaLoader",Ki);var Qi=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).emitTapEvents(),n.enable(),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===n&&(n={}),i=Y({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&q.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=Y({role:"button"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(t){return this.controlTextEl_=rt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},i.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,st(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},i.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){v.a.isEventKey(e,"Space")||v.a.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ye);ye.registerComponent("ClickableComponent",Qi);var Zi=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update(),e.on("posterchange",ee(c()(n),n.update)),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){return rt("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},i.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(Le||Oe)&&e||this.player_.tech(!0).focus(),this.player_.paused()?ei(this.player_.play()):this.player_.pause()}},e}(Qi);ye.registerComponent("PosterImage",Zi);var Ji={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function tn(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function en(t,e,i){try{t.style[e]=i}catch(t){return}}var nn=function(t){function e(e,i,n){var s;s=t.call(this,e,i,n)||this;var a=ee(c()(s),s.updateDisplay);return e.on("loadstart",ee(c()(s),s.toggleDisplay)),e.on("texttrackchange",a),e.on("loadedmetadata",ee(c()(s),s.preselectTrack)),e.ready(ee(c()(s),function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)this.hide();else{e.on("fullscreenchange",a),e.on("playerresize",a),r.a.addEventListener("orientationchange",a),e.on("dispose",function(){return r.a.removeEventListener("orientationchange",a)});for(var t=this.options_.playerOptions.tracks||[],i=0;i<t.length;i++)this.player_.addRemoteTextTrack(t[i],!0);this.preselectTrack()}})),s}p()(e,t);var i=e.prototype;return i.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var o=r[a];s&&s.enabled&&s.language&&s.language===o.language&&o.kind in n?o.kind===s.kind?i=o:i||(i=o):s&&!s.enabled?(i=null,t=null,e=null):o.default&&("descriptions"!==o.kind||t?o.kind in n&&!e&&(e=o):t=o)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof r.a.WebVTT&&r.a.WebVTT.processCues(r.a,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var i=[],n=0;n<t.length;++n){var r=t[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var s=null,a=null,o=t.length;o--;){var l=t[o];"showing"===l.mode&&("descriptions"===l.kind?s=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):s&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}},i.updateDisplayState=function(t){for(var e=this.player_.textTrackSettings.getValues(),i=t.activeCues,n=i.length;n--;){var s=i[n];if(s){var a=s.displayState;if(e.color&&(a.firstChild.style.color=e.color),e.textOpacity&&en(a.firstChild,"color",tn(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(a.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&en(a.firstChild,"backgroundColor",tn(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?en(a,"backgroundColor",tn(e.windowColor,e.windowOpacity)):a.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent){var o=r.a.parseFloat(a.style.fontSize);a.style.fontSize=o*e.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Ji[e.fontFamily])}}},i.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof r.a.WebVTT&&!t.every(function(t){return!t.activeCues})){for(var e=[],i=0;i<t.length;++i)for(var n=t[i],s=0;s<n.activeCues.length;++s)e.push(n.activeCues[s]);r.a.WebVTT.processCues(r.a,e,this.el_);for(var a=0;a<t.length;++a){for(var o=t[a],l=0;l<o.activeCues.length;++l){var u=o.activeCues[l].displayState;lt(u,"vjs-text-track-cue"),lt(u,"vjs-text-track-cue-"+(o.language?o.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(o)}}},e}(ye);ye.registerComponent("TextTrackDisplay",nn);var rn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=rt("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(ye);ye.registerComponent("LoadingSpinner",rn);var sn=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={}),e=Y({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=Y({type:"button"},i);var n=ye.prototype.createEl.call(this,"button",e,i);return this.createControlTextEl(n),n},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return q.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),ye.prototype.addChild.call(this,t,e)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){v.a.isEventKey(e,"Space")||v.a.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(Qi);ye.registerComponent("Button",sn);var an=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return ei(e),void(!this.player_.tech(!0)||(Le||Oe)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var s=function(){return r.focus()};ti(e)?e.then(s,function(){}):this.setTimeout(s,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(sn);an.prototype.controlText_="Play Video",ye.registerComponent("BigPlayButton",an);var on=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).controlText(i&&i.controlText||n.localize("Close")),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){v.a.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(sn);ye.registerComponent("CloseButton",on);var ln=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,i.replay=void 0===i.replay||i.replay,n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),i.replay&&n.on(e,"ended",n.handleEnded),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(sn);ln.prototype.controlText_="Play",ye.registerComponent("PlayToggle",ln);var un=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),(r=r>0||a>0?r+":":"")+(n=((r||s>=10)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)},cn=un;function hn(t,e){return void 0===e&&(e=t),cn(t,e)}var dn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,["timeupdate","ended"],n.updateContent),n.updateTextNode_(),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=rt("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=hn(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestAnimationFrame(function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=a.a.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}}))},i.updateContent=function(t){},e}(ye);dn.prototype.labelText_="Time",dn.prototype.controlText_="Time",ye.registerComponent("TimeDisplay",dn);var fn=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(dn);fn.prototype.labelText_="Current Time",fn.prototype.controlText_="Current Time",ye.registerComponent("CurrentTimeDisplay",fn);var pn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.updateContent),n.on(e,"loadstart",n.updateContent),n.on(e,"loadedmetadata",n.updateContent),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(dn);pn.prototype.labelText_="Duration",pn.prototype.controlText_="Duration",ye.registerComponent("DurationDisplay",pn);var mn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(ye);ye.registerComponent("TimeDivider",mn);var gn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.updateContent),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(rt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(dn);gn.prototype.labelText_="Remaining Time",gn.prototype.controlText_="Remaining Time",ye.registerComponent("RemainingTimeDisplay",gn);var _n=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=rt("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(ye);ye.registerComponent("LiveDisplay",_n);var vn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateLiveEdgeStatus(),n.player_.liveTracker&&n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatus),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=rt("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(sn);vn.prototype.controlText_="Seek to live, currently playing live",ye.registerComponent("SeekToLive",vn);var yn=function(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))},bn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}p()(e,t);var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+" vjs-slider",i=Y({tabIndex:0},i),n=Y({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},i.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Ie||t.preventDefault(),gt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;_t(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_?e:(this.progress_=e,this.requestAnimationFrame(function(){var i=t.vertical()?"height":"width";t.bar.el().style[i]=(100*e).toFixed(2)+"%"}),e)}},i.getProgress=function(){return Number(yn(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(t){var e=bt(this.el_,t);return this.vertical()?e.y:e.x},i.handleKeyDown=function(e){v.a.isEventKey(e,"Left")||v.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):v.a.isEventKey(e,"Right")||v.a.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){t.stopPropagation(),t.preventDefault()},i.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ye);ye.registerComponent("Slider",bn);var Tn=function(t,e){return yn(t/e*100,0,100).toFixed(2)+"%"},wn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).partEls_=[],n.on(e,"progress",n.update),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=rt("span",{className:"vjs-control-text"}),n=rt("span",{textContent:this.localize("Loaded")}),r=a.a.createTextNode(": ");return this.percentageEl_=rt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(r),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestAnimationFrame(function(){var t=e.player_.liveTracker,i=e.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),s=e.partEls_,a=Tn(r,n);e.percent_!==a&&(e.el_.style.width=a,st(e.percentageEl_,a),e.percent_=a);for(var o=0;o<i.length;o++){var l=i.start(o),u=i.end(o),c=s[o];c||(c=e.el_.appendChild(rt()),s[o]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=Tn(l,r),c.style.width=Tn(u-l,r))}for(var h=s.length;h>i.length;h--)e.el_.removeChild(s[h-1]);s.length=i.length})},e}(ye);ye.registerComponent("LoadProgressBar",wn);var Sn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=ie(ee(c()(n),n.update),te),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=vt(this.el_),r=vt(this.player_.el()),s=t.width*e;if(r&&n){var a=t.left-r.left+s,o=t.width-s+(r.right-t.right),l=n.width/2;a<l?l+=l-a:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",this.write(i)}},i.write=function(t){st(this.el_,t)},i.updateTime=function(t,e,i,n){var r=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var s,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var o=r.player_.liveTracker.liveWindow(),l=o-e*o;s=(l<1?"":"-")+hn(l,o)}else s=hn(i,a);r.update(t,e,s),n&&n()})},e}(ye);ye.registerComponent("TimeTooltip",Sn);var kn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=ie(ee(c()(n),n.update),te),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,e){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,e,n)}},e}(ye);kn.prototype.options_={children:[]},je||Ee||kn.prototype.options_.children.push("timeTooltip"),ye.registerComponent("PlayProgressBar",kn);var Cn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=ie(ee(c()(n),n.update),te),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,function(){i.el_.style.left=t.width*e+"px"})},e}(ye);Cn.prototype.options_={children:["timeTooltip"]},ye.registerComponent("MouseTimeDisplay",Cn);var En=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).setEventHandlers_(),n}p()(e,t);var i=e.prototype;return i.setEventHandlers_=function(){this.update_=ee(this,this.update),this.update=ie(this.update_,te),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.on(a.a,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){a.a.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,te))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var i=this,n=t.prototype.update.call(this);return this.requestAnimationFrame(function(){var t=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),e=i.player_.liveTracker,r=i.player_.duration();e&&e.isLive()&&(r=i.player_.liveTracker.liveCurrentTime()),i.percent_!==n&&(i.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),i.percent_=n),i.currentTime_===t&&i.duration_===r||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[hn(t,r),hn(r,r)],"{1} of {2}")),i.currentTime_=t,i.duration_=r),i.bar&&i.bar.update(vt(i.el()),i.getProgress())}),n},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){Et(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(Et(t)){var e,i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),s=n.liveCurrentTime();if((e=r+i*n.liveWindow())>=s&&(e=s),e<=r&&(e=r+.1),e===1/0)return}else(e=i*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ei(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(v.a.isEventKey(e,"Space")||v.a.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(v.a.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(v.a.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(v()(e))){e.preventDefault(),e.stopPropagation();var i=10*(v.a.codes[v()(e)]-v.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*i)}else v.a.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):v.a.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.off(a.a,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(bn);En.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},je||Ee||En.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),ye.registerComponent("SeekBar",En);var xn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handleMouseMove=ie(ee(c()(n),n.handleMouseMove),te),n.throttledHandleMouseSeek=ie(ee(c()(n),n.handleMouseSeek),te),n.enable(),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("playProgressBar"),n=e.getChild("mouseTimeDisplay");if(i||n){var r=e.el(),s=vt(r),a=bt(r,t).x;a=yn(0,1,a),n&&n.update(s,a),i&&i.update(s,e.getProgress())}}},i.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},i.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(ye);xn.prototype.options_={children:["seekBar"]},ye.registerComponent("ProgressControl",xn);var Pn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],n.handlePictureInPictureChange),a.a.pictureInPictureEnabled||n.disable(),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(sn);Pn.prototype.controlText_="Picture-in-Picture",ye.registerComponent("PictureInPictureToggle",Pn);var An=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"fullscreenchange",n.handleFullscreenChange),!1===a.a[e.fsApi_.fullscreenEnabled]&&n.disable(),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(sn);An.prototype.controlText_="Fullscreen",ye.registerComponent("FullscreenToggle",An);var On=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},In=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(ye);ye.registerComponent("VolumeLevel",In);var Dn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){Et(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(t){Et(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(bn);Dn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Dn.prototype.playerEvent="volumechange",ye.registerComponent("VolumeBar",Dn);var Ln=function(t){function e(e,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||K(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=t.call(this,e,i)||this,On(c()(n),e),n.throttledHandleMouseMove=ie(ee(c()(n),n.handleMouseMove),te),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(ye);Ln.prototype.options_={children:["volumeBar"]},ye.registerComponent("VolumeControl",Ln);var Rn=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Mn=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,Rn(c()(n),e),n.on(e,["loadstart","volumechange"],n.update),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;je&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)ut(this.el_,"vjs-vol-"+i);lt(this.el_,"vjs-vol-"+e)},i.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(sn);Mn.prototype.controlText_="Mute",ye.registerComponent("MuteToggle",Mn);var Nn=function(t){function e(e,i){var n;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||K(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(n=t.call(this,e,i)||this).on(e,["loadstart"],n.volumePanelState_),n.on(n.muteToggle,"keyup",n.handleKeyPress),n.on(n.volumeControl,"keyup",n.handleVolumeControlKeyUp),n.on("keydown",n.handleKeyPress),n.on("mouseover",n.handleMouseOver),n.on("mouseout",n.handleMouseOut),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}p()(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){v.a.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),Xt(a.a,"keyup",ee(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),Yt(a.a,"keyup",ee(this,this.handleKeyPress))},i.handleKeyPress=function(t){v.a.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(ye);Nn.prototype.options_={children:["muteToggle","volumeControl"]},ye.registerComponent("VolumePanel",Nn);var Un=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyDown),n.boundHandleBlur_=ee(c()(n),n.handleBlur),n.boundHandleTapClick_=ee(c()(n),n.handleTapClick),n}p()(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof ye&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof ye&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=rt(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),Xt(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||a.a.activeElement;if(!this.children().some(function(t){return t.el()===e})){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter(function(e){return e.el()===t.target})[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){v.a.isEventKey(t,"Left")||v.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(v.a.isEventKey(t,"Right")||v.a.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(ye);ye.registerComponent("Menu",Un);var Bn=function(t){function e(e,i){var n;void 0===i&&(i={}),(n=t.call(this,e,i)||this).menuButton_=new sn(e,i),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var r=sn.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+r,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"keydown",n.handleKeyDown),n.on(n.menuButton_,"mouseenter",function(){n.addClass("vjs-hover"),n.menu.show(),Xt(a.a,"keyup",ee(c()(n),n.handleMenuKeyUp))}),n.on("mouseleave",n.handleMouseLeave),n.on("keydown",n.handleSubmenuKeyDown),n}p()(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Un(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=rt("li",{className:"vjs-menu-title",innerHTML:_e(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new ye(this.player_,{el:e});t.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+sn.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Yt(a.a,"keyup",ee(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){v.a.isEventKey(t,"Esc")||v.a.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),v.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(v.a.isEventKey(t,"Up")||v.a.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(v.a.isEventKey(t,"Esc")||v.a.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(v.a.isEventKey(t,"Esc")||v.a.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),v.a.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),je&&it())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ye);ye.registerComponent("MenuButton",Bn);var jn=function(t){function e(e,i){var n,r=i.tracks;if((n=t.call(this,e,i)||this).items.length<=1&&n.hide(),!r)return c()(n);var s=ee(c()(n),n.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),n.player_.on("ready",s),n.player_.on("dispose",function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)}),n}return p()(e,t),e}(Bn);ye.registerComponent("TrackButton",jn);var Fn=["Tab","Esc","Up","Down","Right","Left"],Hn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",Y({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},i.handleKeyDown=function(e){Fn.some(function(t){return v.a.isEventKey(e,t)})||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Qi);ye.registerComponent("MenuItem",Hn);var Vn=function(t){function e(e,i){var n,s=i.track,o=e.textTracks();i.label=s.label||s.language||"Unknown",i.selected="showing"===s.mode,(n=t.call(this,e,i)||this).track=s,n.kinds=(i.kinds||[i.kind||n.track.kind]).filter(Boolean);var l,u=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)},h=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleSelectedLanguageChange.apply(c()(n),e)};(e.on(["loadstart","texttrackchange"],u),o.addEventListener("change",u),o.addEventListener("selectedlanguagechange",h),n.on("dispose",function(){e.off(["loadstart","texttrackchange"],u),o.removeEventListener("change",u),o.removeEventListener("selectedlanguagechange",h)}),void 0===o.onchange)&&n.on(["tap","click"],function(){if("object"!=typeof r.a.Event)try{l=new r.a.Event("change")}catch(t){}l||(l=a.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)});return n.handleTracksChange(),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){var i=this.track,n=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var s=n[r];-1!==this.kinds.indexOf(s.kind)&&(s===i?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled"))}},i.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},i.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Hn);ye.registerComponent("TextTrackMenuItem",Vn);var qn=function(t){function e(e,i){return i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,e,i)||this}p()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Vn);ye.registerComponent("OffTextTrackMenuItem",qn);var zn=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.textTracks(),t.call(this,e,i)||this}return p()(e,t),e.prototype.createItems=function(t,e){var i;void 0===t&&(t=[]),void 0===e&&(e=Vn),this.label_&&(i=this.label_+" off"),t.push(new qn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(this.kinds_.indexOf(s.kind)>-1){var a=new e(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+s.kind+"-menu-item"),t.push(a)}}return t},e}(jn);ye.registerComponent("TextTrackButton",zn);var $n=function(t){function e(e,i){var n,r=i.track,s=i.cue,a=e.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=a&&a<s.endTime,(n=t.call(this,e,i)||this).track=r,n.cue=s,r.addEventListener("cuechange",ee(c()(n),n.update)),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(Hn);ye.registerComponent("ChaptersTrackMenuItem",$n);var Wn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(_e(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],s=new $n(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(zn);Wn.prototype.kind_="chapters",Wn.prototype.controlText_="Chapters",ye.registerComponent("ChaptersButton",Wn);var Xn=function(t){function e(e,i,n){var r;r=t.call(this,e,i,n)||this;var s=e.textTracks(),a=ee(c()(r),r.handleTracksChange);return s.addEventListener("change",a),r.on("dispose",function(){s.removeEventListener("change",a)}),r}p()(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zn);Xn.prototype.kind_="descriptions",Xn.prototype.controlText_="Descriptions",ye.registerComponent("DescriptionsButton",Xn);var Yn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zn);Yn.prototype.kind_="subtitles",Yn.prototype.controlText_="Subtitles",ye.registerComponent("SubtitlesButton",Yn);var Gn=function(t){function e(e,i){var n;return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(n=t.call(this,e,i)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+i.kind+" settings dialog"),n}return p()(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Vn);ye.registerComponent("CaptionSettingsMenuItem",Gn);var Kn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Gn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(zn);Kn.prototype.kind_="captions",Kn.prototype.controlText_="Captions",ye.registerComponent("CaptionsButton",Kn);var Qn=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,Y({innerHTML:r},i),n)},e}(Vn);ye.registerComponent("SubsCapsMenuItem",Qn);var Zn=function(t){function e(e,i){var n;return void 0===i&&(i={}),(n=t.call(this,e,i)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(_e(n.label_)),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Gn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Qn)},e}(zn);Zn.prototype.kinds_=["captions","subtitles"],Zn.prototype.controlText_="Subtitles",ye.registerComponent("SubsCapsButton",Zn);var Jn=function(t){function e(e,i){var n,r=i.track,s=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,(n=t.call(this,e,i)||this).track=r,n.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(c()(n),e)};return s.addEventListener("change",a),n.on("dispose",function(){s.removeEventListener("change",a)}),n}p()(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,Y({innerHTML:r},i),n)},i.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Hn);ye.registerComponent("AudioTrackMenuItem",Jn);var tr=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.audioTracks(),t.call(this,e,i)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new Jn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(jn);tr.prototype.controlText_="Audio Track",ye.registerComponent("AudioTrackButton",tr);var er=function(t){function e(e,i){var n,r=i.rate,s=parseFloat(r,10);return i.label=r,i.selected=1===s,i.selectable=!0,i.multiSelectable=!1,(n=t.call(this,e,i)||this).label=r,n.rate=s,n.on(e,"ratechange",n.update),n}p()(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Hn);er.prototype.contentElType="button",ye.registerComponent("PlaybackRateMenuItem",er);var ir=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}p()(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=rt("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var t=new Un(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new er(this.player(),{rate:e[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Bn);ir.prototype.controlText_="Playback Rate",ye.registerComponent("PlaybackRateMenuButton",ir);var nr=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(ye);ye.registerComponent("Spacer",nr);var rr=function(t){function e(){return t.apply(this,arguments)||this}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(nr);ye.registerComponent("CustomControlSpacer",rr);var sr=function(t){function e(){return t.apply(this,arguments)||this}return p()(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ye);sr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a.a&&sr.prototype.options_.children.splice(sr.prototype.options_.children.length-1,0,"pictureInPictureToggle"),ye.registerComponent("ControlBar",sr);var ar=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"error",n.open),n}p()(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(ai);ar.prototype.options_=l()({},ai.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ye.registerComponent("ErrorDisplay",ar);var or=["#000","Black"],lr=["#00F","Blue"],ur=["#0FF","Cyan"],cr=["#0F0","Green"],hr=["#F0F","Magenta"],dr=["#F00","Red"],fr=["#FFF","White"],pr=["#FF0","Yellow"],mr=["1","Opaque"],gr=["0.5","Semi-Transparent"],_r=["0","Transparent"],vr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[or,fr,dr,cr,lr,pr,hr,ur]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,gr,_r]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[fr,or,dr,cr,lr,pr,hr,ur]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,gr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[_r,gr,mr]}};function yr(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}vr.windowColor.options=vr.backgroundColor.options;var br=function(t){function e(e,i){var n;return i.temporary=!1,(n=t.call(this,e,i)||this).updateDisplay=ee(c()(n),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=rt("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===i.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),X(vr,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var r=vr[t],s=r.id.replace("%s",this.id_),a=[e,s].join(" ").trim();return["<"+i+' id="'+s+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map(function(t){var e=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',n.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return rt("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return rt("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return rt("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t,e,i,n=this;return e=function(t,e,i){var r,s,a=(r=n.$(e.selector),s=e.parser,yr(r.options[r.options.selectedIndex].value,s));return void 0!==a&&(t[i]=a),t},void 0===(i={})&&(i=0),W(t=vr).reduce(function(i,n){return e(i,t[n],n)},i)},i.setValues=function(t){var e=this;X(vr,function(i,n){!function(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(yr(t.options[n].value,i)===e){t.selectedIndex=n;break}}(e.$(i.selector),t[n],i.parser)})},i.setDefaults=function(){var t=this;X(vr,function(e){var i=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=i})},i.restoreSettings=function(){var t;try{t=JSON.parse(r.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){q.warn(t)}t&&this.setValues(t)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):r.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){q.warn(t)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},e}(ai);ye.registerComponent("TextTrackSettings",br);var Tr=function(t){function e(e,i){var n,s=i.ResizeObserver||r.a.ResizeObserver;null===i.ResizeObserver&&(s=!1);var a=ve({createEl:!s,reportTouchActivity:!1},i);return(n=t.call(this,e,a)||this).ResizeObserver=i.ResizeObserver||r.a.ResizeObserver,n.loadListener_=null,n.resizeObserver_=null,n.debouncedHandler_=ne(function(){n.resizeHandler()},100,!1,c()(n)),s?(n.resizeObserver_=new n.ResizeObserver(n.debouncedHandler_),n.resizeObserver_.observe(e.el())):(n.loadListener_=function(){if(n.el_&&n.el_.contentWindow){var t=n.debouncedHandler_,e=n.unloadListener_=function(){Yt(this,"resize",t),Yt(this,"unload",e),e=null};Xt(n.el_.contentWindow,"unload",e),Xt(n.el_.contentWindow,"resize",t)}},n.one("load",n.loadListener_)),n}p()(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(ye);ye.registerComponent("ResizeManager",Tr);var wr={trackingThreshold:30,liveTolerance:15},Sr=function(t){function e(e,i){var n,r=ve(wr,i,{createEl:!1});return(n=t.call(this,e,r)||this).reset_(),n.on(n.player_,"durationchange",n.handleDurationchange),Le&&"hidden"in a.a&&"visibilityState"in a.a&&n.on(a.a,"visibilitychange",n.handleVisibilityChange),n}p()(e,t);var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a.a.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var t=this.player_.seekable();if(t&&t.length){var e=Number(r.a.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(e-this.lastTime_)/1e3;this.lastTime_=e,this.pastSeekEnd_=this.pastSeekEnd()+i;var n=this.liveCurrentTime(),s=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,te),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},i.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},i.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},i.seekableStart=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.start(i));return e.length?e.sort()[0]:0},i.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(a.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),t.prototype.dispose.call(this)},e}(ye);ye.registerComponent("LiveTracker",Sr);var kr,Cr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var a=i[s].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},Er=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=a.a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var i=a.a.createDocumentFragment();e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",r.a.Element.prototype.appendChild.call(this,i),this.innerHTML}}),xr=function(t,e){for(var i={},n=0;n<t.length&&!((i=Object.getOwnPropertyDescriptor(t[n],e))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},Pr=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=function(t){return xr([t.el(),r.a.HTMLMediaElement.prototype,r.a.Element.prototype,Er],"innerHTML")}(t),s=function(i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a=i.apply(e,r);return Cr(t),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(i[t]=e[t],e[t]=s(i[t]))}),Object.defineProperty(e,"innerHTML",ve(n,{set:s(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach(function(t){e[t]=i[t]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},Ar=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?wi(r.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.a.Element.prototype.setAttribute.call(this,"src",t),t}}),Or=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=function(t){return xr([t.el(),r.a.HTMLMediaElement.prototype,Ar],"src")}(t),n=e.setAttribute,s=e.load;Object.defineProperty(e,"src",ve(i,{set:function(n){var r=i.set.call(e,n);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(i,r){var s=n.call(e,i,r);return/src/i.test(i)&&t.triggerSourceset(e.src),s},e.load=function(){var i=s.call(e);return Cr(t)||(t.triggerSourceset(""),Pr(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):Cr(t)||Pr(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=s,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Ir=function(t,e,i,n){void 0===n&&(n=!0);var r=function(i){return Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0})},s={configurable:!0,enumerable:!0,get:function(){var t=i();return r(t),t}};return n&&(s.set=r),Object.defineProperty(t,e,s)},Dr=function(t){function e(e,i){var n;n=t.call(this,e,i)||this;var r=e.source,s=!1;if(r&&(n.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(r):n.handleLateInit_(n.el_),e.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var a=n.el_.childNodes,o=a.length,l=[];o--;){var u=a[o];"track"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),s||n.el_.hasAttribute("crossorigin")||!ki(u.src)||(s=!0)):l.push(u))}for(var c=0;c<l.length;c++)n.el_.removeChild(l[c])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&s&&q.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(Ne||Be||Pe)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}p()(e,t);var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){Or(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",function(){return e.removeEventListener("change",i)});var n=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)})},i.overrideNative_=function(t,e){var i=this;if(e===this["featuresNative"+t+"Tracks"]){var n=t.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(t){i.el()[n+"Tracks"].removeEventListener(t,i[n+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},i.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},i.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},i.proxyNativeTracksForType_=function(t){var e=this,i=Ri[t],n=this.el()[i.getterName],r=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var s={change:function(i){var n={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(n),"text"===t&&e[Mi.remoteText.getterName]().trigger(n)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,s=0;s<n.length;s++)if(n[s]===r[e]){i=!0;break}i||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[i.getterName+"Listeners_"]=s,Object.keys(s).forEach(function(t){var i=s[t];n.addEventListener(t,i),e.on("dispose",function(e){return n.removeEventListener(t,i)})}),this.on("loadstart",a),this.on("dispose",function(t){return e.off("loadstart",a)})}},i.proxyNativeTracks_=function(){var t=this;Ri.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},i.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=a.a.createElement("video");var n=ve({},this.options_.tag&&dt(this.options_.tag));Ne&&!0===this.options_.nativeControlsForTouch||delete n.controls,ht(t,Y(n,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&pt(t,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],s=0;s<r.length;s++){var o=r[s],l=this.options_[o];void 0!==l&&(l?pt(t,o,o):mt(t,o),t[o]=l)}return t},i.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},i.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){q(t,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.el_.duration===1/0&&Ee&&Ie&&0===this.el_.currentTime){return this.on("timeupdate",function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)})}},i.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=r.a.navigator&&r.a.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)ei(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},i.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(t){this.el_.controls=!!t},i.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},i.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=a.a.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},i.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},i.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var i=this.$$("track"),n=i.length;n--;)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.a.performance&&"function"==typeof r.a.performance.now?t.creationTime=r.a.performance.now():r.a.performance&&r.a.performance.timing&&"number"==typeof r.a.performance.timing.navigationStart&&(t.creationTime=r.a.Date.now()-r.a.performance.timing.navigationStart),t},e}(Ui);Ir(Dr,"TEST_VID",function(){if(tt()){var t=a.a.createElement("video"),e=a.a.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}}),Dr.isSupported=function(){try{Dr.TEST_VID.volume=.5}catch(t){return!1}return!(!Dr.TEST_VID||!Dr.TEST_VID.canPlayType)},Dr.canPlayType=function(t){return Dr.TEST_VID.canPlayType(t)},Dr.canPlaySource=function(t,e){return Dr.canPlayType(t.type)},Dr.canControlVolume=function(){try{var t=Dr.TEST_VID.volume;return Dr.TEST_VID.volume=t/2+.1,t!==Dr.TEST_VID.volume}catch(t){return!1}},Dr.canMuteVolume=function(){try{var t=Dr.TEST_VID.muted;return Dr.TEST_VID.muted=!t,Dr.TEST_VID.muted?pt(Dr.TEST_VID,"muted","muted"):mt(Dr.TEST_VID,"muted"),t!==Dr.TEST_VID.muted}catch(t){return!1}},Dr.canControlPlaybackRate=function(){if(Ee&&Ie&&De<58)return!1;try{var t=Dr.TEST_VID.playbackRate;return Dr.TEST_VID.playbackRate=t/2+.1,t!==Dr.TEST_VID.playbackRate}catch(t){return!1}},Dr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Dr.supportsNativeTextTracks=function(){return Fe||je&&Ie},Dr.supportsNativeVideoTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.videoTracks)},Dr.supportsNativeAudioTracks=function(){return!(!Dr.TEST_VID||!Dr.TEST_VID.audioTracks)},Dr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];Ir(Dr.prototype,e,function(){return Dr[i]()},!0)}),Dr.prototype.movingMediaElementInDOM=!je,Dr.prototype.featuresFullscreenResize=!0,Dr.prototype.featuresProgressEvents=!0,Dr.prototype.featuresTimeupdateEvents=!0,Dr.patchCanPlayType=function(){xe>=4&&!Ae&&!Ie&&(kr=Dr.TEST_VID&&Dr.TEST_VID.constructor.prototype.canPlayType,Dr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":kr.call(this,t)})},Dr.unpatchCanPlayType=function(){var t=Dr.TEST_VID.constructor.prototype.canPlayType;return kr&&(Dr.TEST_VID.constructor.prototype.canPlayType=kr),t},Dr.patchCanPlayType(),Dr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Dr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Dr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Dr.prototype["set"+_e(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Dr.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","crossOrigin"].forEach(function(t){Dr.prototype["set"+_e(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Dr.prototype[t]=function(){return this.el_[t]()}}),Ui.withSourceHandlers(Dr),Dr.nativeSourceHandler={},Dr.nativeSourceHandler.canPlayType=function(t){try{return Dr.TEST_VID.canPlayType(t)}catch(t){return""}},Dr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Dr.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=Si(t.src);return Dr.nativeSourceHandler.canPlayType("video/"+i)}return""},Dr.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Dr.nativeSourceHandler.dispose=function(){},Dr.registerSourceHandler(Dr.nativeSourceHandler),Ui.registerTech("Html5",Dr);var Lr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Rr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Mr=["tiny","xsmall","small","medium","large","xlarge","huge"],Nr={};Mr.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Nr[t]="vjs-layout-"+e});var Ur={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Br=function(t){function e(i,n,r){var s;if(i.id=i.id||n.id||"vjs_video_"+jt(),(n=Y(e.getTagSettings(i),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var o=i.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=i;l&&1===l.nodeType;){if(dt(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if((s=t.call(this,null,n,r)||this).boundDocumentFullscreenChange_=ee(c()(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=ee(c()(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=z(s.id_),s.fsApi_=Xe,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=i,s.tagAttributes=i&&dt(i),s.language(s.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(t){u[t.toLowerCase()]=n.languages[t]}),s.languages_=u}else s.languages_=e.prototype.options_.languages;s.resetCache_(),s.poster_=n.poster||"",s.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],i.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')}),s.scrubbing_=!1,s.el_=s.createEl(),fe(c()(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(Xt(a.a,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var h=ve(s.options_);n.plugins&&Object.keys(n.plugins).forEach(function(t){s[t](n.plugins[t])}),s.options_.playerOptions=h,s.middleware_=[],s.initChildren(),s.isAudio("audio"===i.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),Ne&&s.addClass("vjs-touch-enabled"),je||s.addClass("vjs-workinghover"),e.players[s.id_]=c()(s);var d=F.split(".")[0];return s.addClass("vjs-v"+d),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}p()(e,t);var i=e.prototype;return i.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),Yt(a.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Yt(a.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ji[this.id()]=null,Ni.names.forEach(function(t){var e=Ni[t],n=i[e.getterName]();n&&n.off&&n.off()}),t.prototype.dispose.call(this)},i.createEl=function(){var e,i=this.tag,n=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=i.parentNode:s||(e=this.el_=t.prototype.createEl.call(this,"div"));var o=dt(i);if(s){for(e=this.el_=i,i=this.tag=a.a.createElement("video");e.children.length;)i.appendChild(e.firstChild);ot(e,"video-js")||lt(e,"video-js"),e.appendChild(i),n=this.playerElIngest_=e,Object.keys(e).forEach(function(t){try{i[t]=e[t]}catch(t){}})}if(i.setAttribute("tabindex","-1"),o.tabindex="-1",(Le||Ie&&Me)&&(i.setAttribute("role","application"),o.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(t){s&&"class"===t||e.setAttribute(t,o[t]),s&&i.setAttribute(t,o[t])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=e.player=this,this.addClass("vjs-paused"),!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Nt("vjs-styles-dimensions");var l=Pt(".vjs-styles-defaults"),u=Pt("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=i.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);lt(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!n&&i.parentNode.insertBefore(e,i),at(i,e),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_=e,e},i.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):q.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e||"auto"===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?q.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},i.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,i;this.fluid_=!!t,se(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),se(e=function(){this.on("playerreset",this.updateStyleEl_)})?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE){var t,e,i,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),s=n[1]/n[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Ut(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,o="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(a>=0&&(l.width=a),o>=0&&(l.height=o))}},i.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=_e(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(Ui.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Ni.names.forEach(function(t){var e=Ni[t];s[e.getterName]=i[e.privateName]}),Y(s,this.options_[n]),Y(s,this.options_[r]),Y(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var a=Ui.getTech(t);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(s),this.tech_.ready(ee(this,this.handleTechReady_),!0),ri(this.textTracksJson_||[],this.tech_),Lr.forEach(function(t){i.on(i.tech_,t,i["handleTech"+_e(t)+"_"])}),Object.keys(Rr).forEach(function(t){i.on(i.tech_,t,function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Rr[t]+"_"].bind(i),event:e}):i["handleTech"+Rr[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||at(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var t=this;Ni.names.forEach(function(e){var i=Ni[e];t[i.privateName]=t[i.getterName]()}),this.textTracksJson_=ni(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(t){return void 0===t&&q.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},i.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var i,n=function(){var t=e.muted();e.muted(!0);var i=function(){e.muted(t)};e.playTerminatedQueue_.push(i);var n=e.play();if(ti(n))return n.catch(i)};if("any"===t&&!0!==this.muted()?ti(i=this.play())&&(i=i.catch(n)):i="muted"===t&&!0!==this.muted()?n():this.play(),ti(i))return i.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(i){e.trigger({type:"autoplay-failure",autoplay:t})})}},i.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,i="";"string"!=typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(t){return t.src===e});if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return Yi(e)}(this,e)),this.cache_.source=ve({},t,{src:e,type:i});for(var n=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],s=this.$$("source"),a=[],o=0;o<s.length;o++){var l=dt(s[o]);r.push(l),l.src&&l.src===e&&a.push(l.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},i.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),t.src||this.tech_.any(["sourceset","loadstart"],function(t){if("sourceset"!==t.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},i.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",function i(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",i))})},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(q.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(t){Et(t)&&this.controls_&&(this.paused()?ei(this.play()):this.pause())},i.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(t){t.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),n=a.a[this.fsApi_.fullscreenElement]===i;!n&&i.matches?n=i.matches(":"+this.fsApi_.fullscreen):!n&&i.msMatchesSelector&&(n=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}},i.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},i.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var t=this.tech_.error();this.error(t)},i.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},i.techCall_=function(t,e){this.ready(function(){if(t in zi)return function(t,e,i,n){return e[i](t.reduce(Wi(i),n))}(this.middleware_,this.tech_,t,e);if(t in $i)return Vi(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw q(t),t}},!0)},i.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in qi)return function(t,e,i){return t.reduceRight(Wi(i),e[i]())}(this.middleware_,this.tech_,t);if(t in $i)return Vi(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw q("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw q("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw q(e),e}}},i.play=function(){var t=this,e=this.options_.Promise||r.a.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},i.play_=function(t){var e=this;void 0===t&&(t=ei),this.playCallbacks_.push(t);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!Fe&&!je||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},i.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(t){t()})},i.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach(function(e){e(t)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return!1!==this.techGet_("paused")},i.played=function(){return this.techGet_("played")||ze(0,0)},i.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=ze(0,0)),t},i.bufferedPercent=function(){return $e(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},i.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},i.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},i.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},i.requestFullscreen=function(t){var e=this.options_.Promise||r.a.Promise;if(e){var i=this;return new e(function(e,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",s)}function s(){r(),e()}function a(t,e){r(),n(e)}i.one("fullscreenchange",s),i.one("fullscreenerror",a);var o=i.requestFullscreenHelper_(t);if(o)return o.then(r,r),o})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(t){var e,i=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](e);return n&&n.then(function(){return i.isFullscreen(!0)},function(){return i.isFullscreen(!1)}),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var t=this.options_.Promise||r.a.Promise;if(t){var e=this;return new t(function(t,i){function n(){e.off("fullscreenerror",s),e.off("fullscreenchange",r)}function r(){n(),t()}function s(t,e){n(),i(e)}e.one("fullscreenchange",r),e.one("fullscreenerror",s);var a=e.exitFullscreenHelper_();if(a)return a.then(n,n),a})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=a.a[this.fsApi_.exitFullscreen]();return e&&e.then(function(){return t.isFullscreen(!1)}),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,Xt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow="hidden",lt(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){v.a.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Yt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow=this.docOrigOverflow,ut(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return a.a.exitPictureInPicture()},i.handleKeyDown=function(t){var e=this.options_.userActions;if(e&&e.hotkeys){(function(t){var e=t.tagName.toLowerCase();if(t.isContentEditable)return!0;if("input"===e)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type);return-1!==["textarea"].indexOf(e)})(this.el_.ownerDocument.activeElement)||("function"==typeof e.hotkeys?e.hotkeys.call(this,t):this.handleHotkeys(t))}},i.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,n=void 0===i?function(t){return v.a.isEventKey(t,"f")}:i,r=e.muteKey,s=void 0===r?function(t){return v.a.isEventKey(t,"m")}:r,o=e.playPauseKey,l=void 0===o?function(t){return v.a.isEventKey(t,"k")||v.a.isEventKey(t,"Space")}:o;if(n.call(this,t)){t.preventDefault(),t.stopPropagation();var u=ye.getComponent("FullscreenToggle");!1!==a.a[this.fsApi_.fullscreenEnabled]&&u.prototype.handleClick.call(this,t)}else if(s.call(this,t)){t.preventDefault(),t.stopPropagation(),ye.getComponent("MuteToggle").prototype.handleClick.call(this,t)}else if(l.call(this,t)){t.preventDefault(),t.stopPropagation(),ye.getComponent("PlayToggle").prototype.handleClick.call(this,t)}},i.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=Ui.getTech(r);if(s||(s=ye.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t)))return e}else q.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var e,i=this,n=this.options_.techOrder.map(function(t){return[t,Ui.getTech(t)]}).filter(function(t){var e=t[0],i=t[1];return i?i.isSupported():(q.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(t,e,i){var n;return t.some(function(t){return e.some(function(e){if(n=i(t,e))return!0})}),n},s=function(t,e){var n=t[0];if(t[1].canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}};return(this.options_.sourceOrder?r(t,n,(e=s,function(t,i){return e(i,t)})):r(n,t,s))||!1},i.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var i=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):G(e)&&i.push(e)}),e=i}else e="string"==typeof e&&e.trim()?[Gi({src:e})]:G(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Gi(e)]:[];return e}(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Hi(this,i[0],function(t,n){var r,s;if(e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t),e.src_(t))return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());r=n,s=e.tech_,r.forEach(function(t){return t.setTech&&t.setTech(s)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},i.src_=function(t){var e,i,n=this,r=this.selectSource([t]);return!r||(e=r.tech,i=this.techName_,_e(e)!==_e(i)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1))},i.load=function(){this.techCall_("load")},i.reset=function(){var t=this,e=this.options_.Promise||r.a.Promise;this.paused()||!e?this.doReset_():ei(this.play().then(function(){return t.doReset_()}))},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),se(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,i=t.remainingTimeDisplay;e&&e.updateContent(),i&&i.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},i.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},i.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},i.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},i.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",function(){this.off(["click","touchstart"],e)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Ze(t),this.addClass("vjs-error"),q.error("(CODE:"+this.error_.code+" "+Ze.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},i.reportUserActivity=function(t){this.userActivity_=!0},i.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var t,e,i,n=ee(this,this.reportUserActivity),r=function(e){n(),this.clearInterval(t)};this.on("mousedown",function(){n(),this.clearInterval(t),t=this.setInterval(n,250)}),this.on("mousemove",function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())}),this.on("mouseup",r),this.on("mouseleave",r);var s,a=this.getChild("controlBar");!a||je||Ee||(a.on("mouseenter",function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},i.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},i.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},i.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},i.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},i.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},i.languages=function(){return ve(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var t=ve(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];(n=ve(n)).player=void 0,t.tracks[i]=n}return t},i.createModal=function(t,e){var i=this;(e=e||{}).content=t||"";var n=new ai(this,e);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},i.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Mr.length;i++){var n=Mr[i];if(e<=this.breakpoints_[n]){if(t===n)return;t&&this.removeClass(Nr[t]),this.addClass(Nr[n]),this.breakpoint_=n;break}}},i.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},i.breakpoints=function(t){return void 0===t?Y(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Y({},Ur,t),this.updateCurrentBreakpoint_(),Y(this.breakpoints_))},i.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Nr[this.breakpoint_]||""},i.loadMedia=function(t,e){var i=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=ve(t);var n=this.cache_.media,r=n.artwork,s=n.poster,a=n.src,o=n.textTracks;!r&&s&&(this.cache_.media.artwork=[{src:s,type:Yi(s)}]),a&&this.src(a),s&&this.poster(s),Array.isArray(o)&&o.forEach(function(t){return i.addRemoteTextTrack(t,!1)}),this.ready(e)}},i.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}})};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Yi(e.poster)}]),e}return ve(this.cache_.media)},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=dt(t),n=i["data-setup"];if(ot(t,"vjs-fill")&&(i.fill=!0),ot(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=g()(n||"{}"),s=r[0],a=r[1];s&&q.error(s),Y(i,a)}if(Y(e,i),t.hasChildNodes())for(var o=t.childNodes,l=0,u=o.length;l<u;l++){var c=o[l],h=c.nodeName.toLowerCase();"source"===h?e.sources.push(dt(c)):"track"===h&&e.tracks.push(dt(c))}return e},i.flexNotSupported_=function(){var t=a.a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(ye);Ni.names.forEach(function(t){var e=Ni[t];Br.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Br.prototype.crossorigin=Br.prototype.crossOrigin,Br.players={};var jr=r.a.navigator;Br.prototype.options_={techOrder:Ui.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:jr&&(jr.languages&&jr.languages[0]||jr.userLanguage||jr.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Br.prototype[t]=function(){return this.techGet_(t)}}),Lr.forEach(function(t){Br.prototype["handleTech"+_e(t)+"_"]=function(){return this.trigger(t)}}),ye.registerComponent("Player",Br);var Fr={},Hr=function(t){return Fr.hasOwnProperty(t)},Vr=function(t){return Hr(t)?Fr[t]:void 0},qr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},zr=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},$r=function(t,e){return e.prototype.name=t,function(){zr(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=k()(e,[this].concat(n));return this[t]=function(){return s},zr(this,s.getEventHash()),s}},Wr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,fe(this),delete this.trigger,me(this,this.constructor.defaultState),qr(e,this.name),this.dispose=ee(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),Gt(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=$r(t,Fr[t])},t.isBasic=function(e){var i="string"==typeof e?Vr(e):e;return"function"==typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(Hr(e))q.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Br.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof i+".");return Fr[e]=i,"plugin"!==e&&(t.isBasic(i)?Br.prototype[e]=function(t,e){var i=function(){zr(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return qr(this,t),zr(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(t){i[t]=e[t]}),i}(e,i):Br.prototype[e]=$r(e,i)),i},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");Hr(t)&&(delete Fr[t],delete Br.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Fr)),t.forEach(function(t){var i=Vr(t);i&&((e=e||{})[t]=i)}),e},t.getPluginVersion=function(t){var e=Vr(t);return e&&e.VERSION||""},t}();Wr.getPlugin=Vr,Wr.BASE_PLUGIN_NAME="plugin",Wr.registerPlugin("plugin",Wr),Br.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Br.prototype.hasPlugin=function(t){return!!Hr(t)};var Xr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Yr(t,e,i){var n=Yr.getPlayer(t);if(n)return e&&q.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"==typeof t?Pt("#"+Xr(t)):t;if(!et(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");r.ownerDocument.defaultView&&r.ownerDocument.body.contains(r)||q.warn("The element supplied is not included in the DOM"),e=e||{},Yr.hooks("beforesetup").forEach(function(t){var i=t(r,ve(e));G(i)&&!Array.isArray(i)?e=ve(e,i):q.error("please return an object in beforesetup hooks")});var s=ye.getComponent("Player");return n=new s(r,e,i),Yr.hooks("setup").forEach(function(t){return t(n)}),n}if(Yr.hooks_={},Yr.hooks=function(t,e){return Yr.hooks_[t]=Yr.hooks_[t]||[],e&&(Yr.hooks_[t]=Yr.hooks_[t].concat(e)),Yr.hooks_[t]},Yr.hook=function(t,e){Yr.hooks(t,e)},Yr.hookOnce=function(t,e){Yr.hooks(t,[].concat(e).map(function(e){return function i(){return Yr.removeHook(t,i),e.apply(void 0,arguments)}}))},Yr.removeHook=function(t,e){var i=Yr.hooks(t).indexOf(e);return!(i<=-1)&&(Yr.hooks_[t]=Yr.hooks_[t].slice(),Yr.hooks_[t].splice(i,1),!0)},!0!==r.a.VIDEOJS_NO_DYNAMIC_STYLE&&tt()){var Gr=Pt(".vjs-styles-defaults");if(!Gr){Gr=Nt("vjs-styles-defaults");var Kr=Pt("head");Kr&&Kr.insertBefore(Gr,Kr.firstChild),Ut(Gr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Lt(1,Yr),Yr.VERSION=F,Yr.options=Br.prototype.options_,Yr.getPlayers=function(){return Br.players},Yr.getPlayer=function(t){var e,i=Br.players;if("string"==typeof t){var n=Xr(t),r=i[n];if(r)return r;e=Pt("#"+n)}else e=t;if(et(e)){var s=e,a=s.player,o=s.playerId;if(a||i[o])return a||i[o]}},Yr.getAllPlayers=function(){return Object.keys(Br.players).map(function(t){return Br.players[t]}).filter(Boolean)},Yr.players=Br.players,Yr.getComponent=ye.getComponent,Yr.registerComponent=function(t,e){Ui.isTech(e)&&q.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ye.registerComponent.call(ye,t,e)},Yr.getTech=Ui.getTech,Yr.registerTech=Ui.registerTech,Yr.use=function(t,e){Bi[t]=Bi[t]||[],Bi[t].push(e)},Object.defineProperty(Yr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Yr.middleware,"TERMINATOR",{value:Fi,writeable:!1,enumerable:!0}),Yr.browser=He,Yr.TOUCH_ENABLED=Ne,Yr.extend=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"==typeof e&&(i=e),E()(i,t),t&&(i.super_=t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},Yr.mergeOptions=ve,Yr.bind=ee,Yr.registerPlugin=Wr.registerPlugin,Yr.deregisterPlugin=Wr.deregisterPlugin,Yr.plugin=function(t,e){return q.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Wr.registerPlugin(t,e)},Yr.getPlugins=Wr.getPlugins,Yr.getPlugin=Wr.getPlugin,Yr.getPluginVersion=Wr.getPluginVersion,Yr.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),Yr.options.languages=ve(Yr.options.languages,((i={})[t]=e,i)),Yr.options.languages[t]},Yr.log=q,Yr.createLogger=z,Yr.createTimeRange=Yr.createTimeRanges=ze,Yr.formatTime=hn,Yr.setFormatTime=function(t){cn=t},Yr.resetFormatTime=function(){cn=un},Yr.parseUrl=Ti,Yr.isCrossOrigin=ki,Yr.EventTarget=re,Yr.on=Xt,Yr.one=Kt,Yr.off=Yt,Yr.trigger=Gt,Yr.xhr=b.a,Yr.TextTrack=Pi,Yr.AudioTrack=Ai,Yr.VideoTrack=Oi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Yr[t]=function(){return q.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Ot[t].apply(null,arguments)}}),Yr.computedStyle=Q,Yr.dom=Ot,Yr.url=Ci,Yr.defineLazyProperty=Ir;var Qr=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=P.a.buildAbsoluteURL(r.a.location.href,t)),P.a.buildAbsoluteURL(t,e))},Zr=function(t,e,i){return t&&i.responseURL&&e!==i.responseURL?i.responseURL:e},Jr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ts=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),es=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},is=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},ns=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&o.return&&o.return()}finally{if(r)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rs=Yr.mergeOptions,ss=Yr.EventTarget,as=Yr.log,os=function(t,e){["AUDIO","SUBTITLES"].forEach(function(i){for(var n in t.mediaGroups[i])for(var r in t.mediaGroups[i][n]){var s=t.mediaGroups[i][n][r];e(s,i,n,r)}})},ls=function(t,e){var i=rs(t,{}),n=i.playlists[e.id];if(!n)return null;if(n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence)return null;var r=rs(n,e);n.segments&&(r.segments=function(t,e,i){var n=e.slice();i=i||0;for(var r=Math.min(t.length,e.length+i),s=i;s<r;s++)n[s-i]=rs(t[s],n[s-i]);return n}(n.segments,e.segments,e.mediaSequence-n.mediaSequence)),r.segments.forEach(function(t){!function(t,e){t.resolvedUri||(t.resolvedUri=Qr(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Qr(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Qr(e,t.map.uri))}(t,r.resolvedUri)});for(var s=0;s<i.playlists.length;s++)i.playlists[s].id===e.id&&(i.playlists[s]=r);return i.playlists[e.id]=r,i.playlists[e.uri]=r,i},us=function(t,e){return t+"-"+e},cs=function(t){for(var e=t.playlists.length;e--;){var i=t.playlists[e];i.resolvedUri=Qr(t.uri,i.uri),i.id=us(e,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes||(i.attributes={},as.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},hs=function(t){os(t,function(e){e.uri&&(e.resolvedUri=Qr(t.uri,e.uri))})},ds=function(t,e){var i=t.segments[t.segments.length-1];return e&&i&&i.duration?1e3*i.duration:500*(t.targetDuration||10)},fs=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jr(this,e);var r=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),s=n.withCredentials,a=void 0!==s&&s,o=n.handleManifestRedirects,l=void 0!==o&&o;r.srcUrl=t,r.hls_=i,r.withCredentials=a,r.handleManifestRedirects=l;var u=i.options_;if(r.customTagParsers=u&&u.customTagParsers||[],r.customTagMappers=u&&u.customTagMappers||[],!r.srcUrl)throw new Error("A non-empty playlist URL is required");return r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.hls_.xhr({uri:Qr(r.master.uri,r.media().uri),withCredentials:r.withCredentials},function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata(r.request,r.media().uri,r.media().id)}))}),r}return es(e,ss),ts(e,[{key:"playlistRequestError",value:function(t,e,i){var n=e.uri,r=e.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+n+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e,i){var n=this;this.request=null,this.state="HAVE_METADATA";var s=new A.a;this.customTagParsers.forEach(function(t){return s.addParser(t)}),this.customTagMappers.forEach(function(t){return s.addTagMapper(t)}),s.push(t.responseText),s.end(),s.manifest.uri=e,s.manifest.id=i,s.manifest.attributes=s.manifest.attributes||{};var a=ls(this.master,s.manifest);this.targetDuration=s.manifest.targetDuration,a?(this.master=a,this.media_=this.master.playlists[i]):this.trigger("playlistunchanged"),this.media().endList||(r.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=r.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},ds(this.media(),!!a))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.finalRenditionTimeout),this.off()}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t,e){var i=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(r.a.clearTimeout(this.finalRenditionTimeout),e){var n=t.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=r.a.setTimeout(this.media.bind(this,t,!1),n)}else{var s=this.state,a=!this.media_||t.id!==this.media_.id;if(this.master.playlists[t.id].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(a&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(e,n){if(i.request){if(t.resolvedUri=Zr(i.handleManifestRedirects,t.resolvedUri,n),e)return i.playlistRequestError(i.request,t,s);i.haveMetadata(n,t.uri,t.id),"HAVE_MASTER"===s?i.trigger("loadedmetadata"):i.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout(function(){return e.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"HLS playlist request error at URL: "+t.srcUrl+".",responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var n=new A.a;if(t.customTagParsers.forEach(function(t){return n.addParser(t)}),t.customTagMappers.forEach(function(t){return n.addTagMapper(t)}),n.push(i.responseText),n.end(),t.state="HAVE_MASTER",t.srcUrl=Zr(t.handleManifestRedirects,t.srcUrl,i),n.manifest.uri=t.srcUrl,n.manifest.playlists)return t.master=n.manifest,cs(t.master),hs(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(n.manifest.playlists[0]));var s=us(0,t.srcUrl);return t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:r.a.location.href,playlists:[{uri:t.srcUrl,id:s,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[s]=t.master.playlists[0],t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(i,t.srcUrl,s),t.trigger("loadedmetadata")}})}}]),e}(),ps=Yr.createTimeRange,ms=function(t,e,i){var n,r;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(n=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=t.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(t,e)).precise?n.result:(r=function(t,e){for(var i=0,n=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?r.result:n.result+i},gs=function(t,e,i){if(!t)return 0;if("number"!=typeof i&&(i=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return r.a.Infinity}return ms(t,e,i)},_s=function(t,e,i){var n=0;if(e>i){var r=[i,e];e=r[0],i=r[1]}if(e<0){for(var s=e;s<Math.min(0,i);s++)n+=t.targetDuration;e=0}for(var a=e;a<i;a++)n+=t.segments[a].duration;return n},vs=function(t,e){if(!t.segments.length)return 0;var i=t.segments.length,n=t.segments[i-1].duration||t.targetDuration,r="number"==typeof e?e:n+2*t.targetDuration;if(0===r)return i;for(var s=0;i--&&!((s+=t.segments[i].duration)>=r););return Math.max(0,i)},ys=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return gs(t);if(null===e)return null;e=e||0;var r=i?vs(t,n):t.segments.length;return ms(t,t.mediaSequence+r,e)},bs=function(t){return t-Math.floor(t)==0},Ts=function(t,e){if(bs(e))return e+.1*t;for(var i=e.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),s=e*r;if(bs(s)||n===i)return(s+t)/r}},ws=Ts.bind(null,1),Ss=Ts.bind(null,-1),ks=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Cs=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Es=function(t){var e=ks(t);return!t.disabled&&!e},xs=function(t,e){return e.attributes&&e.attributes[t]},Ps=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Es(t)&&(t.attributes.BANDWIDTH||0)<i}).length},As={duration:gs,seekable:function(t,e,i){var n=e||0,r=ys(t,e,!0,i);return null===r?ps():ps(n,r)},safeLiveIndex:vs,getMediaInfoForTime:function(t,e,i,n){var r=void 0,s=void 0,a=t.segments.length,o=e-n;if(o<0){if(i>0)for(r=i-1;r>=0;r--)if(s=t.segments[r],(o+=Ss(s.duration))>0)return{mediaIndex:r,startTime:n-_s(t,i,r)};return{mediaIndex:0,startTime:e}}if(i<0){for(r=i;r<0;r++)if((o-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};i=0}for(r=i;r<a;r++)if(s=t.segments[r],(o-=ws(s.duration))<0)return{mediaIndex:r,startTime:n+_s(t,i,r)};return{mediaIndex:a-1,startTime:e}},isEnabled:Es,isDisabled:function(t){return t.disabled},isBlacklisted:ks,isIncompatible:Cs,playlistEnd:ys,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:xs,estimateSegmentRequestTime:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return xs("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*n)/e:NaN},isLowestEnabledRendition:Ps},Os=Yr.xhr,Is=Yr.mergeOptions,Ds=function(){return function t(e,i){e=Is({timeout:45e3},e);var n=t.beforeRequest||Yr.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var r=n(e);r&&(e=r)}var s=Os(e,function(t,e){var n=s.response;!t&&n&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=n.byteLength||n.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e.headers&&(s.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(s.timedout=!0),t||s.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(s&&(n||s.responseText)))),i(t,s)}),a=s.abort;return s.abort=function(){return s.aborted=!0,a.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s}},Ls=function(t){var e,i,n={};return t.byterange&&(n.Range=(e=t.byterange,i=e.offset+e.length-1,"bytes="+e.offset+"-"+i)),n},Rs=function(t,e){return t.start(e)+"-"+t.end(e)},Ms=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},Ns=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Us=function(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n}),e},Bs=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},js=function(t){return t.resolvedUri},Fs=function(t){for(var e=Array.prototype.slice.call(t),i="",n=0;n<e.length/16;n++)i+=e.slice(16*n,16*n+16).map(Ms).join("")+" "+e.slice(16*n,16*n+16).map(Ns).join("")+"\n";return i},Hs=Object.freeze({createTransferableMessage:Us,initSegmentId:Bs,segmentKeyId:js,hexDump:Fs,tagDump:function(t){var e=t.bytes;return Fs(e)},textRanges:function(t){var e="",i=void 0;for(i=0;i<t.length;i++)e+=Rs(t,i)+" ";return e}}),Vs=function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var s=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var i=0,n=void 0,r=0;r<e.segments.length&&!(t<=(i=(n=e.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*s.duration)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,e);if(!s)return r({message:"valid programTime was not found"});if("estimate"===s.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});var a={mediaSeconds:n},o=function(t,e){if(!e.dateTimeObject)return null;var i=e.videoTimingInfo.transmuxerPrependedSeconds,n=t-(e.videoTimingInfo.transmuxedPresentationStart+i);return new Date(e.dateTimeObject.getTime()+1e3*n)}(n,s.segment);return o&&(a.programDateTime=o.toISOString()),r(null,a)},qs=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,s=void 0===r?2:r,a=e.seekTo,o=e.pauseAfterSeek,l=void 0===o||o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===i||!n||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var h=function(t,e){var i=void 0;try{i=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var n=e.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(n=e.segments[r],!(i<e.segments[r+1].dateTimeObject));r++);var s,a=e.segments[e.segments.length-1],o=a.dateTimeObject,l=a.videoTimingInfo?(s=a.videoTimingInfo).transmuxedPresentationEnd-s.transmuxedPresentationStart-s.transmuxerPrependedSeconds:a.duration+.25*a.duration;return i>new Date(o.getTime()+1e3*l)?null:(i>o&&(n=a),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:As.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(i,n);if(!h)return c({message:i+" was not found in the stream"});var d=h.segment,f=function(t,e){var i=void 0,n=void 0;try{i=new Date(t),n=new Date(e)}catch(t){}var r=i.getTime();return(n.getTime()-r)/1e3}(d.dateTimeObject,i);if("estimate"===h.type)return 0===s?c({message:i+" is not buffered yet. Try again"}):(a(h.estimatedStart+f),void u.one("seeked",function(){t({programTime:i,playlist:n,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})}));var p=d.start+f;u.one("seeked",function(){return c(null,u.currentTime())}),l&&u.pause(),a(p)},zs=function(t,e){var i=[],n=void 0;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Yr.createTimeRanges(i)},$s=function(t,e){return zs(t,function(t,i){return t-.1<=e&&i+.1>=e})},Ws=function(t,e){return zs(t,function(t){return t-1/30>=e})},Xs=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},Ys=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},Gs=function(t,e,i){var n=void 0,r=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime<=e&&r.endTime>=t&&i.removeCue(r)},Ks=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},Qs=function(t,e,i){var n=r.a.WebKitDataCue||r.a.VTTCue;if(e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new n(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),i){var s=Ks(t.mediaSource_.duration);if(i.forEach(function(t){var e=t.cueTime+this.timestampOffset;!("number"!=typeof e||r.a.isNaN(e)||e<0)&&e<1/0&&t.frames.forEach(function(t){var i=new n(e,e,t.value||t.url||t.data||"");i.frame=t,i.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Yr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Yr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Yr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(i),this.metadataTrack_.addCue(i)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var a=t.metadataTrack_.cues,o=[],l=0;l<a.length;l++)a[l]&&o.push(a[l]);var u=o.reduce(function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t},{}),c=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var i=u[t],n=Number(c[e+1])||s;i.forEach(function(t){t.endTime=n})})}}},Zs="undefined"!=typeof window?window:{},Js="undefined"==typeof Symbol?"__target":Symbol(),ta="application/javascript",ea=Zs.BlobBuilder||Zs.WebKitBlobBuilder||Zs.MozBlobBuilder||Zs.MSBlobBuilder,ia=Zs.URL||Zs.webkitURL||ia&&ia.msURL,na=Zs.Worker;function ra(t,e){return function(i){var n=this;if(!e)return new na(t);if(na&&!i){var r=la(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Js]=new na(r),function(t,e){if(!t||!e)return;var i=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&ia.revokeObjectURL(t.objURL),i.call(t)}}(this[Js],r),this[Js]}var s={postMessage:function(t){n.onmessage&&setTimeout(function(){n.onmessage({data:t,target:s})})}};e.call(s),this.postMessage=function(t){setTimeout(function(){s.onmessage({data:t,target:n})})},this.isThisThread=!0}}if(na){var sa,aa=la("self.onmessage = function () {}"),oa=new Uint8Array(1);try{(sa=new na(aa)).postMessage(oa,[oa.buffer])}catch(t){na=null}finally{ia.revokeObjectURL(aa),sa&&sa.terminate()}}function la(t){try{return ia.createObjectURL(new Blob([t],{type:ta}))}catch(i){var e=new ea;return e.append(t),ia.createObjectURL(e.getBlob(type))}}var ua=new ra("./transmuxer-worker.worker.js",function(t,e){var i=this;!function(){var t=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,s;if(i=t[e])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(s=[],n=arguments.length,n=1;n<arguments.length;++n)s.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,s)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),this.on("partialdone",function(e){t.partialFlush(e)}),this.on("endedtimeline",function(e){t.endTimeline(e)}),this.on("reset",function(e){t.reset(e)}),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,n,r,s,a,o,l,u,c,h,d,f,p,m,g,_,v,y,b,T,w,S,k,C,E,x,P,A,O,I,D,L,R,M,N,U,B,j,F,H,V=t,q=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:x,audio:P},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),R=L,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=L,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,i,n=[],r=0;for(e=1;e<arguments.length;e++)n.push(arguments[e]);for(e=n.length;e--;)r+=n[e].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(t,4),e=0,r=8;e<n.length;e++)i.set(n[e],r),r+=n[e].byteLength;return i},n=function(){return e(S.dinf,e(S.dref,D))},r=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},g=function(t){return e(S.hdlr,A[t])},m=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(i[12]=t.samplerate>>>24&255,i[13]=t.samplerate>>>16&255,i[14]=t.samplerate>>>8&255,i[15]=255&t.samplerate),e(S.mdhd,i)},p=function(t){return e(S.mdia,m(t),g(t.type),o(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},o=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,O):e(S.smhd,I),n(),v(t))},l=function(t,i){for(var n=[],r=i.length;r--;)n[r]=b(i[r]);return e.apply(null,[S.moof,a(t)].concat(n))},u=function(t){for(var i=t.length,n=[];i--;)n[i]=d(t[i]);return e.apply(null,[S.moov,h(4294967295)].concat(n).concat(c(t)))},c=function(t){for(var i=t.length,n=[];i--;)n[i]=T(t[i]);return e.apply(null,[S.mvex].concat(n))},h=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,i)},_=function(t){var i,n,r=t.samples||[],s=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,s[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e(S.sdtp,s)},v=function(t){return e(S.stbl,y(t),e(S.stts,N),e(S.stsc,R),e(S.stsz,M),e(S.stco,L))},y=function(t){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?U(t):B(t))},U=function(t){var i,n,r=t.sps||[],s=t.pps||[],a=[],o=[];for(i=0;i<r.length;i++)a.push((65280&r[i].byteLength)>>>8),a.push(255&r[i].byteLength),a=a.concat(Array.prototype.slice.call(r[i]));for(i=0;i<s.length;i++)o.push((65280&s[i].byteLength)>>>8),o.push(255&s[i].byteLength),o=o.concat(Array.prototype.slice.call(s[i]));if(n=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[s.length],o))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var l=t.sarRatio[0],u=t.sarRatio[1];n.push(e(S.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return e.apply(null,n)},B=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},f=function(t){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,i)},b=function(t){var i,n,r,s,a,o;return i=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(q+1)),o=Math.floor(t.baseMediaDecodeTime%(q+1)),n=e(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===t.type?(r=w(t,92),e(S.traf,i,n,r)):(s=_(t),r=w(t,s.length+92),e(S.traf,i,n,r,s))},d=function(t){return t.duration=t.duration||4294967295,e(S.trak,f(t),p(t))},T=function(t){var i=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(i[i.length-1]=0),e(S.trex,i)},H=function(t,e){var i=0,n=0,r=0,s=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(s=8)),[0,0,i|n|r|s,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},F=function(t,i){var n,r,s,a;for(i+=20+16*(r=t.samples||[]).length,n=H(r,i),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return e(S.trun,new Uint8Array(n))},j=function(t,i){var n,r,s,a;for(i+=20+8*(r=t.samples||[]).length,n=H(r,i),a=0;a<r.length;a++)s=r[a],n=n.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return e(S.trun,new Uint8Array(n))},w=function(t,e){return"audio"===t.type?j(t,e):F(t,e)};s=function(){return e(S.ftyp,k,C,k,E)};var z,$,W,X,Y,G,K,Q,Z=function(t){return e(S.mdat,t)},J=l,tt=function(t){var e,i=s(),n=u(t);return(e=new Uint8Array(i.byteLength+n.byteLength)).set(i),e.set(n,i.byteLength),e},et=function(t,e){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},it=function(t){var e,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(i=t[e]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},nt=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(i=t[e]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},st=function(t,e){var i,n,r,s,a,o=e||0,l=[];for(i=0;i<t.length;i++)for(s=t[i],n=0;n<s.length;n++)a=s[n],o+=(r=et(a,o)).size,l.push(r);return l},at=function(t){var e,i,n,r,s,a,o=0,l=t.byteLength,u=t.nalCount,c=new Uint8Array(l+4*u),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],i=0;i<r.length;i++)for(s=r[i],n=0;n<s.length;n++)a=s[n],h.setUint32(o,a.data.byteLength),o+=4,c.set(a.data,o),o+=a.data.byteLength;return c},ot=[33,16,5,32,164,27],lt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ut=function(t){for(var e=[];t--;)e.push(0);return e},ct={96000:[ot,[227,64],ut(154),[56]],88200:[ot,[231],ut(170),[56]],64000:[ot,[248,192],ut(240),[56]],48000:[ot,[255,192],ut(268),[55,148,128],ut(54),[112]],44100:[ot,[255,192],ut(268),[55,163,128],ut(84),[112]],32000:[ot,[255,192],ut(268),[55,234],ut(226),[112]],24000:[ot,[255,192],ut(268),[55,255,128],ut(268),[111,112],ut(126),[224]],16000:[ot,[255,192],ut(268),[55,255,128],ut(268),[111,255],ut(269),[223,108],ut(195),[1,192]],12000:[lt,ut(268),[3,127,248],ut(268),[6,255,240],ut(268),[13,255,224],ut(268),[27,253,128],ut(259),[56]],11025:[lt,ut(268),[3,127,248],ut(268),[6,255,240],ut(268),[13,255,224],ut(268),[27,255,192],ut(268),[55,175,128],ut(108),[112]],8000:[lt,ut(268),[3,121,16],ut(47),[7]]},ht=(z=ct,Object.keys(z).reduce(function(t,e){return t[e]=new Uint8Array(z[e].reduce(function(t,e){return t.concat(e)},[])),t},{}));G=function(t,e){return $(Y(t,e))},K=function(t,e){return W(X(t),e)},Q=function(t,e,i){return X(i?t:t-e)};var dt=9e4,ft=($=function(t){return 9e4*t},W=function(t,e){return t*e},X=function(t){return t/9e4},Y=function(t,e){return t/e},G),pt=K,mt=Q,gt=function(t,e,i,n){var r,s,a,o,l,u=0,c=0,h=0;if(e.length&&(r=ft(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(dt/(t.samplerate/1024)),i&&n&&(u=r-Math.max(i,n),h=(c=Math.floor(u/s))*s),!(c<1||h>dt/2))){for((a=ht[t.samplerate])||(a=e[0].data),o=0;o<c;o++)l=e[0],e.splice(0,0,{data:a,dts:l.dts-s,pts:l.pts-s});t.baseMediaDecodeTime-=Math.floor(pt(h,t.samplerate))}},_t=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},vt=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},yt=function(t){var e,i,n=0,r=new Uint8Array(function(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e].data.byteLength;return i}(t));for(e=0;e<t.length;e++)i=t[e],r.set(i.data,n),n+=i.data.byteLength;return r},bt=dt,Tt=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},wt=function(t,e){var i,n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===t.type&&(i*=t.samplerate/bt,i=Math.floor(i)),i},St=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},kt=function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}e+=r,n=0,r=0}return i},Ct=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Et=function(t,e){var i,n,r,s,a=[];if(!(64&e[0]))return a;for(n=31&e[0],i=0;i<n;i++)s={type:3&e[2+(r=3*i)],pts:t},4&e[r+2]&&(s.ccData=e[r+3]<<8|e[r+4],a.push(s));return a},xt=4,Pt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Lt(0,0),new Lt(0,1),new Lt(1,0),new Lt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))},this)};(Pt.prototype=new V).push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=kt(t.escapedRBSP)).payloadType===xt&&(i=Ct(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Et(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Pt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},Pt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},Pt.prototype.flush=function(){return this.flushStream("flush")},Pt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},Pt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Pt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Pt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},Pt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var At={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ot=function(t){return null===t?"":(t=At[t]||t,String.fromCharCode(t))},It=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Dt=function(){for(var t=[],e=15;e--;)t.push("");return t},Lt=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Dt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Dt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Dt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))s=Ot((n=(3&n)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=Ot((n=(3&n)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=It.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=Ot(n),s+=Ot(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};Lt.prototype=new V,Lt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Lt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Dt(),this.nonDisplayed_=Dt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Lt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Lt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Lt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Lt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Lt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Lt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Lt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Lt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Lt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Dt(),this.displayed_=Dt()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Lt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,i)},Lt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},Lt.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},Lt.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},Lt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Lt.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var Rt={CaptionStream:Pt,Cea608Stream:Lt},Mt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Nt=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},Ut=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=Nt(t.dts,n),t.pts=Nt(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ut.prototype=new V;var Bt,jt=Ut,Ft=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},Ht=function(t,e,i){return decodeURIComponent(Ft(t,e,i))},Vt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},qt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ht(t.data,1,e),t.value=Ht(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Ht(t.data,1,e),t.url=Ht(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,i;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(i=t.data,unescape(Ft(i,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Bt=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,r=[],s=0;if(Bt.prototype.init.call(this),this.dispatchType=Mt.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,o,l,u;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(s=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),s+=t.data.byteLength,1===r.length&&(n=Vt(t.data.subarray(6,10)),n+=10),!(s<n)){for(e={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},u=0;u<n;)e.data.set(r[0].data.subarray(0,n-u),u),u+=r[0].data.byteLength,s-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=Vt(e.data.subarray(10,14)),n-=Vt(e.data.subarray(16,20)));do{if((o=Vt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+o+10)}).key=l.id,qt[l.id]&&(qt[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],l.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),a+=10,a+=o}while(a<n);this.trigger("data",e)}}}).prototype=new V;var zt,$t,Wt,Xt=Bt,Yt=jt;(zt=function(){var t=new Uint8Array(188),e=0;zt.prototype.init.call(this),this.push=function(i){var n,r=0,s=188;for(e?((n=new Uint8Array(i.byteLength+e)).set(t.subarray(0,e)),n.set(i,e),e=0):n=i;s<n.byteLength;)71!==n[r]||71!==n[s]?(r++,s++):(this.trigger("data",n.subarray(r,s)),r+=188,s+=188);r<n.byteLength&&(t.set(n.subarray(r),0),e=n.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new V,($t=function(){var t,e,i,n;$t.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var r=0;n.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===n.type?e(t.subarray(r),n):i(t.subarray(r),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,r;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<i;){var s=t[r],a=(31&t[r+1])<<8|t[r+2];s===Mt.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=a:s===Mt.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=a:s===Mt.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][a]=s),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Mt.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Mt.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}}).prototype=new V,$t.STREAM_TYPES={h264:27,adts:15},(Wt=function(){var t,e=this,i={data:[],size:0},n={data:[],size:0},r={data:[],size:0},s=function(t,i,n){var r,s,a=new Uint8Array(t.size),o={type:i},l=0,u=0;if(t.data.length&&!(t.size<9)){for(o.trackId=t.data[0].pid,l=0;l<t.data.length;l++)s=t.data[l],a.set(s.data,u),u+=s.data.byteLength;var c,h,d;c=a,(h=o).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),r="video"===i||o.packetLength<=t.size,(n||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",o)}};Wt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Mt.H264_STREAM_TYPE:case Mt.H264_STREAM_TYPE:t=i,e="video";break;case Mt.ADTS_STREAM_TYPE:t=n,e="audio";break;case Mt.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(n,"audio"),s(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new V;var Gt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:zt,TransportParseStream:$t,ElementaryStream:Wt,TimestampRolloverStream:Yt,CaptionStream:Rt.CaptionStream,Cea608Stream:Rt.Cea608Stream,MetadataStream:Xt};for(var Kt in Mt)Mt.hasOwnProperty(Kt)&&(Gt[Kt]=Mt[Kt]);var Qt,Zt=Gt,Jt=dt,te=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Qt=function(t){var e,i=0;Qt.prototype.init.call(this),this.push=function(n){var r,s,a,o,l,u,c=0;if(t||(i=0),"audio"===n.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+n.data.byteLength)).set(o),e.set(n.data,o.byteLength)):e=n.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(s=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,u=(l=1024*(1+(3&e[c+6])))*Jt/te[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:n.pts+i*u,dts:n.dts+i*u,sampleCount:l,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:te[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+s,a)}),i++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new V;var ee,ie,ne,re=Qt,se=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var r=t.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");s.set(t.subarray(r,r+a)),i=new DataView(s.buffer).getUint32(0),n=8*a,e-=a},this.skipBits=function(t){var r;n>t?(i<<=t,n-=t):(t-=n,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var r=Math.min(n,t),s=i>>>32-r;return(n-=r)>0?i<<=r:e>0&&this.loadWord(),(r=t-r)>0?s<<r|this.readBits(r):s},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!=(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(ie=function(){var t,e,i=0;ie.prototype.init.call(this),this.push=function(n){var r;e?((r=new Uint8Array(e.byteLength+n.data.byteLength)).set(e),r.set(n.data,e.byteLength),e=r):e=n.data;for(var s=e.byteLength;i<s-3;i++)if(1===e[i+2]){t=i+5;break}for(;t<s;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<s);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3}e=e.subarray(i),t-=i,i=0},this.reset=function(){e=null,i=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new V,ne={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ee=function(){var t,e,i,n,r,s,a,o=new ie;ee.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,o.push(t))},o.on("data",function(a){var o={trackId:e,pts:i,dts:n,data:a};switch(31&a[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(a.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(a.subarray(1)),o.config=s(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",o)}),o.on("done",function(){t.trigger("done")}),o.on("partialdone",function(){t.trigger("partialdone")}),o.on("reset",function(){t.trigger("reset")}),o.on("endedtimeline",function(){t.trigger("endedtimeline")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},a=function(t,e){var i,n=8,r=8;for(i=0;i<t;i++)0!==r&&(r=(n+e.readExpGolomb()+256)%256),n=0===r?n:r},r=function(t){for(var e,i,n=t.byteLength,r=[],s=1;s<n-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(r.push(s+2),s+=2):s++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(s=0;s<e;a++,s++)a===r[0]&&(a++,r.shift()),i[s]=t[a];return i},s=function(t){var e,i,n,r,s,o,l,u,c,h,d,f,p,m=0,g=0,_=0,v=0,y=1;if(i=(e=new se(t)).readUnsignedByte(),r=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ne[i]&&(3===(s=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==s?8:12,p=0;p<d;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(o=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===o)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),p=0;p<l;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(y=f[0]/f[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*m-2*g)*y),height:(2-h)*(c+1)*16-2*_-2*v,sarRatio:f}}}).prototype=new V;var ae,oe={H264Stream:ee,NalByteStream:ie},le=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},ue=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},ce=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i};(ae=function(){var t=new Uint8Array,e=0;ae.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,r,s,a,o=0,l=0;for(t.length?(a=t.length,(t=new Uint8Array(i.byteLength+a)).set(t.subarray(0,a)),t.set(i,a)):t=i;t.length-l>=3;)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!=(255&t[l])||240!=(240&t[l+1]))l++;else{if(t.length-l<7)break;if(l+(o=ce(t,l))>t.length)break;s={type:"audio",data:t.subarray(l,l+o),pts:e,dts:e},this.trigger("data",s),l+=o}else{if(t.length-l<10)break;if(l+(o=ue(t,l))>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+o)},this.trigger("data",r),l+=o}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new V;var he,de,fe,pe,me=ae,ge=oe.H264Stream,_e=le,ve=dt,ye=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],be=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Te=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},we=function(t,e,i,n,r,s){return{start:{dts:t,pts:t+(i-e)},end:{dts:t+(n-e),pts:t+(r-i)},prependedContentDuration:s,baseMediaDecodeTime:t}};(de=function(t,e){var i=[],n=0,r=0,s=0,a=1/0;e=e||{},de.prototype.init.call(this),this.push=function(e){St(t,e),t&&ye.forEach(function(i){t[i]=e[i]}),i.push(e)},this.setEarliestDts=function(e){r=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){s=t},this.flush=function(){var o,l,u,c,h;0!==i.length?(o=_t(i,t,r),t.baseMediaDecodeTime=wt(t,e.keepOriginalTimestamps),gt(t,o,s,a),t.samples=vt(o),u=Z(yt(o)),i=[],l=J(n,[t]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Tt(t),h=Math.ceil(1024*ve/t.samplerate),o.length&&this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+o.length*h}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Tt(t),i=[],this.trigger("reset")}}).prototype=new V,(he=function(t,e){var i,n,r=0,s=[],a=[];e=e||{},he.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){St(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],be.forEach(function(e){t[e]=i[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){for(var i,n,o,l,u,c,h,d,f=0;s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=it(s),(o=nt(i))[0][0].keyFrame||((n=this.getGopForFusion_(s[0],t))?(f=n.duration,o.unshift(n),o.byteLength+=n.byteLength,o.nalCount+=n.nalCount,o.pts=n.pts,o.dts=n.dts,o.duration+=n.duration):o=rt(o)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Tt(t),o=p}St(t,o),t.samples=st(o),u=Z(at(o)),t.baseMediaDecodeTime=wt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),h=o[0],d=o[o.length-1],this.trigger("segmentTimingInfo",we(t.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,f)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=J(r,[t]),c=new Uint8Array(l.byteLength+u.byteLength),r++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),s=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Tt(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,r,s,a,o=1/0;for(a=0;a<this.gopCache_.length;a++)r=(s=this.gopCache_[a]).gop,t.pps&&Te(t.pps[0],s.pps[0])&&t.sps&&Te(t.sps[0],s.sps[0])&&(r.dts<t.timelineStartInfo.dts||(i=e.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||o>i)&&(n=s,o=i));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,r,s,o,l,u;for(s=t.byteLength,o=t.nalCount,l=t.duration,e=i=0;e<a.length&&i<t.length&&(n=a[e],r=t[i],n.pts!==r.pts);)r.pts>n.pts?e++:(i++,s-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===i?t:i===t.length?null:((u=t.slice(i)).byteLength=s,u.duration=l,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,i,n,r,s,o,l;for(e=a.length-1,i=t.length-1,s=null,o=!1;e>=0&&i>=0;){if(n=a[e],r=t[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?e--:(e===a.length-1&&(s=i),i--)}if(!o&&null===s)return null;if(0===(l=o?i:s))return t;var u=t.slice(l),c=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){a=t}}).prototype=new V,(pe=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,pe.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new V,pe.prototype.flush=function(t){var e,i,n,r,s=0,a={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,be.forEach(function(t){a.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,ye.forEach(function(t){a.info[t]=this.audioTrack[t]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=tt(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],s),s+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=mt(e.startPts,o,this.keepOriginalTimestamps),e.endTime=mt(e.endPts,o,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=mt(i.pts,o,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},pe.prototype.setRemux=function(t){this.remuxTracks=t},(fe=function(t){var e,i,n=this,r=!0;fe.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Zt.MetadataStream,r.aacStream=new me,r.audioTimestampRolloverStream=new Zt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Zt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new re,r.coalesceStream=new pe(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",function(t){r.aacStream.setTimestamp(t.timeStamp)}),r.aacStream.on("data",function(s){"timed-metadata"!==s.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new de(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Zt.MetadataStream,r.packetStream=new Zt.TransportPacketStream,r.parseStream=new Zt.TransportParseStream,r.elementaryStream=new Zt.ElementaryStream,r.timestampRolloverStream=new Zt.TimestampRolloverStream,r.adtsStream=new re,r.h264Stream=new ge,r.captionStream=new Zt.CaptionStream,r.coalesceStream=new pe(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(s){var a;if("metadata"===s.type){for(a=s.tracks.length;a--;)e||"video"!==s.tracks[a].type?i||"audio"!==s.tracks[a].type||((i=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=s.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new he(e,t),r.videoSegmentStream.on("timelineStartInfo",function(t){i&&(i.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts))}),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(t){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new de(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",function(t){t.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",t)}),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Tt(i),t.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Tt(e),r.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=n)),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var i=this.transmuxPipeline_;t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=_e(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new V;var Se={Transmuxer:fe,VideoSegmentStream:he,AudioSegmentStream:de,AUDIO_PROPERTIES:ye,VIDEO_PROPERTIES:be,generateVideoSegmentTimingInfo:we},ke=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ce=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ee=function(){function t(e,i){ke(this,t),this.options=i||{},this.self=e,this.init()}return Ce(t,[{key:"init",value:function(){var t,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Se.Transmuxer(this.options),t=this.self,(e=this.transmuxer).on("data",function(e){var i=e.initSegment;e.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=e.data;e.data=n.buffer,t.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})}),e.on("videoSegmentTimingInfo",function(e){t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Ee(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new Ee(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(i)}()}),ca={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},ha=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,i){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})},da=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i={codecCount:0};return i.codecCount=e.split(",").length,i.codecCount=i.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(i.videoCodec=t[2],i.videoObjectTypeIndicator=t[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),i.audioProfile=i.audioProfile&&i.audioProfile[2],i},fa=function(t,e,i){return t+"/"+e+'; codecs="'+i.filter(function(t){return!!t}).join(", ")+'"'},pa=function(t,e){var i=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),n=function(t){var e=t.attributes||{};return e.CODECS?da(e.CODECS):ca}(e),r=e.attributes||{},s=!0,a=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var o=t.mediaGroups.AUDIO[r.AUDIO];if(o)for(var l in a=!0,s=!1,o)if(!o[l].uri&&!o[l].playlists){s=!0;break}}a&&!n.audioProfile&&(s||(n.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return da(r.playlists[0].attributes.CODECS).audioProfile}return null}(t,r.AUDIO)),n.audioProfile||(Yr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=ca.audioProfile));var u={};n.videoCodec&&(u.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(u.audio="mp4a.40."+n.audioProfile);var c=fa("audio",i,[u.audio]),h=fa("video",i,[u.video]),d=fa("video",i,[u.video,u.audio]);return a?!s&&u.video?[h,c]:s||u.video?[d,c]:[c,c]:u.video?[d]:[c]},ma=function(t){var e={type:"",parameters:{}},i=t.trim().split(";");return e.type=i.shift().trim(),i.forEach(function(t){var i=t.trim().split("=");if(i.length>1){var n=i[0].replace(/"/g,"").trim(),r=i[1].replace(/"/g,"").trim();e.parameters[n]=r}}),e},ga=function(t){return/mp4a\.\d+.\d+/i.test(t)},_a=function(t){return/avc1\.[\da-f]+/i.test(t)},va=function(t,e,i){if(null==e||!t.length)return[];var n=Math.ceil(9e4*(e-i+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>n);r++);return t.slice(r)},ya=function(t,e,i){var n=null,r=null,s=0,a=[],o=[];if(!t&&!e)return Yr.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(i)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return Yr.createTimeRange();for(var l=t.buffered,u=e.buffered,c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(a.sort(function(t,e){return t.time-e.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++s&&(n=a[c].time):"end"===a[c].type&&1===--s&&(r=a[c].time),null!==n&&null!==r&&(o.push([n,r]),n=null,r=null);return Yr.createTimeRanges(o)},ba=function(t){function e(t,i){Jr(this,e);var n=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Yr.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=i,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=Yr.browser.IE_VERSION>=11;var r={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach(function(t){ga(t)?n.audioCodec_=t:_a(t)&&(n.videoCodec_=t)}),n.transmuxer_=new ua,n.transmuxer_.postMessage({action:"init",options:r}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):"videoSegmentTimingInfo"===t.data.action?n.videoSegmentTimingInfo_(t.data.videoSegmentTimingInfo):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return ya(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}return es(e,t),ts(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,i){var n=e.player_;if(i.captions&&i.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),i.captionStreams)if(!t.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var s=n.textTracks().getTrackById(r);t.inbandTextTracks_[r]=s||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(t){var e={start:{decode:t.start.dts/9e4,presentation:t.start.pts/9e4},end:{decode:t.end.dts/9e4,presentation:t.end.pts/9e4},baseMediaDecodeTime:t.baseMediaDecodeTime/9e4};t.prependedContentDuration&&(e.prependedContentDuration=t.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(i){if(t[i+"Codec_"]&&!t[i+"Buffer_"]){var n=null;if(t.mediaSource_[i+"Buffer_"])(n=t.mediaSource_[i+"Buffer_"]).updating=!1;else{var r=i+'/mp4;codecs="'+t[i+"Codec_"]+'"';n=function(t,e){var i=t.addSourceBuffer(e),n=Object.create(null);n.updating=!1,n.realBuffer_=i;var r=function(t){"function"==typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:void 0===n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})};for(var s in i)r(s);return n}(t.mediaSource_.nativeMediaSource_,r),t.mediaSource_[i+"Buffer_"]=n}t[i+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(r){n.addEventListener(r,function(){if("audio"!==i||!t.audioDisabled_)return"updateend"===r&&(t[i+"Buffer_"].updating=!1),e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(i===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(r):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:va(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,i){if(!e.length)return t;if(i)return e.slice();for(var n=e[0].pts,r=0;r<t.length&&!(t[r].pts>=n);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,i,n){for(var r=Math.ceil(9e4*(e-n)),s=Math.ceil(9e4*(i-n)),a=t.slice(),o=t.length;o--&&!(t[o].pts<=s););if(-1===o)return a;for(var l=o+1;l--&&!(t[l].pts<=r););return l=Math.max(l,0),a.splice(l,o-l+1),a}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),Gs(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)Gs(t,e,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);t=this.pendingBuffers_.reduce(function(t,e){var i=e.type,n=e.data,r=e.initSegment;return t[i].segments.push(n),t[i].bytes+=n.byteLength,t[i].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[i].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),Qs(this,t.captions,t.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var i=0,n=void 0;if(t.bytes){n=new Uint8Array(t.bytes),t.segments.forEach(function(t){n.set(t,i),i+=t.byteLength});try{e.updating=!0,e.appendBuffer(n)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}},{key:"dispose",value:function(){this.transmuxer_&&this.transmuxer_.terminate(),this.trigger("dispose"),this.off()}}]),e}(Yr.EventTarget),Ta=function(t){function e(){Jr(this,e);var t=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),i=void 0;for(i in t.nativeMediaSource_=new r.a.MediaSource,t.nativeMediaSource_)i in e.prototype||"function"!=typeof t.nativeMediaSource_[i]||(t[i]=t.nativeMediaSource_[i].bind(t.nativeMediaSource_));return t.duration_=NaN,Object.defineProperty(t,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(t,"seekable",{get:function(){return this.duration_===1/0?Yr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(t,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(t,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),t.sourceBuffers=[],t.activeSourceBuffers_=[],t.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var i=!1,n=!0,r=0;r<t.player_.audioTracks().length;r++){var s=t.player_.audioTracks()[r];if(s.enabled&&"main"!==s.kind){i=!0,n=!1;break}}t.sourceBuffers.forEach(function(e,r){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=i;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=r?n:!n,e.audioDisabled_))return;t.activeSourceBuffers_.push(e)})},t.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},t.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},t.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},t),t.on("sourceopen",function(e){var i=a.a.querySelector('[src="'+t.url_+'"]');i&&(t.player_=Yr(i.parentNode),t.player_&&(t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_)))}),t.on("sourceended",function(e){for(var i=Ks(t.duration),n=0;n<t.sourceBuffers.length;n++){var r=t.sourceBuffers[n],s=r.metadataTrack_&&r.metadataTrack_.cues;s&&s.length&&(s[s.length-1].endTime=i)}}),t.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),t}return es(e,t),ts(e,[{key:"addSeekableRange_",value:function(t,e){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,i=ma(t);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=ha(n)).filter(function(t){return ga(t)||_a(t)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),e=new ba(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}},{key:"dispose",value:function(){this.trigger("dispose"),this.off(),this.sourceBuffers.forEach(function(t){t.dispose&&t.dispose()}),this.sourceBuffers.length=0}}]),e}(Yr.EventTarget),wa=0;Yr.mediaSources={};var Sa=function(t,e){var i=Yr.mediaSources[t];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:e})},ka=function(){return!!r.a.MediaSource&&!!r.a.MediaSource.isTypeSupported&&r.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Ca=function(){if(this.MediaSource={open:Sa,supportsNativeMediaSources:ka},ka())return new Ta;throw new Error("Cannot use create a virtual MediaSource for this video")};Ca.open=Sa,Ca.supportsNativeMediaSources=ka;var Ea={createObjectURL:function(t){var e=void 0;return t instanceof Ta?(e=r.a.URL.createObjectURL(t.nativeMediaSource_),t.url_=e,e):t instanceof Ta?(e="blob:vjs-media-source/"+wa,wa++,Yr.mediaSources[e]=t,e):(e=r.a.URL.createObjectURL(t),t.url_=e,e)}};Yr.MediaSource=Ca,Yr.URL=Ea;var xa=Yr.EventTarget,Pa=Yr.mergeOptions,Aa=function(t,e){for(var i=void 0,n=Pa(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var s=ls(n,e.playlists[r]);s?n=s:i=!0}return os(e,function(t,e,r,s){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,o=ls(n,t.playlists[0]);o&&((n=o).mediaGroups[e][r][s].playlists[0]=n.playlists[a],i=!1)}}),i?null:n},Oa=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},Ia=function(t,e){var i,n,r={};for(var s in t){var a=t[s].sidx;if(a){var o=Oa(a);if(!e[o])break;var l=e[o].sidxInfo;i=l,n=a,(Boolean(!i.map&&!n.map)||Boolean(i.map&&n.map&&i.map.byterange.offset===n.map.byterange.offset&&i.map.byterange.length===n.map.byterange.length))&&i.uri===n.uri&&i.byterange.offset===n.byterange.offset&&i.byterange.length===n.byterange.length&&(r[o]=e[o])}}return r},Da=function(t,e,i,n,r){var s={uri:Zr(n.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:e};return i(Yr.mergeOptions(s,{responseType:"arraybuffer",headers:Ls(s)}),r)},La=function(t){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];Jr(this,e);var s=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),a=n.withCredentials,o=void 0!==a&&a,l=n.handleManifestRedirects,u=void 0!==l&&l;if(s.hls_=i,s.withCredentials=o,s.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or playlist is required");return s.on("minimumUpdatePeriod",function(){s.refreshXml_()}),s.on("mediaupdatetimeout",function(){s.refreshMedia_(s.media().id)}),s.state="HAVE_NOTHING",s.loadedPlaylists_={},"string"==typeof t?(s.srcUrl=t,s.sidxMapping_={},is(s)):(s.setupChildLoader(r,t),s)}return es(e,xa),ts(e,[{key:"setupChildLoader",value:function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e}},{key:"dispose",value:function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),r.a.clearTimeout(this.mediaRequest_),r.a.clearTimeout(this.mediaUpdateTimeout),this.off()}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"sidxRequestFinished_",value:function(t,e,i,n){var r=this;return function(s,a){if(r.request){if(r.request=null,s)return r.error={status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},i&&(r.state=i),r.trigger("error"),n(e,null);var o=new Uint8Array(a.response),l=D.a.parseSidx(o.subarray(8));return n(e,l)}}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.id!==this.media_.id;if(n&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n)if(this.media_&&this.trigger("mediachanging"),t.sidx){var s=void 0,a=void 0;this.masterPlaylistLoader_?(s=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(s=this.master,a=this.sidxMapping_);var o=Oa(t.sidx);a[o]={sidxInfo:t.sidx},this.request=Da(t.sidx,t,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(t,s,i,function(n,r){if(!n||!r)throw new Error("failed to request sidx");a[o].sidx=r,e.haveMetadata({startingState:i,playlist:n.playlists[t.id]})}))}else this.mediaRequest_=r.a.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:t}),0)}},{key:"haveMetadata",value:function(t){var e=t.startingState,i=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var e=this;r.a.clearTimeout(this.mediaUpdateTimeout),r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=r.a.setTimeout(function(){return e.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=Object(O.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var i="placeholder-uri-"+e;t.playlists[e].uri=i}return os(t,function(e,i,n,r){if(e.playlists&&e.playlists.length){var s="placeholder-uri-"+i+"-"+n+"-"+r,a=us(0,s);e.playlists[0].uri=s,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[s]=e.playlists[0]}}),cs(t),hs(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=r.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.srcUrl=Zr(t.handleManifestRedirects,t.srcUrl,i),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,i=Object(O.b)(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:Qr(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(n,r){if(e.request){if(n)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var s=void 0;s="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=s-Date.now(),t()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,t.sidxMapping_=function(t,e,i,n){var r=Object(O.a)(t,{manifestUri:e,clientOffset:i}),s=Ia(r.playlists,n);return os(r,function(t,e,i,r){if(t.playlists&&t.playlists.length){var a=t.playlists;s=Pa(s,Ia(a,n))}}),s}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var n=t.parseMasterXml(),s=Aa(t.master,n),a=t.media().sidx;if(s)if(a){var o=Oa(a);if(!t.sidxMapping_[o]){var l=t.media();t.request=Da(l.sidx,l,t.hls_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(l,n,t.state,function(e,i){if(!e||!i)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[o].sidx=i,t.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod),t.refreshMedia_(t.media().id)}))}}else t.master=s;t.minimumUpdatePeriodTimeout_=r.a.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(t){var e=this;if(!t)throw new Error("refreshMedia_ must take a media id");var i=void 0,n=void 0;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,n=this.parseMasterXml());var s=Aa(i,n);s?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=s:this.master=s,this.media_=s.playlists[t]):(this.media_=n.playlists[t],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=r.a.setTimeout(function(){e.trigger("mediaupdatetimeout")},ds(this.media(),!!s))),this.trigger("loadedplaylist")}}]),e}(),Ra=function(t){return Yr.log.debug?Yr.log.debug.bind(Yr,"VHS:",t+" >"):function(){}};function Ma(){}var Na=function(){function t(e,i,n,r){Jr(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=n,this.mimeType_=i,this.logger_=Ra("SourceUpdater["+n+"]["+i+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,r)):this.createSourceBuffer_(i,r)}return ts(t,[{key:"createSourceBuffer_",value:function(t,e){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.sourceBuffer_.removing=!1,t.logger_("buffered ["+Xs(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){t.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),i.sourceBuffer_.appendBuffer(t.bytes)},function(){t.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",t.videoSegmentTimingInfoCallback),e()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:Yr.createTimeRanges()}},{key:"remove",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+t+" => "+e+"]"),i.sourceBuffer_.removing=!0,i.sourceBuffer_.remove(t,e)},n)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Ma}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t,e.runCallback_()}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){var t=this,e=function e(){t.sourceBuffer_&&"open"===t.mediaSource.readyState&&t.sourceBuffer_.abort(),t.sourceBuffer_.removeEventListener("updateend",e)};this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",e):e()}}]),t}(),Ua={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Ba=2,ja=-101,Fa=-102,Ha=function(t){t.forEach(function(t){t.abort()})},Va=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:ja,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Fa,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Ba,xhr:e}:null},qa=function(t,e,i){var n=0,r=!1;return function(s,a){if(!r)return s?(r=!0,Ha(t),i(s,a)):(n+=1)===t.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(t,e,i){t.addEventListener("message",function n(r){if(r.data.source===e.requestId){t.removeEventListener("message",n);var s=r.data.decrypted;return e.bytes=new Uint8Array(s.bytes,s.byteOffset,s.byteLength),i(null,e)}});var n=void 0;n=e.key.bytes.slice?e.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.key.bytes)),t.postMessage(Us({source:e.requestId,encrypted:e.encryptedBytes,key:n,iv:e.key.iv}),[e.encryptedBytes.buffer,n.buffer])}(e,a,i):i(null,a)):void 0}},za=function(t,e){return function(i){var n,r,s;return t.stats=Yr.mergeOptions(t.stats,(r=(n=i).target,(s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-r.requestTime||0}).bytesReceived=n.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(i,t)}},$a=function(t,e,i,n,r,s,a){var o=[],l=qa(o,i,a);if(r.key&&!r.key.bytes){var u=t(Yr.mergeOptions(e,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(i,n){var r=n.response,s=Va(i,n);if(s)return e(s,t);if(16!==r.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Ba,xhr:n},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,l));o.push(u)}if(r.map&&!r.map.bytes){var c=t(Yr.mergeOptions(e,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Ls(r.map)}),function(t,e,i){return function(n,r){var s=r.response,a=Va(n,r);return a?i(a,t):0===s.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Ba,xhr:r},t):(t.map.bytes=new Uint8Array(r.response),e&&!e.isInitialized()&&e.init(),t.map.timescales=R.a.timescale(t.map.bytes),t.map.videoTrackIds=R.a.videoTrackIds(t.map.bytes),i(null,t))}}(r,n,l));o.push(c)}var h=t(Yr.mergeOptions(e,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Ls(r)}),function(t,e,i){return function(n,r){var s=r.response,a=Va(n,r),o=void 0;return a?i(a,t):0===s.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Ba,xhr:r},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),t.key?t.encryptedBytes=new Uint8Array(r.response):t.bytes=new Uint8Array(r.response),e&&t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(o=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&o.captions&&(t.captionStreams=o.captionStreams,t.fmp4Captions=o.captions)),i(null,t))}}(r,n,l));return h.addEventListener("progress",za(r,s)),o.push(h),function(){return Ha(o)}},Wa=function(t,e){var i;return t&&(i=r.a.getComputedStyle(t))?i[e]:""},Xa=function(t,e){var i=t.slice();t.sort(function(t,n){var r=e(t,n);return 0===r?i.indexOf(t)-i.indexOf(n):r})},Ya=function(t,e){var i=void 0,n=void 0;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||r.a.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),i-(n=n||r.a.Number.MAX_VALUE)},Ga=function(t){return"number"==typeof t&&isFinite(t)},Ka=function(t){function e(t){Jr(this,e);var i=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.hls_=t.hls,i.loaderType_=t.loaderType,i.startingMedia_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.mimeType_=null,i.sourceUpdater_=null,i.xhrOptions_=null,i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},"main"===i.loaderType_?i.captionParser_=new N.a:i.captionParser_=null,i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",function(){return i.ended_=!1}),i.fetchAtBuffer_=!1,i.logger_=Ra("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(i,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),i}return es(e,t),ts(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_&&this.captionParser_.reset(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():Yr.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=Bs(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),n||t}},{key:"segmentKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=js(t),n=this.keyCache_[i];this.cacheEncryptionKeys_&&e&&!n&&t.bytes&&(this.keyCache_[i]=n={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(n||t).resolvedUri};return n&&(r.bytes=n.bytes),r}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Na(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===t.uri){var s=t.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+s+"]"),null!==this.mediaIndex&&(this.mediaIndex-=s),n&&(n.mediaIndex-=s,n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,1/0,t),this.captionParser_&&this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,i){if(e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,i),Gs(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)Gs(t,e,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&r.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=r.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(this.isEndOfStream_(t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&(t.timeline!==this.currentTimeline_&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(t)))}}},{key:"isEndOfStream_",value:function(t){return function(t,e,i){if(!t||!e)return!1;var n=i===t.segments.length;return t.endList&&"open"===e.readyState&&n}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_,this.mediaSource_,t)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(t,e,i,n,r,s){var a=0,o=void 0;t.length&&(a=t.end(t.length-1));var l=Math.max(0,a-r);if(!e.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&l>=1)return null;if(null===s)return i=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,i,null,!0);if(null!==i){e.segments[i];return o=a,this.generateSegmentInfo_(e,i+1,o,!1)}if(this.fetchAtBuffer_){var u=As.getMediaInfoForTime(e,a,s.segmentIndex,s.time);i=u.mediaIndex,o=u.startTime}else{var c=As.getMediaInfoForTime(e,r,s.segmentIndex,s.time);i=c.mediaIndex,o=c.startTime}return this.generateSegmentInfo_(e,i,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var i=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,i,n){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:n,startOfSegment:i,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,r=As.estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),s=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=s)return!1;var a=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,r=t.duration,s=t.segmentDuration,a=t.timeUntilRebuffer,o=t.currentTimeline,l=t.syncController,u=e.playlists.filter(function(t){return!As.isIncompatible(t)}),c=u.filter(As.isEnabled);c.length||(c=u.filter(function(t){return!As.isDisabled(t)}));var h=c.filter(As.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=l.getSyncPoint(t,r,o,i)?1:2;return{playlist:t,rebufferingImpact:As.estimateSegmentRequestTime(s,n,t)*e-a}}),d=h.filter(function(t){return t.rebufferingImpact<=0});return Xa(d,function(t,e){return Ya(e.playlist,t.playlist)}),d.length?d[0]:(Xa(h,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var o=r-s-a.rebufferingImpact,l=.5;return s<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||o<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*Ua.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=$a(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=function(t,e,i){var n=e-30;t.length&&(n=Math.max(n,t.start(0)));var r=e-i;return Math.min(r,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,i={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var n=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);i.key=this.segmentKey(e.key),i.key.iv=n}return e.map&&(i.map=this.initSegment(e.map)),i}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Fa?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===ja?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),e.key&&this.segmentKey(e.key,!0),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(!function(t,e,i){for(var n in i)if(!t[n]){e.trigger({type:"usage",name:"hls-608"});var r=e.textTracks().getTrackById(n);t[n]=r||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var e=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(i){var r=window.WebKitDataCue||window.VTTCue;i.forEach(function(t){var i=t.stream,s=t.startTime,a=t.endTime;e[i]&&(s+=n,a+=n,e[i].addCue(new r(s,a,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,i=e.segment,n=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r,s,a,o=(r=this.loaderType_,s=this.startingMedia_,a=n,"main"===r&&s&&a?a.containsAudio||a.containsVideo?s.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!s.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(o)return this.error({message:o,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");if(null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()){if(n&&n.segmentTimestampInfo){var l=n.segmentTimestampInfo[0].ptsTime,u=n.segmentTimestampInfo[0].dtsTime;e.timestampOffset-=l-u}this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset")}var c=this.syncController_.mappingForTimeline(e.timeline);if(null!==c&&this.trigger({type:"segmenttimemapping",mapping:c}),this.state="APPENDING",i.map){var h=Bs(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==h){var d=this.initSegment(i.map);this.sourceUpdater_.appendBuffer({bytes:d.bytes},function(){t.activeInitSegmentId_=h})}}e.byteLength=e.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(function(t){var e=t.segment,i=e.start,n=e.end,r=t.playlist,s=r.mediaSequence,a=r.id,o=r.segments,l=void 0===o?[]:o,u=t.mediaIndex,c=t.timeline;return["appending ["+u+"] of ["+s+", "+(s+l.length)+"] from playlist ["+a+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")}(e)),this.sourceUpdater_.appendBuffer({bytes:e.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,e.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={}),i.videoTimingInfo.transmuxerPrependedSeconds=e.videoSegmentTimingInfo.prependedContentDuration||0,i.videoTimingInfo.transmuxedPresentationStart=e.videoSegmentTimingInfo.start.presentation,i.videoTimingInfo.transmuxedPresentationEnd=e.videoSegmentTimingInfo.end.presentation,i.videoTimingInfo.baseMediaDecodeTime=e.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,i=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(t.mediaIndex+1,t.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,i=e.start,n=e.end;if(Ga(i)&&Ga(n)){Gs(i,n,this.segmentMetadataTrack_);var s=r.a.WebKitDataCue||r.a.VTTCue,a={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:i,end:n},o=new s(i,n,JSON.stringify(a));o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(Yr.EventTarget),Qa=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Za=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),Ja=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Jr(this,e);var n=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.mediaSource_=null,n.subtitlesTrack_=null,n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n}return es(e,Ka),ts(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Yr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return Yr.createTimeRanges([[e,i]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=Bs(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var r=Za.byteLength+t.bytes.byteLength,s=new Uint8Array(r);s.set(t.bytes),s.set(Za,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){Gs(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if("function"!=typeof r.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=void 0,s=function(){t.subtitlesTrack_.tech_.off("vttjsloaded",n),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")};return n=function(){t.subtitlesTrack_.tech_.off("vttjserror",s),t.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",n),void this.subtitlesTrack_.tech_.one("vttjserror",s)}i.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(t.featuresNativeTextTracks_?new r.a.VTTCue(e.startTime,e.endTime,e.text):e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"==typeof r.a.TextDecoder?e=new r.a.TextDecoder("utf8"):(e=r.a.WebVTT.StringDecoder(),i=!0);var n=new r.a.WebVTT.Parser(r.a,r.a.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(t){Yr.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var s=t.segment.map.bytes;i&&(s=Qa(s)),n.parse(s)}var a=t.bytes;i&&(a=Qa(a)),n.parse(a),n.flush()}},{key:"updateTimeMapping_",value:function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,s=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=s,t.endTime+=s}),!i.syncInfo){var a=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(a,o-n.duration)}}}else n.empty=!0}}]),e}(),to=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},eo=B.a.inspect,io=[{name:"VOD",run:function(t,e,i,n,r){if(i!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!t.datetimeToDisplayTime)return null;var s=e.segments||[],a=null,o=null;r=r||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(r-c);if(null!==o&&(0===h||o<h))break;o=h,a={time:c,segmentIndex:l}}}return a}},{name:"Segment",run:function(t,e,i,n,r){var s=e.segments||[],a=null,o=null;r=r||0;for(var l=0;l<s.length;l++){var u=s[l];if(u.timeline===n&&void 0!==u.start){var c=Math.abs(r-u.start);if(null!==o&&o<c)break;(!a||null===o||o>=c)&&(o=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(t,e,i,n,r){var s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,o=0;o<e.discontinuityStarts.length;o++){var l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=t.discontinuities[u];if(c){var h=Math.abs(r-c.time);if(null!==a&&a<h)break;(!s||null===a||a>=h)&&(a=h,s={time:c.time,segmentIndex:l})}}return s}},{name:"Playlist",run:function(t,e,i,n,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],no=function(t){function e(){Jr(this,e);var t=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=Ra("SyncController"),t}return es(e,t),ts(e,[{key:"getSyncPoint",value:function(t,e,i,n){var r=this.runStrategies_(t,e,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+_s(t,n.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,i,n){for(var r=[],s=0;s<io.length;s++){var a=io[s],o=a.run(this,t,e,i,n);o&&(o.strategy=a.name,r.push({strategy:a.name,syncPoint:o}))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,s=1;s<t.length;s++){var a=Math.abs(t[s].syncPoint[e.key]-e.value);a<n&&(n=a,i=t[s].syncPoint,r=t[s].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var i=e.mediaSequence-t.mediaSequence-1;i>=0;i--){var n=t.segments[i];if(n&&void 0!==n.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,i=t.playlist,n=void 0;return(n=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,n)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:e.start})),n}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,i=R.a.timescale(e.map.bytes),n=R.a.compositionStartTime(i,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=n),{start:n,end:n+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=eo(t.bytes,this.inspectCache_),i=void 0,n=void 0,r=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,i=e.video[0].dtsTime,n=e.video[1].dtsTime,r=e.video):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,i=e.audio[0].dtsTime,n=e.audio[1].dtsTime,r=e.audio),{segmentTimestampInfo:r,start:i,end:n,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var i=t.segment,n=this.timelines[t.timeline];if(null!==t.timestampOffset)n={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),i.start=t.startOfSegment,i.end=e.end+n.mapping;else{if(!n)return!1;i.start=e.start+n.mapping,i.end=e.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r=e.discontinuityStarts[n],s=e.discontinuitySequence+n+1,a=r-t.mediaIndex,o=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>o){var l=void 0;l=a<0?i.start-_s(e,t.mediaIndex,r):i.end+_s(e,t.mediaIndex+1,r),this.discontinuities[s]={time:l,accuracy:o}}}}},{key:"dispose",value:function(){this.trigger("dispose"),this.off()}}]),e}(Yr.EventTarget),ro=new ra("./decrypter-worker.worker.js",function(t,e){var i=this;!function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},r=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],r=i[4],s=void 0,a=void 0,o=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=u[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,n[a]=d,r[d]=a,p=16843009*l[h=l[c=l[a]]]^65537*h^257*c^16843008*a,f=257*l[d]^16843008*d,s=0;s<4;s++)e[s][a]=f=f<<24^f>>>8,i[s][d]=p=p<<24^p>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),i[s]=i[s].slice(0);return t},s=null,a=function(){function e(i){t(this,e),s||(s=r()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var n=void 0,a=void 0,o=void 0,l=void 0,u=void 0,c=this._tables[0][4],h=this._tables[1],d=i.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(l=i.slice(0),u=[],this._key=[l,u],n=d;n<4*d+28;n++)o=l[n-1],(n%d==0||8===d&&n%d==4)&&(o=c[o>>>24]<<24^c[o>>16&255]<<16^c[o>>8&255]<<8^c[255&o],n%d==0&&(o=o<<8^o>>>24^f<<24,f=f<<1^283*(f>>7))),l[n]=l[n-d]^o;for(a=0;n;a++,n--)o=l[3&a?n:n-4],u[a]=n<=4||a<4?o:h[0][c[o>>>24]]^h[1][c[o>>16&255]]^h[2][c[o>>8&255]]^h[3][c[255&o]]}return e.prototype.decrypt=function(t,e,i,n,r,s){var a=this._key[1],o=t^a[0],l=n^a[1],u=i^a[2],c=e^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,m=void 0,g=4,_=this._tables[1],v=_[0],y=_[1],b=_[2],T=_[3],w=_[4];for(m=0;m<p;m++)h=v[o>>>24]^y[l>>16&255]^b[u>>8&255]^T[255&c]^a[g],d=v[l>>>24]^y[u>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],f=v[u>>>24]^y[c>>16&255]^b[o>>8&255]^T[255&l]^a[g+2],c=v[c>>>24]^y[o>>16&255]^b[l>>8&255]^T[255&u]^a[g+3],g+=4,o=h,l=d,u=f;for(m=0;m<4;m++)r[(3&-m)+s]=w[o>>>24]<<24^w[l>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^a[g++],h=o,o=l,l=u,u=c,c=h},e}(),o=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},e.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),l=function(e){function i(){t(this,i);var r=n(this,e.call(this,o));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(o),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},c=function(){function i(e,n,r,s){t(this,i);var a=i.STEP,o=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+a),n,r,c)),h=a;h<o.length;h+=a)r=new Uint32Array([u(o[h-4]),u(o[h-3]),u(o[h-2]),u(o[h-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+a),n,r,c));this.asyncStream_.push(function(){var t;s(null,(t=c).subarray(0,t.byteLength-t[t.byteLength-1]))})}return i.prototype.decryptChunk_=function(t,e,i,n){return function(){var r=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new a(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),o=new Int32Array(s.buffer),l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,m=void 0,g=void 0,_=void 0;for(l=i[0],c=i[1],h=i[2],d=i[3],_=0;_<n.length;_+=4)f=u(n[_]),p=u(n[_+1]),m=u(n[_+2]),g=u(n[_+3]),r.decrypt(f,p,m,g,o,_),o[_]=u(o[_]^l),o[_+1]=u(o[_+1]^c),o[_+2]=u(o[_+2]^h),o[_+3]=u(o[_+3]^d),l=f,c=p,h=m,d=g;return s}(t,e,i);n.set(r,t.byteOffset)}},e(i,null,[{key:"STEP",get:function(){return 32e3}}]),i}();new function(t){t.onmessage=function(e){var i=e.data,n=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),r=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),s=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new c(n,r,s,function(e,n){var r,s;t.postMessage((r={source:i.source,decrypted:n},s={},Object.keys(r).forEach(function(t){var e=r[t];ArrayBuffer.isView(e)?s[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:s[t]=e}),s),[n.buffer])})}}(i)}()}),so=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},ao=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},oo=function(t,e){e.activePlaylistLoader=t,t.load()},lo={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;ao(i,n);var s=n.activeTrack(),a=n.activeGroup(),o=(a.filter(function(t){return t.default})[0]||a[0]).id,l=n.tracks[o];if(s!==l){for(var u in Yr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];Yr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ao(i,n);var r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}}},uo={AUDIO:function(t,e,i){if(e){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",lo[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,s=i.segmentLoaders[t],a=i.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();s.playlist(t,r),s.track(a.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&s.load()}),e.on("loadedplaylist",function(){s.playlist(e.media(),r),n.paused()||s.load()}),e.on("error",lo[t](t,i))}},co={AUDIO:function(t,e){var i=e.hls,n=e.sourceType,r=e.segmentLoaders[t],s=e.requestOptions,a=e.master.mediaGroups,o=e.mediaTypes[t],l=o.groups,u=o.tracks,c=e.masterPlaylistLoader;for(var h in a[t]&&0!==Object.keys(a[t]).length||(a[t]={main:{default:{default:!0}}}),a[t])for(var d in l[h]||(l[h]=[]),a[t][h]){var f=a[t][h][d],p=void 0;if(p=f.resolvedUri?new fs(f.resolvedUri,i,s):f.playlists&&"dash"===n?new La(f.playlists[0],i,s,c):null,f=Yr.mergeOptions({id:d,playlistLoader:p},f),uo[t](t,f.playlistLoader,e),l[h].push(f),void 0===u[d]){var m=new Yr.AudioTrack({id:d,kind:so(f),enabled:!1,language:f.language,default:f.default,label:d});u[d]=m}}r.on("error",lo[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.hls,r=e.sourceType,s=e.segmentLoaders[t],a=e.requestOptions,o=e.master.mediaGroups,l=e.mediaTypes[t],u=l.groups,c=l.tracks,h=e.masterPlaylistLoader;for(var d in o[t])for(var f in u[d]||(u[d]=[]),o[t][d])if(!o[t][d][f].forced){var p=o[t][d][f],m=void 0;if("hls"===r?m=new fs(p.resolvedUri,n,a):"dash"===r&&(m=new La(p.playlists[0],n,a,h)),p=Yr.mergeOptions({id:f,playlistLoader:m},p),uo[t](t,p.playlistLoader,e),u[d].push(p),void 0===c[f]){var g=i.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=g}}s.on("error",lo[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,r=e.mediaTypes[t],s=r.groups,a=r.tracks;for(var o in n[t])for(var l in s[o]||(s[o]=[]),n[t][o]){var u=n[t][o][l];if(u.instreamId.match(/CC\d/)&&(s[o].push(Yr.mergeOptions({id:l},u)),void 0===a[l])){var c=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;a[l]=c}}}},ho={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode||"hidden"===i[n].mode)return i[n];return null}}},fo=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){co[e](e,t)});var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(i){e[i].activeGroup=function(t,e){return function(i){var n=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,s=n.media();if(!s)return null;var a=null;return s.attributes[t]&&(a=r[s.attributes[t]]),a=a||r.main,void 0===i?a:null===i?null:a.filter(function(t){return t.id===i.id})[0]||null}}(i,t),e[i].activeTrack=ho[i](i,t),e[i].onGroupChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;ao(n,s),o&&(o.playlistLoader?(n.resyncLoader(),oo(o.playlistLoader,s)):l&&r.resetEverything())}}(i,t),e[i].onTrackChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,s=e.mediaTypes[t],a=s.activeTrack(),o=s.activeGroup(a),l=s.activePlaylistLoader;ao(n,s),o&&(o.playlistLoader?l!==o.playlistLoader?(n.track&&n.track(a),n.resetEverything(),oo(o.playlistLoader,s)):oo(o.playlistLoader,s):r.resetEverything())}}(i,t)});var s=e.AUDIO.activeGroup(),a=(s.filter(function(t){return t.default})[0]||s[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var o=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[l])},po=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ma,activeTrack:Ma,onGroupChanged:Ma,onTrackChanged:Ma}}),t},mo=void 0,go=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],_o=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},vo=function(t){function e(t){Jr(this,e);var i=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),n=t.url,r=t.handleManifestRedirects,s=t.withCredentials,a=t.tech,o=t.bandwidth,l=t.externHls,u=t.useCueTags,c=t.blacklistDuration,h=t.enableLowInitialPlaylist,d=t.cacheEncryptionKeys,f=t.sourceType;if(!n)throw new Error("A non-empty playlist URL is required");mo=l,i.withCredentials=s,i.tech_=a,i.hls_=a.hls,i.sourceType_=f,i.useCueTags_=u,i.blacklistDuration=c,i.enableLowInitialPlaylist=h,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:s,handleManifestRedirects:r,timeout:null},i.mediaTypes_=po(),i.mediaSource=new Yr.MediaSource,i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_.bind(i)),i.seekable_=Yr.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new no(t),i.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new ro,i.inbandTextTracks_={};var p={hls:i.hls_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:o,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:d};return i.masterPlaylistLoader_="dash"===i.sourceType_?new La(n,i.hls_,i.requestOptions_):new fs(n,i.hls_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new Ka(Yr.mergeOptions(p,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),t),i.audioSegmentLoader_=new Ka(Yr.mergeOptions(p,{loaderType:"audio"}),t),i.subtitleSegmentLoader_=new Ja(Yr.mergeOptions(p,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),t),i.setupSegmentLoaderListeners_(),go.forEach(function(t){i[t+"_"]=_o.bind(i,t)}),i.logger_=Ra("MPC"),i.masterPlaylistLoader_.load(),i}return es(e,t),ts(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Ps(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),fo({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return Yr.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var i=void 0;return t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var n=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){t.tech_.one("durationchange",function e(){t.duration()===1/0?n():t.tech_.one("durationchange",e)})}else n()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Ps(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var i=t.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var s in i.AUDIO)for(var a in i.AUDIO[s]){i.AUDIO[s][a].uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),mo.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),mo.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),i=t.masterPlaylistLoader_.media(),n=t.tech_.buffered();(function(t){var e=t.currentPlaylist,i=t.nextPlaylist,n=t.forwardBuffer,r=t.bufferLowWaterLine,s=t.duration;t.log;return i?!e.endList||s<Ua.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<e.attributes.BANDWIDTH||n>=r:(Yr.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:i,nextPlaylist:e,forwardBuffer:n.length?n.end(n.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){Yr.browser.IE_VERSION||Yr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(Yr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(i.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return Yr.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(t){Yr.log.warn("Failed to call media source endOfStream",t)}}}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var i=mo.Playlist.playlistEnd(t,e),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=.1;var s=r.end(r.length-1);return s-n<=.1&&i-s<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),i=i||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(Es).length,s=this.masterPlaylistLoader_.master.playlists;return 1===s.length?(Yr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(r&&(Yr.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),s.forEach(function(t){t.excludeUntil!==1/0&&delete t.excludeUntil}),this.tech_.trigger("retryplaylist")),n.excludeUntil=Date.now()+1e3*i,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),Yr.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t,r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=$s(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:mo.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var i=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null!==i){var n=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=mo.Playlist.seekable(e,i,n);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(e,this.mediaSource.duration)))return;if(0===(t=mo.Playlist.seekable(e,i,n)).length)return}var s=void 0,a=void 0;this.seekable_&&this.seekable_.length&&(s=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Yr.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===s&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Xs(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,i=mo.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function e(){t.logger_("Setting duration from "+t.mediaSource.duration+" => "+i);try{t.mediaSource.duration=i}catch(t){Yr.log.warn("Failed to set media source duration",t)}t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};n.length>0&&(i=Math.max(i,n.end(n.length-1))),e!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.trigger("dispose"),this.decrypter_&&this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.off(),this.mediaSource.dispose&&this.mediaSource.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=pa(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new Yr.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){var e;t.attributes.CODECS&&r.a.MediaSource&&r.a.MediaSource.isTypeSupported&&!r.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(e=t.attributes.CODECS,e.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return ha([t])[0]}))+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,i=null,n=void 0;t.attributes.CODECS&&(n=da(t.attributes.CODECS),i=n.videoCodec,e=n.codecCount),this.master().playlists.forEach(function(t){var n={codecCount:2,videoCodec:null};t.attributes.CODECS&&(n=da(t.attributes.CODECS)),n.codecCount!==e&&(t.excludeUntil=1/0),n.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,i=this.seekable();i.length&&(e=i.start(0)),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var n=i,s=void 0,a=0;a<t.segments.length;a++){var o=t.segments[a];if(s||(s=to(e,n+o.duration/2)),s){if("cueIn"in o){s.endTime=n,s.adEndTime=n,n+=o.duration,s=null;continue}if(n<s.endTime){n+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&((s=new r.a.VTTCue(n,n+o.duration,o.cueOut)).adStartTime=n,s.adEndTime=n+parseFloat(o.cueOut),e.addCue(s)),"cueOutCont"in o){var l,u,c=o.cueOutCont.split("/").map(parseFloat),h=ns(c,2);l=h[0],u=h[1],(s=new r.a.VTTCue(n,n+o.duration,"")).adStartTime=n-l,s.adEndTime=s.adStartTime+u,e.addCue(s)}n+=o.duration}}(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=Ua.GOAL_BUFFER_LENGTH,i=Ua.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,Ua.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=Ua.BUFFER_LOW_WATER_LINE,i=Ua.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,Ua.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,n)}}]),e}(Yr.EventTarget),yo=function t(e,i,n){Jr(this,t);var r,s,a,o=e.masterPlaylistController_,l=o[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(o);if(i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=n,this.enabled=(r=e.playlists,s=i.id,a=l,function(t){var e=r.master.playlists[s],i=Cs(e),n=Es(e);return void 0===t?n:(t?delete e.disabled:e.disabled=!0,t===n||i||(a(),t?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),t)})},bo=["seeking","seeked","pause","playing","error"],To=function(){function t(e){var i=this;Jr(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ra("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},s=function(){return i.techWaiting_()},a=function(){return i.cancelTimer_()},o=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",o),this.tech_.on("waiting",s),this.tech_.on(bo,a),this.tech_.on("canplay",n),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",o),i.tech_.off("waiting",s),i.tech_.off(bo,a),i.tech_.off("canplay",n),i.checkCurrentTimeTimeout_&&r.a.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return ts(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&r.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=r.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var t=this.seekable(),e=this.tech_.currentTime(),i=void 0;this.afterSeekableWindow_(t,e,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=t.end(t.length-1));this.beforeSeekableWindow_(t,e)&&(i=t.start(0)+.1);return void 0!==i&&(this.logger_("Trying to seek outside of seekable at time "+e+" with seekable range "+Xs(t)+". Seeking to "+i+"."),this.tech_.setCurrentTime(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=$s(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=Ws(n,e);if(this.videoUnderflow_(r,n,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var s=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+s+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*s,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t.length)return!1;var r=t.end(t.length-1)+.1;return!i.endList&&n&&(r=t.end(t.length-1)+3*i.targetDuration),e>r}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,i){if(0===t.length){var n=this.gapFromVideoUnderflow_(e,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=Ws(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var i=function(t){if(t.length<2)return Yr.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return Yr.createTimeRanges(e)}(t),n=0;n<i.length;n++){var r=i.start(n),s=i.end(n);if(e-r<4&&e-r>2)return{start:r,end:s}}return null}}]),t}(),wo={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},So=function(t){!function t(e,i){var n=0,r=0,s=Yr.mergeOptions(wo,i);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){r&&e.currentTime(r)},o=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<1e3*s.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return n=Date.now(),s.getSource.call(e,o);Yr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function t(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",t)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=function(i){u(),t(e,i)}}(this,t)},ko={PlaylistLoader:fs,Playlist:As,Decrypter:j.b,AsyncStream:j.a,decrypt:j.c,utils:Hs,STANDARD_PLAYLIST_SELECTOR:function(){var t=this.useDevicePixelRatio&&r.a.devicePixelRatio||1;return function(t,e,i,n,s){var a=t.playlists.map(function(t){var e,i;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||r.a.Number.MAX_VALUE,width:e,height:i,playlist:t}});Xa(a,function(t,e){return t.bandwidth-e.bandwidth});var o=(a=a.filter(function(t){return!As.isIncompatible(t.playlist)})).filter(function(t){return As.isEnabled(t.playlist)});o.length||(o=a.filter(function(t){return!As.isDisabled(t.playlist)}));var l=o.filter(function(t){return t.bandwidth*Ua.BANDWIDTH_VARIANCE<e}),u=l[l.length-1],c=l.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===s){var h=c||o[0]||a[0];return h?h.playlist:null}var d=l.filter(function(t){return t.width&&t.height});Xa(d,function(t,e){return t.width-e.width});var f=d.filter(function(t){return t.width===i&&t.height===n});u=f[f.length-1];var p=f.filter(function(t){return t.bandwidth===u.bandwidth})[0],m=void 0,g=void 0,_=void 0;p||(g=(m=d.filter(function(t){return t.width>i||t.height>n})).filter(function(t){return t.width===m[0].width&&t.height===m[0].height}),u=g[g.length-1],_=g.filter(function(t){return t.bandwidth===u.bandwidth})[0]);var v=_||p||c||o[0]||a[0];return v?v.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(Wa(this.tech_.el(),"width"),10)*t,parseInt(Wa(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(As.isEnabled);return Xa(t,function(t,e){return Ya(t,e)}),t.filter(function(t){return da(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:Ya,comparePlaylistResolution:function(t,e){var i=void 0,n=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||r.a.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),i===(n=n||r.a.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n},xhr:Ds()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(ko,t,{get:function(){return Yr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Ua[t]},set:function(e){Yr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Yr.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Ua[t]=e}})});var Co=function(t){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t))return"hls";return/^application\/dash\+xml/i.test(t)?"dash":null},Eo=function(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})};ko.canPlaySource=function(){return Yr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var xo=function(t){var e=t.masterPlaylistController_.mainSegmentLoader_,i=t.masterPlaylistController_.audioSegmentLoader_,n=Yr.players[t.tech_.options_.playerId];if(n.eme){var r=function(t,e,i){if(!t)return t;var n=void 0,r=void 0;if(i.mimeType_)n=e.mimeType_,r=i.mimeType_;else{var s=ma(e.mimeType_),a=s.parameters.codecs.split(","),o=void 0,l=void 0;a.forEach(function(t){t=t.trim(),ga(t)?o=t:_a(t)&&(l=t)}),n=s.type+'; codecs="'+l+'"',r=s.type.replace("video","audio")+'; codecs="'+o+'"'}var u={},c=e.playlist_;for(var h in t)u[h]={audioContentType:r,videoContentType:n},c.contentProtection&&c.contentProtection[h]&&c.contentProtection[h].pssh&&(u[h].pssh=c.contentProtection[h].pssh),"string"==typeof t[h]&&(u[h].url=t[h]);return Yr.mergeOptions(t,u)}(t.source_.keySystems,e,i);r&&(n.currentSource().keySystems=r,11!==Yr.browser.IE_VERSION&&n.eme.initializeMediaKeys&&n.eme.initializeMediaKeys())}},Po=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem("videojs-vhs");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}};ko.supportsNativeHls=function(){var t=a.a.createElement("video");if(!Yr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),ko.supportsNativeDash=!!Yr.getTech("Html5").isSupported()&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),ko.supportsTypeNatively=function(t){return"hls"===t?ko.supportsNativeHls:"dash"===t&&ko.supportsNativeDash},ko.isSupported=function(){return Yr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ao=Yr.getComponent("Component"),Oo=function(t){function e(t,i,n){Jr(this,e);var r=is(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n.hls));if(i.options_&&i.options_.playerId){var s=Yr(i.options_.playerId);s.hasOwnProperty("hls")||Object.defineProperty(s,"hls",{get:function(){return Yr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),s.vhs=r,s.dash=r,r.player_=s}if(r.tech_=i,r.source_=t,r.stats={},r.ignoreNextSeekingEvent_=!1,r.setOptions_(),r.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;e&&e.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()}),r.on(r.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),r.on(r.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,"play",r.play),r}return es(e,Ao),ts(e,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Po();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ua.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ua.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=ko,this.options_.sourceType=Co(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t)},this.masterPlaylistController_=new vo(this.options_),this.playbackWatcher_=new To(Yr.mergeOptions(this.options_,{seekable:function(){return i.seekable()},media:function(){return i.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){Yr.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ko.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ko.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){Yr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ys(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ys(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(t){if(!window.localStorage)return!1;var e=Po();e=e?Yr.mergeOptions(e,t):t;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(e))}catch(t){return!1}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;e=(t=i).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter(function(t){return!Cs(t)}).map(function(e,i){return new yo(t,e,e.id)}):[]},xo(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&this.tech_.src(Yr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=Yr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,i;e=t.qualityLevels_,(i=t).representations().forEach(function(t){e.addQualityLevel(t)}),Eo(e,i.playlists)}),this.playlists.on("mediachange",function(){Eo(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(t,e){return Vs({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToProgramTime",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return qs({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),e}(),Io={name:"videojs-http-streaming",VERSION:"1.13.2",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Yr.mergeOptions(Yr.options,e);return Io.canPlayType(t.type,i)},handleSource:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Yr.mergeOptions(Yr.options,i);return e.hls=new Oo(t,e,n),e.hls.xhr=Ds(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Yr.mergeOptions(Yr.options,e).hls.overrideNative,n=Co(t);return n&&(!ko.supportsTypeNatively(n)||i)?"maybe":""}};void 0!==Yr.MediaSource&&void 0!==Yr.URL||(Yr.MediaSource=Ca,Yr.URL=Ea),Ca.supportsNativeMediaSources()&&Yr.getTech("Html5").registerSourceHandler(Io,0),Yr.HlsHandler=Oo,Yr.HlsSourceHandler=Io,Yr.Hls=ko,Yr.use||Yr.registerComponent("Hls",ko),Yr.options.hls=Yr.options.hls||{},Yr.registerPlugin?Yr.registerPlugin("reloadSourceOnError",So):Yr.plugin("reloadSourceOnError",So),e.default=Yr},function(t,e){},function(t,e,i){var n=i(20),r=i(6);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?r(t):e}},function(t,e){function i(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=i=function(t){return typeof t}:t.exports=i=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(e)}t.exports=i},function(t,e){function i(e){return t.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(e)}t.exports=i},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e){t.exports=function(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(t){n=t}return[n,i]}},function(t,e){function i(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var i,s=String(t);return(i=n[s.toLowerCase()])?i:(i=r[s.toLowerCase()])||(1===s.length?s.charCodeAt(0):void 0)}i.isEventKey=function(t,e){if(t&&"object"==typeof t){var i=t.which||t.keyCode||t.charCode;if(null==i)return!1;if("string"==typeof e){var s;if(s=n[e.toLowerCase()])return s===i;if(s=r[e.toLowerCase()])return s===i}else if("number"==typeof e)return e===i;return!1}};var n=(e=t.exports=i).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var a=e.names=e.title={};for(s in n)a[n[s]]=s;for(var o in r)n[o]=r[o]},function(t,e,i){"use strict";var n=i(26),r=i(5),s=i(27),a=function(t){var e={};return t?(t.trim().split("\n").forEach(function(t){var i=t.indexOf(":"),n=t.slice(0,i).trim().toLowerCase(),r=t.slice(i+1).trim();void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]}),e):e};function o(t,e,i){var n=t;return s(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=r({},e,{uri:t}),n.callback=i,n}function l(t,e,i){return u(e=o(t,e,i))}function u(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(c),_)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(h),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,v)}function s(){if(!u){var e;clearTimeout(h),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=v,s=null;return 0!==e?(r={body:n(),statusCode:e,method:f,headers:{},url:d,rawRequest:c},c.getAllResponseHeaders&&(r.headers=a(c.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),i(s,r,r.body)}}var o,u,c=t.xhr||null;c||(c=t.cors||t.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var h,d=c.url=t.uri||t.url,f=c.method=t.method||"GET",p=t.body||t.data,m=c.headers=t.headers||{},g=!!t.sync,_=!1,v={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:c};if("json"in t&&!1!==t.json&&(_=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(!0===t.json?p:t.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(s,0)},c.onload=s,c.onerror=r,c.onprogress=function(){},c.onabort=function(){u=!0},c.ontimeout=r,c.open(f,d,!g,t.username,t.password),g||(c.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(h=setTimeout(function(){if(!u){u=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),c.setRequestHeader)for(o in m)m.hasOwnProperty(o)&&c.setRequestHeader(o,m[o]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(p||null),c}t.exports=l,t.exports.default=l,l.XMLHttpRequest=n.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],function(t){l["delete"===t?"del":t]=function(e,i,n){return(i=o(e,i,n)).method=t.toUpperCase(),u(i)}})},function(t,e,i){(function(e){var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=i}).call(e,i(1))},function(t,e){t.exports=function(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var i=Object.prototype.toString},function(t,e,i){var n=i(0),r=t.exports={WebVTT:i(29),VTTCue:i(30),VTTRegion:i(31)};n.vttjs=r,n.WebVTT=r.WebVTT;var s=r.VTTCue,a=r.VTTRegion,o=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=s,n.VTTRegion=a},r.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||r.shim()},function(t,e,i){var n=i(4),r=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function s(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function a(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function o(){this.values=r(null)}function l(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"==typeof r[s]){var a=r[s].split(i);if(2===a.length)e(a[0],a[1])}}function u(t,e,i){var n=t;function r(){var e=a(t);if(null===e)throw new s(s.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(){t=t.replace(/^\s+/,"")}if(u(),e.startTime=r(),u(),"--\x3e"!==t.substr(0,3))throw new s(s.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),u(),e.endTime=r(),u(),function(t,e){var n=new o;l(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),a=s[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","center","end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","center","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","center","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");try{e.line=n.get("line","auto")}catch(t){}e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100);try{e.align=n.get("align","center")}catch(t){e.align=n.get("align","middle")}try{e.position=n.get("position","auto")}catch(t){e.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}s.prototype=r(Error.prototype),s.prototype.constructor=s,s.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var c=n.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},p={rt:"ruby"};function m(t,e){function i(){if(!e)return null;var t,i=e.match(/^([^<]*)(<[^>]*>?)?/);return t=i[1]?i[1]:i[2],e=e.substr(t.length),t}function n(t,e){return!p[e.localName]||p[e.localName]===t.localName}function r(e,i){var n=h[e];if(!n)return null;var r=t.document.createElement(n),s=f[e];return s&&i&&(r[s]=i.trim()),r}for(var s,o,l=t.document.createElement("div"),u=l,m=[];null!==(s=i());)if("<"!==s[0])u.appendChild(t.document.createTextNode((o=s,c.innerHTML=o,o=c.textContent,c.textContent="",o)));else{if("/"===s[1]){m.length&&m[m.length-1]===s.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,_=a(s.substr(1,s.length-2));if(_){g=t.document.createProcessingInstruction("timestamp",_),u.appendChild(g);continue}var v=s.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=r(v[1],v[3])))continue;if(!n(u,g))continue;if(v[2]){var y=v[2].split(".");y.forEach(function(t){var e=/^bg_/.test(t),i=e?t.slice(3):t;if(d.hasOwnProperty(i)){var n=e?"background-color":"color",r=d[i];g.style[n]=r}}),g.className=y.join(" ")}m.push(v[1]),u.appendChild(g),u=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function _(t){for(var e=0;e<g.length;e++){var i=g[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function v(t){var e=[],i="";if(!t||!t.childNodes)return"ltr";function n(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function r(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var s=i.match(/^.*(\n|\r)/);return s?(t.length=0,s[0]):i}return"ruby"===e.tagName?r(t):e.childNodes?(n(t,e),r(t)):void 0}for(n(e,t);i=r(e);)for(var s=0;s<i.length;s++)if(_(i.charCodeAt(s)))return"rtl";return"ltr"}function y(){}function b(t,e,i){y.call(this),this.cue=e,this.cueDiv=m(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:v(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function T(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function w(t,e,i,n){var r=new T(e),s=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}(s),o=[];if(s.snapToLines){var l;switch(s.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var u=r.lineHeight,c=u*Math.round(a),h=i[l]+u,d=o[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/u)*u),a<0&&(c+=""===s.vertical?i.height:i.width,o=o.reverse()),r.move(d,c)}else{var f=r.lineHeight/i.height*100;switch(s.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],r=new T(e)}var p=function(t,e){for(var r,s=new T(t),a=1,o=0;o<e.length;o++){for(;t.overlapsOppositeAxis(i,e[o])||t.within(i)&&t.overlapsAny(n);)t.move(e[o]);if(t.within(i))return t;var l=t.intersectPercentage(i);a>l&&(r=new T(t),a=l),t=new T(s)}return r||s}(r,o);e.move(p.toCSSCompatValues(i))}function S(){}y.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},y.prototype.formatStyle=function(t,e){return 0===t?0:t+e},b.prototype=r(y.prototype),b.prototype.constructor=b,T.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},T.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},T.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},T.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},T.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},T.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},T.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},T.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i}},S.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},S.convertCueToDOMTree=function(t,e){return t&&e?m(t,e):null};S.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],s=T.getSimpleBoxPosition(n),a={font:Math.round(.05*s.height*100)/100+"px sans-serif"};!function(){for(var i,o,l=0;l<e.length;l++)o=e[l],i=new b(t,o,a),n.appendChild(i.div),w(0,i,s,r),o.displayState=i.div,r.push(T.getSimpleBoxPosition(i))}()}else for(var o=0;o<e.length;o++)n.appendChild(e[o].displayState)},S.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},S.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof s))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){for(var t=e.buffer,i=0;i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function n(t){t.match(/X-TIMESTAMP-MAP/)?l(t,function(t,i){switch(t){case"X-TIMESTAMP-MAP":n=i,r=new o,l(n,function(t,e){switch(t){case"MPEGT":r.integer(t+"S",e);break;case"LOCA":r.set(t+"L",a(e))}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}var n,r},/=/):l(t,function(t,i){switch(t){case"Region":!function(t){var i=new o;if(l(t,function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new o;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"])}},/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}(i)}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var c=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new s(s.Errors.BadSignature);e.state="HEADER"}for(var h=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(h?h=!1:r=i(),e.state){case"HEADER":/:/.test(r)?n(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{u(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var d=-1!==r.indexOf("--\x3e");if(!r||d&&(h=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new s(s.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=S},function(t,e){var i="auto",n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}function a(t,e,r){this.hasBeenReset=!1;var a="",o=!1,l=t,u=e,c=r,h=null,d="",f=!0,p="auto",m="start",g="auto",_="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(t){a=""+t}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(t){o=!!t}},startTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");u=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(t){c=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(t){h=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var e=function(t){return"string"==typeof t&&!!n[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(t){f=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(t){if("number"!=typeof t&&t!==i)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return m},set:function(t){var e=s(t);e?(m=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");g=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return _},set:function(t){var e=s(t);e?(_=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");v=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(t){var e=s(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=e,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a},function(t,e){var i={"":!0,up:!0};function n(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,r=0,s=100,a=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!n(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!n(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!n(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!n(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!n(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!i[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):l=e}}})}},function(t,e,i){var n=i(7),r=i(33);function s(e,i,a){return r()?t.exports=s=Reflect.construct:t.exports=s=function(t,e,i){var r=[null];r.push.apply(r,e);var s=new(Function.bind.apply(t,r));return i&&n(s,i.prototype),s},s.apply(null,arguments)}t.exports=s},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}},function(t,e,i){var n=i(7);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i(0),r=i.n(n);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var o=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e,i,n,r=this.listeners[t];if(r)if(2===arguments.length)for(i=r.length,e=0;e<i;++e)r[e].call(this,arguments[1]);else for(n=Array.prototype.slice.call(arguments,1),i=r.length,e=0;e<i;++e)r[e].apply(this,n)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),l=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return a(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(o),u=function(t){for(var e,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((e=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},c=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}a(e,t);var i=e.prototype;return i.push=function(t){var e,i,n=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce(function(e,i){var n=i(t);return n===t?e:e.concat([n])},[t]).forEach(function(t){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))n.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void n.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"totalduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void n.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"byterange"},e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),void n.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"map"},e[1]){var s=u(e[1]);if(s.URI&&(i.uri=s.URI),s.BYTERANGE){var a=s.BYTERANGE.split("@"),o=a[0],l=a[1];i.byterange={},o&&(i.byterange.length=parseInt(o,10)),l&&(i.byterange.offset=parseInt(l,10))}}n.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=u(e[1]),i.attributes.RESOLUTION){var c=i.attributes.RESOLUTION.split("x"),h={};c[0]&&(h.width=parseInt(c[0],10)),c[1]&&(h.height=parseInt(c[1],10)),i.attributes.RESOLUTION=h}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}n.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=u(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t))n.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=u(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger("data",i);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return i={type:"tag",tagType:"start"},e[1]&&(i.attributes=u(e[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);n.trigger("data",{type:"tag",data:t.slice(4)})}}}else n.trigger("data",{type:"comment",text:t.slice(1)})}):this.trigger("data",{type:"uri",uri:t}))},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,s=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push(function(t){if(i.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:s}),!0})},i.addTagMapper=function(t){var e=t.expression,i=t.map;this.tagMappers.push(function(t){return e.test(t)?i(t):t})},e}(o);function h(t){for(var e=r.a.atob(t||""),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}var d=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new l,e.parseStream=new c,e.lineStream.pipe(e.parseStream);var i,n,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),a=[],o={},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var e,l;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:h(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,d=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){i={},t.uri&&(i.uri=t.uri),t.byterange&&(i.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes?(o.attributes||(o.attributes={}),s(o.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],(l={default:/yes/i.test(t.attributes.DEFAULT)}).default?l.autoselect=!0:l.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(l.language=t.attributes.LANGUAGE),t.attributes.URI&&(l.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(l.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(l.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(l.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=l}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),o.dateTimeString=t.dateTimeString,o.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}}[t.tagType]||function(){}).call(r)},uri:function(){o.uri=t.uri,a.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),n&&(o.key=n),o.timeline=d,i&&(o.map=i),o={}},comment:function(){},custom:function(){t.segment?(o.custom=o.custom||{},o.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)}),e}a(e,t);var i=e.prototype;return i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(o)},function(t,e,i){"use strict";i.d(e,"a",function(){return Y}),i.d(e,"b",function(){return G});var n=i(37),r=i.n(n),s=i(0),a=i.n(s),o=i(38),l=i.n(o),u=i(43),c=(i.n(u),function(t){return!!t&&"object"==typeof t}),h=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(e,i){return Object.keys(i).forEach(function(n){Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):c(e[n])&&c(i[n])?e[n]=t(e[n],i[n]):e[n]=i[n]}),e},{})},d=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},f=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},p="INVALID_NUMBER_OF_PERIOD",m="DASH_EMPTY_MANIFEST",g="DASH_INVALID_XML",_="NO_BASE_URL",v="SEGMENT_TIME_UNSPECIFIED",y="UNSUPPORTED_UTC_TIMING_SCHEME",b=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,s=void 0===n?"":n,a=t.range,o=void 0===a?"":a,l=t.indexRange,u=void 0===l?"":l,c={uri:s,resolvedUri:r()(i||"",s)};if(o||u){var h=(o||u).split("-"),d=parseInt(h[0],10),f=parseInt(h[1],10);c.byterange={length:f-d+1,offset:d}}return c},T={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/n))}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,s=void 0===r?1:r,a=t.duration,o=t.start,l=void 0===o?0:o,u=t.minimumUpdatePeriod,c=void 0===u?0:u,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(e+i)/1e3,p=n+l,m=f+c-p,g=Math.ceil(m*s/a),_=Math.floor((f-p-d)*s/a),v=Math.floor((f-p)*s/a);return{start:Math.max(0,_),end:Math.min(g,v)}}},w=function(t){var e=t.type,i=void 0===e?"static":e,n=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.sourceDuration,o=T[i](t),l=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}(o.start,o.end).map(function(t){return function(e,i){var n=t.duration,r=t.timescale,s=void 0===r?1:r,a=t.periodIndex,o=t.startNumber;return{number:(void 0===o?1:o)+e,duration:n/s,timeline:a,time:i*n}}}(t));if("static"===i){var u=l.length-1;l[u].duration=a-n/s*u}return l},S=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,r=t.sourceDuration,s=t.timescale,a=void 0===s?1:s,o=t.indexRange,l=void 0===o?"":o,u=t.duration;if(!e)throw new Error(_);var c=b({baseUrl:e,source:n.sourceURL,range:n.range}),h=b({baseUrl:e,source:e,indexRange:l});if(h.map=c,u){var d=w(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else r&&(h.duration=r/a,h.timeline=0);return h.number=0,[h]},k=function(t,e,i){for(var n=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(function(t){return 1!==t.referenceType}),c=[],h=o+e.firstOffset,d=0;d<u.length;d++){var f=e.references[d],p=f.referencedSize,m=f.subsegmentDuration,g=S({baseUrl:i,timescale:l,timeline:s,periodIndex:s,duration:m,sourceDuration:r,indexRange:h+"-"+(h+p-1)})[0];n&&(g.map=n),c.push(g),h+=p}return t.segments=c,t},C=function(t){var e;return(e=t.reduce(function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e;return t},{}),Object.keys(e).map(function(t){return e[t]})).map(function(t){var e,i;return t.discontinuityStarts=(e=t.segments,i="discontinuity",e.reduce(function(t,e,n){return e[i]&&t.push(n),t},[])),t})},E=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t){var n=t[i];if(n.sidx){var r=n.sidx.uri+"-"+(a=n.sidx.byterange,o=void 0,o=a.offset+a.length-1,a.offset+"-"+o),s=e[r]&&e[r].sidx;n.sidx&&s&&k(n,s,n.sidx.resolvedUri)}}var a,o;return t},x=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,s={attributes:(e={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s},P=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,s={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),r&&(s.sidx=r),s},A=function(t,e){var i;if(void 0===e&&(e={}),!t.length)return{};var n=t[0].attributes,r=n.sourceDuration,s=n.type,a=void 0===s?"static":s,o=n.suggestedPresentationDelay,l=n.minimumUpdatePeriod,u=void 0===l?0:l,c=C(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(P),h=C(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),d=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:r,playlists:E(c,e),minimumUpdatePeriod:1e3*u};return"dynamic"===a&&(f.suggestedPresentationDelay=o),h.length&&(f.mediaGroups.AUDIO.audio=function(t,e){var i;void 0===e&&(e={});var n=t.reduce(function(t,n){var r=n.attributes.role&&n.attributes.role.value||"",s=n.attributes.lang||"",a="main";if(s){var o=r?" ("+r+")":"";a=""+n.attributes.lang+o}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>n.attributes.bandwidth?t:(t[a]={language:s,autoselect:!0,default:"main"===r,playlists:E([x(n)],e),uri:""},void 0===i&&"main"===r&&((i=n).default=!0),t)},{});i||(n[Object.keys(n)[0]].default=!0);return n}(h,e)),d.length&&(f.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce(function(t,i){var n,r,s,a,o=i.attributes.lang||"text";return t[o]?t:(t[o]={language:o,default:!1,autoselect:!1,playlists:E([(n=i,s=n.attributes,a=n.segments,void 0===a&&(a=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration),{attributes:(r={NAME:s.id,BANDWIDTH:s.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:"static"===(s.type||"static"),timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:a,mediaSequence:a.length?a[0].number:1})],e),uri:""},t)},{})}(d,e)),f},O=function(t,e,i){var n=t.NOW,r=t.clientOffset,s=t.availabilityStartTime,a=t.timescale,o=void 0===a?1:a,l=t.start,u=void 0===l?0:l,c=t.minimumUpdatePeriod,h=(n+r)/1e3+(void 0===c?0:c)-(s+u);return Math.ceil((h*o-e)/i)},I=function(t,e){for(var i=t.type,n=void 0===i?"static":i,r=t.minimumUpdatePeriod,s=void 0===r?0:r,a=t.media,o=void 0===a?"":a,l=t.sourceDuration,u=t.timescale,c=void 0===u?1:u,h=t.startNumber,d=void 0===h?1:h,f=t.periodIndex,p=[],m=-1,g=0;g<e.length;g++){var _=e[g],v=_.d,y=_.r||0,b=_.t||0;m<0&&(m=b),b&&b>m&&(m=b);var T=void 0;if(y<0){var w=g+1;T=w===e.length?"dynamic"===n&&s>0&&o.indexOf("$Number$")>0?O(t,m,v):(l*c-m)/v:(e[w].t-m)/v}else T=y+1;for(var S=d+p.length+T,k=d+p.length;k<S;)p.push({number:k,duration:v/c,time:m,timeline:f}),m+=v,k++}return p},D=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,L=function(t,e){return t.replace(D,function(t){return function(e,i,n,r){if("$$"===e)return"$";if(void 0===t[i])return e;var s=""+t[i];return"RepresentationID"===i?s:(r=n?parseInt(r,10):1,s.length>=r?s:""+new Array(r-s.length+1).join("0")+s)}}(e))},R=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,s=void 0===n?{sourceURL:"",range:""}:n,a=b({baseUrl:t.baseUrl,source:L(s.sourceURL,i),range:s.range});return function(t,e){return t.duration||e?t.duration?w(t):I(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map(function(e){i.Number=e.number,i.Time=e.time;var n=L(t.media||"",i);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:r()(t.baseUrl||"",n),map:a,number:e.number}})},M=function(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(v);var s,a=r.map(function(e){return function(t,e){var i=t.baseUrl,n=t.initialization,r=void 0===n?{}:n,s=b({baseUrl:i,source:r.sourceURL,range:r.range}),a=b({baseUrl:i,source:e.media,range:e.mediaRange});return a.map=s,a}(t,e)});return i&&(s=w(t)),e&&(s=I(t,e)),s.map(function(t,e){if(a[e]){var i=a[e];return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i}}).filter(function(t){return t})},N=function(t){var e,i,n=t.attributes,r=t.segmentInfo;r.template?(i=R,e=h(n,r.template)):r.base?(i=S,e=h(n,r.base)):r.list&&(i=M,e=h(n,r.list));var s={attributes:n};if(!i)return s;var a=i(e,r.timeline);if(e.duration){var o=e,l=o.duration,u=o.timescale,c=void 0===u?1:u;e.duration=l/c}else a.length?e.duration=a.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return s.attributes=e,s.segments=a,r.base&&e.indexRange&&(s.sidx=a[0],s.segments=[]),s},U=function(t,e){return f(t.childNodes).filter(function(t){return t.tagName===e})},B=function(t){return t.textContent.trim()},j=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var i=e.slice(1),n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(s||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(l||0)},F={mediaPresentationDuration:function(t){return j(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return j(t)},suggestedPresentationDelay:function(t){return j(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return j(t)},start:function(t){return j(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?j(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},H=function(t){return t&&t.attributes?f(t.attributes).reduce(function(t,e){var i=F[e.name]||F.DEFAULT;return t[e.name]=i(e.value),t},{}):{}},V={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},q=function(t,e){return e.length?d(t.map(function(t){return e.map(function(e){return r()(t,B(e))})})):t},z=function(t){var e=U(t,"SegmentTemplate")[0],i=U(t,"SegmentList")[0],n=i&&U(i,"SegmentURL").map(function(t){return h({tag:"SegmentURL"},H(t))}),r=U(t,"SegmentBase")[0],s=i||e,a=s&&U(s,"SegmentTimeline")[0],o=i||r||e,l=o&&U(o,"Initialization")[0],u=e&&H(e);u&&l?u.initialization=l&&H(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:a&&U(a,"S").map(function(t){return H(t)}),list:i&&h(H(i),{segmentUrls:n,initialization:H(l)}),base:r&&h(H(r),{initialization:H(l)})};return Object.keys(c).forEach(function(t){c[t]||delete c[t]}),c},$=function(t,e,i){return function(n){var r=H(n),s=q(e,U(n,"BaseURL")),a=U(n,"Role")[0],o={role:H(a)},u=h(t,r,o),c=U(n,"ContentProtection").reduce(function(t,e){var i=H(e),n=V[i.schemeIdUri];if(n){t[n]={attributes:i};var r=U(e,"cenc:pssh")[0];if(r){var s=B(r),a=s&&l()(s);t[n].pssh=a}}return t},{});Object.keys(c).length&&(u=h(u,{contentProtection:c}));var f=z(n),p=U(n,"Representation"),m=h(i,f);return d(p.map(function(t,e,i){return function(n){var r=U(n,"BaseURL"),s=q(e,r),a=h(t,H(n)),o=z(n);return s.map(function(t){return{segmentInfo:h(i,o),attributes:h(a,{baseUrl:t})}})}}(u,s,m)))}},W=function(t,e){void 0===e&&(e={});var i=e,n=i.manifestUri,r=void 0===n?"":n,s=i.NOW,o=void 0===s?Date.now():s,l=i.clientOffset,u=void 0===l?0:l,c=U(t,"Period");if(!c.length)throw new Error(p);var f=H(t),m=q([r],U(t,"BaseURL"));return f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=u,d(c.map(function(t,e){return function(i,n){var r=q(e,U(i,"BaseURL")),s=H(i),o=parseInt(s.id,10),l=a.a.isNaN(o)?n:o,u=h(t,{periodIndex:l}),c=U(i,"AdaptationSet"),f=z(i);return d(c.map($(u,r,f)))}}(f,m)))},X=function(t){if(""===t)throw new Error(m);var e=(new u.DOMParser).parseFromString(t,"application/xml"),i=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(g);return i},Y=function(t,e){return void 0===e&&(e={}),A(W(X(t),e).map(N),e.sidxMapping)},G=function(t){return function(t){var e=U(t,"UTCTiming")[0];if(!e)return null;var i=H(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(y)}return i}(X(t))}},function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=n(i(8)),s=n(i(0));t.exports=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=r.buildAbsoluteURL(s.location&&s.location.href||"",t)),r.buildAbsoluteURL(t,e))}},function(t,e,i){"use strict";(function(e){var n,r=(n=i(0))&&"object"==typeof n&&"default"in n?n.default:n,s=function(t){return r.atob?r.atob(t):e.from(t,"base64").toString("binary")};t.exports=function(t){for(var e=s(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}}).call(e,i(39).Buffer)},function(t,e,i){"use strict";(function(t){var n=i(40),r=i(41),s=i(42);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,i)}function u(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=d(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),r=(t=o(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(l.isBuffer(e)){var i=0|f(e.length);return 0===(t=o(t,i)).length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?o(t,0):d(t,e);if("Buffer"===e.type&&s(e.data))return d(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=o(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function d(t,e){var i=e.length<0?0:0|f(e.length);t=o(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function g(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:_(t,e,i,n,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):_(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function _(t,e,i,n,r){var s,a=1,o=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,o/=2,l/=2,i/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(s=i;s<o;s++)if(u(t,s)===u(e,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*a}else-1!==c&&(s-=s-c),c=-1}else for(i+l>o&&(i=o-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(u(t,s+d)!==u(e,d)){h=!1;break}if(h)return s}return-1}function v(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(2*a,2),16);if(isNaN(o))return a;t[i+a]=o}return a}function y(t,e,i,n){return V(F(e,t.length-i),t,i,n)}function b(t,e,i,n){return V(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function T(t,e,i,n){return b(t,e,i,n)}function w(t,e,i,n){return V(H(e),t,i,n)}function S(t,e,i,n){return V(function(t,e){for(var i,n,r,s=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,r=i%256,s.push(r),s.push(n);return s}(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function C(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var s,a,o,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=i)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(s=t[r+1]))&&(l=(31&u)<<6|63&s)>127&&(c=l);break;case 3:s=t[r+1],a=t[r+2],128==(192&s)&&128==(192&a)&&(l=(15&u)<<12|(63&s)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=t[r+1],a=t[r+2],o=t[r+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(l=(15&u)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=h}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=E));return i}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,i){return u(null,t,e,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}(null,t,e,i)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=l.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,i);case"utf8":case"utf-8":return C(this,e,i);case"ascii":return x(this,e,i);case"latin1":case"binary":return P(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,i,n,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(r>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),o=Math.min(s,a),u=this.slice(n,r),c=t.slice(e,i),h=0;h<o;++h)if(u[h]!==c[h]){s=u[h],a=c[h];break}return s<a?-1:a<s?1:0},l.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},l.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},l.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},l.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return v(this,t,e,i);case"utf8":case"utf-8":return y(this,t,e,i);case"ascii":return b(this,t,e,i);case"latin1":case"binary":return T(this,t,e,i);case"base64":return w(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function x(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function A(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=j(t[s]);return r}function O(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function I(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,r,s){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function L(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function R(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function M(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(t,e,i,n,s){return s||M(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function U(t,e,i,n,s){return s||M(t,0,i,8),r.write(t,e,i,n,52,8),i+8}l.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;i=new l(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},l.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n},l.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},l.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=this[t],r=1,s=0;++s<e&&(r*=256);)n+=this[t+s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||I(t,e,this.length);for(var n=e,r=1,s=this[t+--n];n>0&&(r*=256);)s+=this[t+--n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},l.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,s=0;for(this[e]=255&t;++s<i&&(r*=256);)this[e+s]=t/r&255;return e+i},l.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||D(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,s=1;for(this[e+r]=255&t;--r>=0&&(s*=256);)this[e+r]=t/s&255;return e+i},l.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var s=0,a=1,o=0;for(this[e]=255&t;++s<i&&(a*=256);)t<0&&0===o&&0!==this[e+s-1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+i},l.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var s=i-1,a=1,o=0;for(this[e+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[e+s+1]&&(o=1),this[e+s]=(t/a>>0)-o&255;return e+i},l.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},l.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},l.prototype.writeDoubleLE=function(t,e,i){return U(this,t,e,!0,i)},l.prototype.writeDoubleBE=function(t,e,i){return U(this,t,e,!1,i)},l.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},l.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var a=l.isBuffer(t)?t:F(new l(t,n).toString()),o=a.length;for(s=0;s<i-e;++s)this[s+e]=a[s%o]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function H(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(e,i(1))},function(t,e,i){"use strict";e.byteLength=function(t){var e=u(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=u(t),a=n[0],o=n[1],l=new s(function(t,e,i){return 3*(e+i)/4-i}(0,a,o)),c=0,h=o>0?a-4:a;for(i=0;i<h;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===o&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[c++]=255&e);1===o&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,s=[],a=0,o=i-r;a<o;a+=16383)s.push(c(t,a,a+16383>o?o:a+16383));1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return s.join("")};for(var n=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=a.length;o<l;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var r,s,a=[],o=e;o<i;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),a.push(n[(s=r)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,n,r){var s,a,o=8*r-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=i?r-1:0,d=i?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+t[e+h],h+=d,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=u}return(f?-1:1)*a*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var a,o,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,r),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[i+f]=255&o,f+=p,o/=256,r-=8);for(a=a<<r|o,u+=r;u>0;t[i+f]=255&a,f+=p,a/=256,u-=8);t[i+f-p]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){function n(t){this.options=t||{locator:{}}}function r(){this.cdata=!1}function s(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function a(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function o(t,e,i){return"string"==typeof t?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}function l(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var i=this.options,n=new u,s=i.domBuilder||new r,o=i.errorHandler,l=i.locator,c=i.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&s.setDocumentLocator(l),n.errorHandler=function(t,e,i){if(!t){if(e instanceof r)return e;t=e}var n={},s=t instanceof Function;function o(e){var r=t[e];!r&&s&&(r=2==t.length?function(i){t(e,i)}:t),n[e]=r&&function(t){r("[xmldom "+e+"]\t"+t+a(i))}||function(){}}return i=i||{},o("warning"),o("error"),o("fatalError"),n}(o,s,l),n.domBuilder=i.domBuilder||s,/\/x?html?$/.test(e)&&(h.nbsp=" ",h.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?n.parse(t,c,h):n.errorHandler.error("invalid doc source"),s.doc},r.prototype={startDocument:function(){this.doc=(new c).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var r=this.doc,a=r.createElementNS(t,i||e),o=n.length;l(this,a),this.currentElement=a,this.locator&&s(this.locator,a);for(var u=0;u<o;u++){t=n.getURI(u);var c=n.getValue(u),h=(i=n.getQName(u),r.createAttributeNS(t,i));this.locator&&s(n.getLocator(u),h),h.value=h.nodeValue=c,a.setAttributeNode(h)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&s(this.locator,i),l(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=o.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&s(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=o.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&s(this.locator,n),l(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(t,e,i);this.locator&&s(this.locator,r),l(this,r)}},warning:function(t){console.warn("[xmldom warning]\t"+t,a(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,a(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,a(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){r.prototype[t]=function(){return null}});var u=i(44).XMLReader,c=e.DOMImplementation=i(9).DOMImplementation;e.XMLSerializer=i(9).XMLSerializer,e.DOMParser=n},function(t,e){var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+i.source+n.source+"*(?::"+i.source+n.source+"*)?$"),s=0,a=1,o=2,l=3,u=4,c=5,h=6,d=7;function f(){}function p(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function m(t,e,i,n,r,f){for(var p,m=++e,g=s;;){var _=t.charAt(m);switch(_){case"=":if(g===a)p=t.slice(e,m),g=l;else{if(g!==o)throw new Error("attribute equal must after attrName");g=l}break;case"'":case'"':if(g===l||g===a){if(g===a&&(f.warning('attribute value must after "="'),p=t.slice(e,m)),e=m+1,!((m=t.indexOf(_,e))>0))throw new Error("attribute value no end '"+_+"' match");v=t.slice(e,m).replace(/&#?\w+;/g,r),i.add(p,v,e-1),g=c}else{if(g!=u)throw new Error('attribute value must after "="');v=t.slice(e,m).replace(/&#?\w+;/g,r),i.add(p,v,e),f.warning('attribute "'+p+'" missed start quot('+_+")!!"),e=m+1,g=c}break;case"/":switch(g){case s:i.setTagName(t.slice(e,m));case c:case h:case d:g=d,i.closed=!0;case u:case a:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),g==s&&i.setTagName(t.slice(e,m)),m;case">":switch(g){case s:i.setTagName(t.slice(e,m));case c:case h:case d:break;case u:case a:"/"===(v=t.slice(e,m)).slice(-1)&&(i.closed=!0,v=v.slice(0,-1));case o:g===o&&(v=p),g==u?(f.warning('attribute "'+v+'" missed quot(")!!'),i.add(p,v.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===n[""]&&v.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),i.add(v,v,e));break;case l:throw new Error("attribute value missed!!")}return m;case"":_=" ";default:if(_<=" ")switch(g){case s:i.setTagName(t.slice(e,m)),g=h;break;case a:p=t.slice(e,m),g=o;break;case u:var v=t.slice(e,m).replace(/&#?\w+;/g,r);f.warning('attribute "'+v+'" missed quot(")!!'),i.add(p,v,e);case c:g=h}else switch(g){case o:i.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&p.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),i.add(p,p,e),e=m,g=a;break;case c:f.warning('attribute space is required"'+p+'"!!');case h:g=a,e=m;break;case l:g=u,e=m;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function g(t,e,i){for(var n=t.tagName,r=null,s=t.length;s--;){var a=t[s],o=a.qName,l=a.value;if((d=o.indexOf(":"))>0)var u=a.prefix=o.slice(0,d),c=o.slice(d+1),h="xmlns"===u&&c;else c=o,u=null,h="xmlns"===o&&"";a.localName=c,!1!==h&&(null==r&&(r={},y(i,i={})),i[h]=r[h]=l,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(h,l))}for(s=t.length;s--;){(u=(a=t[s]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=i[u||""]))}var d;(d=n.indexOf(":"))>0?(u=t.prefix=n.slice(0,d),c=t.localName=n.slice(d+1)):(u=null,c=t.localName=n);var f=t.uri=i[u||""];if(e.startElement(f,c,n,t),!t.closed)return t.currentNSMap=i,t.localNSMap=r,!0;if(e.endElement(f,c,n),r)for(u in r)e.endPrefixMapping(u)}function _(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),s)}return e+1}function v(t,e,i,n){var r=n[i];return null==r&&((r=t.lastIndexOf("</"+i+">"))<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function y(t,e){for(var i in t)e[i]=t[i]}function b(t,e,i,n){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3}var s=function(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=e,r.exec(t);for(;i=r.exec(t);)if(n.push(i),i[1])return n}(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],l=a>3&&/^public$/i.test(s[2][0])&&s[3][0],u=a>4&&s[4][0],c=s[a-1];return i.startDTD(o,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),i.endDTD(),c.index+c[0].length}}return-1}function T(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(r){r[0].length;return i.processingInstruction(r[1],r[2]),n+2}return-1}return-1}function w(t){}function S(t,e){return t.__proto__=e,t}f.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),y(e,e={}),function(t,e,i,n,r){function s(t){var e=t.slice(1,-1);return e in i?i[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>y){var i=t.substring(y,e).replace(/&#?\w+;/g,s);h&&o(y),n.characters(i,0,e-y),y=e}}function o(e,i){for(;e>=u&&(i=c.exec(t));)l=i.index,u=l+i[0].length,h.lineNumber++;h.columnNumber=e-l+1}var l=0,u=0,c=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,d=[{currentNSMap:e}],f={},y=0;for(;;){try{var S=t.indexOf("<",y);if(S<0){if(!t.substr(y).match(/^\s*$/)){var k=n.doc,C=k.createTextNode(t.substr(y));k.appendChild(C),n.currentElement=C}return}switch(S>y&&a(S),t.charAt(S+1)){case"/":var E=t.indexOf(">",S+3),x=t.substring(S+2,E),P=d.pop();E<0?(x=t.substring(S+2).replace(/[\s<].*/,""),r.error("end tag name: "+x+" is not complete:"+P.tagName),E=S+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),r.error("end tag name: "+x+" maybe not complete"),E=S+1+x.length);var A=P.localNSMap,O=P.tagName==x,I=O||P.tagName&&P.tagName.toLowerCase()==x.toLowerCase();if(I){if(n.endElement(P.uri,P.localName,x),A)for(var D in A)n.endPrefixMapping(D);O||r.fatalError("end tag name: "+x+" is not match the current start tagName:"+P.tagName)}else d.push(P);E++;break;case"?":h&&o(S),E=T(t,S,n);break;case"!":h&&o(S),E=b(t,S,n,r);break;default:h&&o(S);var L=new w,R=d[d.length-1].currentNSMap,E=m(t,S,L,R,s,r),M=L.length;if(!L.closed&&v(t,E,L.tagName,f)&&(L.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&M){for(var N=p(h,{}),U=0;U<M;U++){var B=L[U];o(B.offset),B.locator=p(h,{})}n.locator=N,g(L,n,R)&&d.push(L),n.locator=h}else g(L,n,R)&&d.push(L);"http://www.w3.org/1999/xhtml"!==L.uri||L.closed?E++:E=_(t,E,L.tagName,s,n)}}catch(t){r.error("element parse error: "+t),E=-1}E>y?y=E:a(Math.max(S,y)+1)}}(t,e,i,n,this.errorHandler),n.endDocument()}},w.prototype={setTagName:function(t){if(!r.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,i){if(!r.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},S({},S.prototype)instanceof S||(S=function(t,e){function i(){}for(e in i.prototype=e,i=new i,t)i[e]=t[e];return i}),e.XMLReader=f},function(t,e,i){"use strict";var n=i(11).discardEmulationPreventionBytes,r=i(46).CaptionStream,s=i(10),a=i(2),o=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(i<r.size)return r;i-=r.size}return null},l=function(t,e){var i=s.findBox(t,["moof","traf"]),r=s.findBox(t,["mdat"]),l={},u=[];return r.forEach(function(t,e){var n=i[e];u.push({mdat:t,traf:n})}),u.forEach(function(t){var i,r=t.mdat,u=t.traf,c=s.findBox(u,["tfhd"]),h=a.parseTfhd(c[0]),d=h.trackId,f=s.findBox(u,["tfdt"]),p=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,m=s.findBox(u,["trun"]);e===d&&m.length>0&&(i=function(t,e,i){var r,s,a,l,u=new DataView(t.buffer,t.byteOffset,t.byteLength),c=[];for(s=0;s+4<t.length;s+=a)if(a=u.getUint32(s),s+=4,!(a<=0))switch(31&t[s]){case 6:var h=t.subarray(s+1,s+1+a),d=o(s,e);r={nalUnitType:"sei_rbsp",size:a,data:h,escapedRBSP:n(h),trackId:i},d?(r.pts=d.pts,r.dts=d.dts,l=d):(r.pts=l.pts,r.dts=l.dts),c.push(r)}return c}(r,function(t,e,i){var n=e,r=i.defaultSampleDuration||0,s=i.defaultSampleSize||0,o=i.trackId,l=[];return t.forEach(function(t){var e=a.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=s),t.trackId=o,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration}),l=l.concat(e)}),l}(m,p,h),d),l[d]||(l[d]=[]),l[d]=l[d].concat(i))}),l};t.exports=function(){var t,e,i,n,s,a,o=!1;this.isInitialized=function(){return o},this.init=function(e){t=new r,o=!0,a=!!e&&e.isPartial,t.on("data",function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,s.captions.push(t),s.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||i===t[0]&&n===e[i])},this.parse=function(t,r,a){var o;if(!this.isInitialized())return null;if(!r||!a)return null;if(this.isNewInit(r,a))i=r[0],n=a[i];else if(null===i||!n)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,r,a)}return null!==(o=function(t,e,i){return null===e?null:{seiNals:l(t,e)[e],timescale:i}}(t,i,n))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;a?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(t,e,i){"use strict";var n=i(12),r=i(11),s=function(){s.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))},this)};s.prototype=new n,s.prototype.push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=r.parseSei(t.escapedRBSP)).payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(i=r.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=r.parseCaptionPackets(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},s.prototype.flushCCStreams=function(t){this.ccStreams_.forEach(function(e){return"flush"===t?e.flush():e.partialFlush()},this)},s.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},s.prototype.flush=function(){return this.flushStream("flush")},s.prototype.partialFlush=function(){return this.flushStream("partialFlush")},s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},s.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},s.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},s.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},s.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(t){return null===t?"":(t=a[t]||t,String.fromCharCode(t))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var t=[],e=15;e--;)t.push("");return t},c=function(t,e){c.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,s;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=u();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=u()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))s=o((n=(3&n)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),s=o((n=(3&n)<<8)|r),this[this.mode_](t.pts,s),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=l.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),s=o(n),s+=o(r),this[this.mode_](t.pts,s),this.column_+=s.length)}else this.lastControlCode_=null}};c.prototype=new n,c.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},c.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},c.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},c.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},c.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},c.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},c.prototype.isNormalChar=function(t){return t>=32&&t<=127},c.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=u(),this.displayed_=u()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},c.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,i)},c.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},c.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},c.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},c.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},c.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},t.exports={CaptionStream:s,Cea608Stream:c}},function(t,e,i){"use strict";var n=i(13),r=i(48).handleRollover,s={};s.ts=i(49),s.aac=i(50);var a=i(51).ONE_SECOND_IN_TS,o=function(t,e,i){for(var n,r,a,o,l=0,u=188,c=!1;u<=t.byteLength;)if(71!==t[l]||71!==t[u]&&u!==t.byteLength)l++,u++;else{switch(n=t.subarray(l,u),s.ts.parseType(n,e.pid)){case"pes":r=s.ts.parsePesType(n,e.table),a=s.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(o=s.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),c=!0)}if(c)break;l+=188,u+=188}for(l=(u=t.byteLength)-188,c=!1;l>=0;)if(71!==t[l]||71!==t[u]&&u!==t.byteLength)l--,u--;else{switch(n=t.subarray(l,u),s.ts.parseType(n,e.pid)){case"pes":r=s.ts.parsePesType(n,e.table),a=s.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(o=s.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),c=!0)}if(c)break;l-=188,u-=188}},l=function(t,e,i){for(var n,r,a,o,l,u,c,h=0,d=188,f=!1,p={data:[],size:0};d<t.byteLength;)if(71!==t[h]||71!==t[d])h++,d++;else{switch(n=t.subarray(h,d),s.ts.parseType(n,e.pid)){case"pes":if(r=s.ts.parsePesType(n,e.table),a=s.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(a&&!f&&(o=s.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),f=!0),!i.firstKeyFrame)){if(a&&0!==p.size){for(l=new Uint8Array(p.size),u=0;p.data.length;)c=p.data.shift(),l.set(c,u),u+=c.byteLength;if(s.ts.videoPacketContainsKeyFrame(l)){var m=s.ts.parsePesTime(l);m?(i.firstKeyFrame=m,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(n),p.size+=n.byteLength}}if(f&&i.firstKeyFrame)break;h+=188,d+=188}for(h=(d=t.byteLength)-188,f=!1;h>=0;)if(71!==t[h]||71!==t[d])h--,d--;else{switch(n=t.subarray(h,d),s.ts.parseType(n,e.pid)){case"pes":r=s.ts.parsePesType(n,e.table),a=s.ts.parsePayloadUnitStartIndicator(n),"video"===r&&a&&(o=s.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),f=!0)}if(f)break;h-=188,d-=188}},u=function(t){var e={pid:null,table:null},i={};for(var r in function(t,e){for(var i,n=0,r=188;r<t.byteLength;)if(71!==t[n]||71!==t[r])n++,r++;else{switch(i=t.subarray(n,r),s.ts.parseType(i,e.pid)){case"pat":e.pid||(e.pid=s.ts.parsePat(i));break;case"pmt":e.table||(e.table=s.ts.parsePmt(i))}if(e.pid&&e.table)return;n+=188,r+=188}}(t,e),e.table){if(e.table.hasOwnProperty(r))switch(e.table[r]){case n.H264_STREAM_TYPE:i.video=[],l(t,e,i),0===i.video.length&&delete i.video;break;case n.ADTS_STREAM_TYPE:i.audio=[],o(t,e,i),0===i.audio.length&&delete i.audio}}return i};t.exports={inspect:function(t,e){var i;return(i=s.aac.isLikelyAacData(t)?function(t){for(var e,i=!1,n=0,r=null,o=null,l=0,u=0;t.length-u>=3;){switch(s.aac.parseType(t,u)){case"timed-metadata":if(t.length-u<10){i=!0;break}if((l=s.aac.parseId3TagSize(t,u))>t.length){i=!0;break}null===o&&(e=t.subarray(u,u+l),o=s.aac.parseAacTimestamp(e)),u+=l;break;case"audio":if(t.length-u<7){i=!0;break}if((l=s.aac.parseAdtsSize(t,u))>t.length){i=!0;break}null===r&&(e=t.subarray(u,u+l),r=s.aac.parseSampleRate(e)),n++,u+=l;break;default:u++}if(i)return null}if(null===r||null===o)return null;var c=a/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*c,pts:o+1024*n*c}]}}(t):u(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var i=e;void 0===i&&(i=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a})}if(t.video&&t.video.length){var n=e;if(void 0===n&&(n=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/a,t.ptsTime=t.pts/a}),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=r(s.dts,n),s.pts=r(s.pts,n),s.dtsTime=s.dts/a,s.ptsTime=s.dts/a}}}(i,e),i):null},parseAudioPes_:o}},function(t,e,i){"use strict";var n=i(12),r=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},s=function(t){var e,i;s.prototype.init.call(this),this.type_=t||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=r(t.dts,i),t.pts=r(t.pts,i),e=t.dts,this.trigger("data",t))},this.flush=function(){i=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};s.prototype=new n,t.exports={TimestampRolloverStream:s,handleRollover:r}},function(t,e,i){"use strict";var n=i(13),r=function(t){var e=31&t[1];return e<<=8,e|=t[2]},s=function(t){return!!(64&t[1])},a=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var i=r(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},parsePat:function(t){var e=s(t),i=4+a(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},parsePmt:function(t){var e={},i=s(t),n=4+a(t);if(i&&(n+=t[n]+1),1&t[n+5]){var r;r=3+((15&t[n+1])<<8|t[n+2])-4;for(var o=12+((15&t[n+10])<<8|t[n+11]);o<r;){var l=n+o;e[(31&t[l+1])<<8|t[l+2]]=t[l],o+=5+((15&t[l+3])<<8|t[l+4])}return e}},parsePayloadUnitStartIndicator:s,parsePesType:function(t,e){switch(e[r(t)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!s(t))return null;var e=4+a(t);if(e>=t.byteLength)return null;var i,n=null;return 192&(i=t[e+7])&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+a(t),i=t.subarray(e),n=0,r=0,s=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===o(31&i[r+3])&&(s=!0);do{n++}while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===o(31&i[r+3])&&(s=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===o(31&i[r+3])&&(s=!0),s}}},function(t,e,i){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]};t.exports={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},parseAdtsSize:function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return n[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,i,n;e=10,64&t[5]&&(e+=4,e+=r(t.subarray(10,14)));do{if((i=r(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){n=t.subarray(e+10,e+i+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r}(n,0,s))){var a=n.subarray(s+1),o=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return o*=4,o+=3&a[7]}break}}e+=10,e+=i}while(e<t.byteLength);return null}}},function(t,e){var i,n,r,s,a,o,l;i=function(t){return 9e4*t},n=function(t,e){return t*e},r=function(t){return t/9e4},s=function(t,e){return t/e},a=function(t,e){return i(s(t,e))},o=function(t,e){return n(r(t),e)},l=function(t,e,i){return r(i?t:t-e)},t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:s,audioTsToVideoTs:a,videoTsToAudioTs:o,metadataTsToSeconds:l}},function(t,e,i){"use strict";i.d(e,"c",function(){return f}),i.d(e,"b",function(){return p}),i.d(e,"a",function(){return h});var n=i(53),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},o=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],r=i[4],s=void 0,a=void 0,o=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(s=0;s<256;s++)u[(l[s]=s<<1^283*(s>>7))^s]=s;for(a=o=0;!n[a];a^=c||1,o=u[o]||1)for(d=(d=o^o<<1^o<<2^o<<3^o<<4)>>8^255&d^99,n[a]=d,r[d]=a,p=16843009*l[h=l[c=l[a]]]^65537*h^257*c^16843008*a,f=257*l[d]^16843008*d,s=0;s<4;s++)e[s][a]=f=f<<24^f>>>8,i[s][d]=p=p<<24^p>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),i[s]=i[s].slice(0);return t},l=null,u=function(){function t(e){r(this,t),l||(l=o()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var i=void 0,n=void 0,s=void 0,a=void 0,u=void 0,c=this._tables[0][4],h=this._tables[1],d=e.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(a=e.slice(0),u=[],this._key=[a,u],i=d;i<4*d+28;i++)s=a[i-1],(i%d==0||8===d&&i%d==4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],i%d==0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),a[i]=a[i-d]^s;for(n=0;i;n++,i--)s=a[3&n?i:i-4],u[n]=i<=4||n<4?s:h[0][c[s>>>24]]^h[1][c[s>>16&255]]^h[2][c[s>>8&255]]^h[3][c[255&s]]}return t.prototype.decrypt=function(t,e,i,n,r,s){var a=this._key[1],o=t^a[0],l=n^a[1],u=i^a[2],c=e^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,m=void 0,g=4,_=this._tables[1],v=_[0],y=_[1],b=_[2],T=_[3],w=_[4];for(m=0;m<p;m++)h=v[o>>>24]^y[l>>16&255]^b[u>>8&255]^T[255&c]^a[g],d=v[l>>>24]^y[u>>16&255]^b[c>>8&255]^T[255&o]^a[g+1],f=v[u>>>24]^y[c>>16&255]^b[o>>8&255]^T[255&l]^a[g+2],c=v[c>>>24]^y[o>>16&255]^b[l>>8&255]^T[255&u]^a[g+3],g+=4,o=h,l=d,u=f;for(m=0;m<4;m++)r[(3&-m)+s]=w[o>>>24]<<24^w[l>>16&255]<<16^w[u>>8&255]<<8^w[255&c]^a[g++],h=o,o=l,l=u,u=c,c=h},t}(),c=function(){function t(){r(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),s=e.length,a=0;a<s;++a)e[a].apply(this,r)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),h=function(t){function e(){r(this,e);var i=a(this,t.call(this,c));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(c),d=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},f=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new u(Array.prototype.slice.call(e)),s=new Uint8Array(t.byteLength),a=new Int32Array(s.buffer),o=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,m=void 0,g=void 0,_=void 0;for(o=i[0],l=i[1],c=i[2],h=i[3],_=0;_<n.length;_+=4)f=d(n[_]),p=d(n[_+1]),m=d(n[_+2]),g=d(n[_+3]),r.decrypt(f,p,m,g,a,_),a[_]=d(a[_]^o),a[_+1]=d(a[_+1]^l),a[_+2]=d(a[_+2]^c),a[_+3]=d(a[_+3]^h),o=f,l=p,c=m,h=g;return s},p=function(){function t(e,i,s,a){r(this,t);var o=t.STEP,l=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),i,s,u)),c=o;c<l.length;c+=o)s=new Uint32Array([d(l[c-4]),d(l[c-3]),d(l[c-2]),d(l[c-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),i,s,u));this.asyncStream_.push(function(){a(null,Object(n.a)(u))})}return t.prototype.decryptChunk_=function(t,e,i,n){return function(){var r=f(t,e,i);n.set(r,t.byteOffset)}},s(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}()},function(t,e,i){"use strict";function n(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}i.d(e,"a",function(){return n})},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$subMenuTrigger=$("#sub-menu-trigger"),this.$subMenu=$("#page-sub-menu"),this.$aboutusMenuTrigger=$("#about-us-sub-menu-trigger"),this.$aboutusSubMenu=$("#about-us-sub-menu"),this.$imageHolder=$(".image-holder"),this.$imageHolderTarget=null,this.imageHolderInterval=null,this.imageHolderTimeout=null,this.$mobileMenu=$("#mobile-menu"),this.$mobileMenuControl=$("#mobile-menu-ctrl"),this.$mobileMenuOverlay=this.$mobileMenu.find(".mobile-menu__overlay"),this.$subNavTrigger=this.$mobileMenu.find(".nav-trigger"),this.appStatus={showSubMenu:!1,imageHoverState:!1,showMbMenu:!1,allowClickMbMenu:!0,showSmallMenu:!1,showAboutSubMenu:!1},this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.$subMenuTrigger.on("mouseenter",function(e){e.preventDefault(),t.appStatus.showSubMenu||(t.ToggleAboutSubMenu(!1),t.ToggleSubMenu(!0)),t.appStatus.showAboutSubMenu&&t.ToggleAboutSubMenu(!1)}),this.$subMenu.on("mouseleave",function(e){t.appStatus.showSubMenu&&t.ToggleSubMenu(!1)}),this.$aboutusMenuTrigger.on("mouseenter",function(e){e.preventDefault(),t.appStatus.showAboutSubMenu||t.ToggleAboutSubMenu(!0),t.appStatus.showSubMenu&&t.ToggleSubMenu(!1)}),this.$aboutusSubMenu.on("mouseleave",function(e){t.appStatus.showAboutSubMenu&&t.ToggleAboutSubMenu(!1)}),this.CloseMbSubMenu(),this.$mobileMenuControl.on("click",function(e){t.appStatus.allowClickMbMenu&&(t.appStatus.showMbMenu?(t.appStatus.allowClickMbMenu=!1,t.ToggleMobileMenu(!1)):(t.appStatus.allowClickMbMenu=!1,t.ToggleMobileMenu(!0)))}),this.$mobileMenuOverlay.on("click",function(e){t.appStatus.allowClickMbMenu&&t.appStatus.showMbMenu&&t.ToggleMobileMenu(!1)}),this.$subNavTrigger&&this.$subNavTrigger.on("click",function(e){if(t.appStatus.allowClickMbMenu){t.appStatus.allowClickMbMenu=!1,setTimeout(function(){return t.appStatus.allowClickMbMenu=!0},200),$(e.target).hasClass("active")?$(e.target).removeClass("active"):$(e.target).addClass("active");var i=$(e.target).siblings(".nav-item__sub-menu");i&&i.slideToggle({start:function(){$(this).css({display:"flex"})}})}}),$(".product-showcase__item__body .image-holder>img:first-child").addClass("active"),this.$imageHolder.on("mouseenter",function(e){t.appStatus.imageHoverState?(t.ActiveImageHover(!1),t.$imageHolderTarget=$(e.target),t.ActiveImageHover(!0)):(t.$imageHolderTarget=$(e.target),t.ActiveImageHover(!0))}),this.$imageHolder.on("mouseleave",function(e){t.appStatus.imageHoverState&&t.ActiveImageHover(!1)}),$("body").hasClass("admin-bar")&&window.innerWidth<=600&&(this.$pageHeader=$("#page-header"),$(window).on("scroll",function(){window.pageYOffset>20?t.$pageHeader.addClass("scroll-menu"):t.$pageHeader.removeClass("scroll-menu")}))}},{key:"ToggleSubMenu",value:function(t){this.appStatus.showSubMenu=t,t?this.$subMenu.addClass("active"):this.$subMenu.removeClass("active")}},{key:"ToggleAboutSubMenu",value:function(t){this.appStatus.showAboutSubMenu=t,t?this.$aboutusSubMenu.addClass("active"):this.$aboutusSubMenu.removeClass("active")}},{key:"ToggleMobileMenu",value:function(t){var e=this;setTimeout(function(){e.appStatus.allowClickMbMenu=!0},200),this.appStatus.showMbMenu=t,t?this.$mobileMenu&&this.$mobileMenuControl&&(this.$mobileMenu.addClass("active"),this.$mobileMenuControl.addClass("show-menu")):(this.$mobileMenu&&this.$mobileMenuControl&&(this.$mobileMenu.removeClass("active"),this.$mobileMenuControl.removeClass("show-menu")),this.CloseMbSubMenu())}},{key:"ActiveImageHover",value:function(t){this.$imageHolderTarget.find(".image-holder__item").length>1&&(this.appStatus.imageHoverState=t,t?(this.$imageList=this.$imageHolderTarget.find(".image-holder__item").toArray(),this.ImageCounter=0,this.DoAnimate(!0)):this.CleanUpImageHover())}},{key:"DoAnimate",value:function(){var t=this,e=1700;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(e=600),this.AnimateTimeout=setTimeout(function(){$(t.$imageList[t.ImageCounter]).addClass("slide-away").removeClass("active"),setTimeout(function(){$(t.$imageList[t.ImageCounter]).removeClass("slide-away"),t.ImageCounter===t.$imageList.length-1?t.ImageCounter=0:t.ImageCounter++,setTimeout(function(){$(t.$imageList[t.ImageCounter]).addClass("active")},100)},380),t.DoAnimate()},e)}},{key:"CleanUpImageHover",value:function(){for(var t=window.setTimeout(function(){},0);t--;)window.clearTimeout(t);this.ImageCounter=0,this.$imageHolderTarget.find("img.active").index()>0&&this.$imageHolderTarget.find("img").removeClass("slide-away active"),$(this.$imageList[this.ImageCounter]).removeClass("slide-away").addClass("active")}},{key:"CloseMbSubMenu",value:function(){if(this.$subNavTrigger){var t=this.$subNavTrigger.siblings(".nav-item__sub-menu");t&&t.slideUp("normal"),this.$subNavTrigger.removeClass("active")}}},{key:"SetupTestDriveFloatingButton",value:function(){var t=this;this.$testDriveFloatBlock=$(".signup-test-drive-float-btn"),$(".signup-test-drive-page").length<1?(this.allowInteractionTestDrive=!0,this.$testDriveThumbnail=this.$testDriveFloatBlock.find(".thumbnail-icon"),this.$testDriveMainIcon=this.$testDriveFloatBlock.find(".main-icon"),this.$testDriveCloseIcon=this.$testDriveMainIcon.find(".close-test-drive-area"),this.$testDriveCloseIcon.on("click",function(){t.allowInteractionTestDrive&&(t.allowInteractionTestDrive=!1,t.$testDriveFloatBlock.removeClass("active"),setTimeout(function(){t.allowInteractionTestDrive=!0},350))})):this.$testDriveFloatBlock.hide()}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$productsControlFilter=$(".products-control__item"),this.$productControl=$(".products-control"),this.mobileCaret='<i class="fa fa-caret-down" aria-hidden="true"></i>',this.mobileControl=$(".products-control-mb .action-holder"),this.mobileControlList=$("#mobile-control-list"),this.filterStatus={current:"all",allowSwitchState:!0,context:"Tất cả"},this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.$productsControlFilter.length>0&&this.DoFirstFilter(),this.$productsControlFilter&&this.$productsControlFilter.on("click",function(e){var i=$(e.target).data("target"),n="";n=$(e.target).hasClass("product-control__item__link")?$(e.target).html():$(e.target).find(".product-control__item__link").html();var r=t.$productControl.find(".products-control__item.active");i!==t.filterStatus.current&&t.filterStatus.allowSwitchState&&(r.removeClass("active"),$("[data-target="+i+"]").addClass("active"),t.DoFilter(i,n),t.mobileControlList.slideUp("normal"),t.mobileControl.html(t.filterStatus.context+t.mobileCaret))}),this.mobileControl&&this.mobileControl.on("click",function(e){t.mobileControlList.slideToggle("normal")})}},{key:"DoFilter",value:function(t,e){var i=this;switch(this.filterStatus.current=t,this.filterStatus.context=e,t){case"all":var n=$(".series__block");n.fadeOut("normal",function(t){setTimeout(function(){n.fadeIn("normal",function(t){i.filterStatus.allowSwitchState=!0})},500)});break;default:var r=$(".series__block"),s=$(".series__block[data-value="+t+"]");r.fadeOut("normal",function(t){}),setTimeout(function(){s.fadeIn("normal",function(t){i.filterStatus.allowSwitchState=!0})},500)}}},{key:"DoFirstFilter",value:function(){console.log("window.location.href: "+window.location.href);var t=window.location.href,e="";t.lastIndexOf("#")>-1&&(e=t.substring(t.lastIndexOf("#")+1));var i=e.indexOf("?"),n="";switch(n=i>0?e.substring(0,i):e){case"all":case"":$("#loading-overlay").length>0&&$("#loading-overlay").addClass("hidden");break;default:$(".products-control__item.active").removeClass("active"),$("[data-target = "+n+"]").addClass("active"),this.DoFilter(n,n.replace("-"," ")),this.mobileControl.html(this.filterStatus.context+this.mobileCaret),$("#loading-overlay").length>0&&$("#loading-overlay").addClass("hidden")}}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(57);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$modalElem=$(".modal"),this.$modalOverlay=this.$modalElem.find(".modal-overlay"),this.$closeModal=$(".close-modal"),this.$openModal=$("#trigger-as-shop"),this.bindEvents()}var e,i,s;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.$closeModal.on("click",function(){t.CloseModal()}),this.$openModal.on("click",function(){t.OpenModal()}),this.SetupTopicControl(),this.InitBannerState(),this.SetupBannerAnimation()}},{key:"CloseModal",value:function(){this.$modalElem.removeClass("active")}},{key:"OpenModal",value:function(){this.$modalElem.addClass("active")}},{key:"SetupTopicControl",value:function(){var t=this;this.$topicList=$(".support-pages .topic-holder .topic-list"),this.$mainTopicItem=this.$topicList.find(".topic-item"),this.$mainTopicToggler=this.$topicList.find(".topic-toggler"),this.$subTopicItem=this.$topicList.find(".sub-topic-item"),this.$subTopicToggler=this.$subTopicItem.find(".sub-topic-title"),this.allowChangeTopic=!0,this.$mainTopicItem.on("click",function(e){if(t.allowChangeTopic){t.allowChangeTopic=!1;var i=$(e.target).parents(".topic-item"),n=$(e.target).siblings(".sub-topic-holder, .topic-context");i.hasClass("is-show-topic-content")?(i.removeClass("is-show-topic-content"),n.slideUp("fast",function(){t.allowChangeTopic=!0})):(i.addClass("is-show-topic-content"),n.slideDown("fast",function(){t.allowChangeTopic=!0}))}}),this.$subTopicToggler.on("click",function(e){t.allowChangeTopic&&(t.allowChangeTopic=!1,$(e.target).hasClass("active")?($(e.target).removeClass("active"),$(e.target).siblings(".sub-topic-content").slideUp("fast",function(){t.allowChangeTopic=!0})):($(e.target).addClass("active"),$(e.target).siblings(".sub-topic-content").slideDown("fast",function(){t.allowChangeTopic=!0})))})}},{key:"InitBannerState",value:function(){this.$supportBanner=$(".support-pages .common-banner"),this.$bannerImage=this.$supportBanner.find(".bg-holder"),this.$bannerContent=this.$supportBanner.find(".main-content"),n.TweenMax.set(this.$bannerImage,{opacity:0,y:.04*window.innerWidth}),n.TweenMax.set(this.$bannerContent,{opacity:0,y:.025*window.innerWidth}),this.bannerTimeline=new TimelineMax({paused:!0}),this.bannerTimeline.add(n.TweenMax.to(this.$bannerImage,.8,{opacity:1,y:0,easing:Power4.easeOut}),"+=0.85"),this.bannerTimeline.add(n.TweenMax.to(this.$bannerContent,.75,{opacity:1,y:0}),"-=0.15")}},{key:"SetupBannerAnimation",value:function(){this.bannerTimeline.play()}}])&&r(e.prototype,i),s&&r(e,s),t}();e.default=s},function(t,e,i){(function(i){var n,r=void 0!==t&&t.exports&&void 0!==i?i:this||window;(r._gsQueue||(r._gsQueue=[])).push(function(){"use strict";var t,e,i,n,s,a,o,l,u,c,h,d,f,p;r._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},s=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=s.prototype.render},a=i._internals,o=a.isSelector,l=a.isArray,u=s.prototype=i.to({},.1,{}),c=[];s.version="1.20.5",u.constructor=s,u.kill()._gc=!1,s.killTweensOf=s.killDelayedCallsTo=i.killTweensOf,s.getTweensOf=i.getTweensOf,s.lagSmoothing=i.lagSmoothing,s.ticker=i.ticker,s.render=i.render,u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},u.updateTo=function(t,e){var n,r=this.ratio,s=this.vars.immediateRender||t.immediateRender;for(n in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[n]=t[n];if(this._initted||s)if(e)this._initted=!1,s&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||s)for(var o,l=1/(1-r),u=this._firstPT;u;)o=u.s+u.c,u.c*=l,u.s=o-u.c,u=u._next;return this},u.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,s,o,l,u,c,h,d,f,p=this._dirty?this.totalDuration():this._totalDuration,m=this._time,g=this._totalTime,_=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=p-1e-7&&t>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,s="onComplete",n=n||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(y<0||t<=0&&t>=-1e-7||1e-10===y&&"isPause"!==this.data)&&y!==t&&(n=!0,y>1e-10&&(s="onReverseComplete")),this._rawPrevTime=d=!e||t||y===t?t:1e-10)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&y>0)&&(s="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=d=!e||t||y===t?t:1e-10)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time,(f=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==f||this._initted?this._yoyoEase=f=!0===f?this._ease:f instanceof Ease?f:Ease.map[f]:(f=this.vars.ease,this._yoyoEase=f=f?f instanceof Ease?f:"function"==typeof f?new Ease(f,this.vars.easeParams):Ease.map[f]||i.defaultEase:i.defaultEase)),this.ratio=f?1-f.getRatio((v-this._time)/v):0)),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType&&!f?(u=this._time/v,(1===(c=this._easeType)||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===(h=this._easePower)?u*=u:2===h?u*=u*u:3===h?u*=u*u*u:4===h&&(u*=u*u*u*u),1===c?this.ratio=1-u:2===c?this.ratio=u:this._time/v<.5?this.ratio=u/2:this.ratio=1-u/2):f||(this.ratio=this._ease.getRatio(this._time/v))),m!==this._time||n||_!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=g,this._rawPrevTime=y,this._cycle=_,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||f?r&&this._ease._calcEnd&&!f&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/v)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===g&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,n):s||(s="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,n),e||(this._totalTime!==g||s)&&this._callback("onUpdate")),this._cycle!==_&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),s&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s),0===v&&1e-10===this._rawPrevTime&&1e-10!==d&&(this._rawPrevTime=0)))}else g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},s.to=function(t,e,i){return new s(t,e,i)},s.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new s(t,e,i)},s.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new s(t,e,n)},s.staggerTo=s.allTo=function(t,e,a,u,h,d,f){u=u||0;var p,m,g,_,v=0,y=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(f||a.callbackScope||this,d||c)},T=a.cycle,w=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t))),t=t||[],u<0&&((t=n(t)).reverse(),u*=-1),p=t.length-1,g=0;g<=p;g++){for(_ in m={},a)m[_]=a[_];if(T&&(r(m,t,g),null!=m.duration&&(e=m.duration,delete m.duration)),w){for(_ in w=m.startAt={},a.startAt)w[_]=a.startAt[_];r(m.startAt,t,g)}m.delay=v+(m.delay||0),g===p&&h&&(m.onComplete=b),y[g]=new s(t[g],e,m),v+=u}return y},s.staggerFrom=s.allFrom=function(t,e,i,n,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,s.staggerTo(t,e,i,n,r,a,o)},s.staggerFromTo=s.allFromTo=function(t,e,i,n,r,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,s.staggerTo(t,e,n,r,a,o,l)},s.delayedCall=function(t,e,i,n,r){return new s(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},s.set=function(t,e){return new s(t,0,e)},s.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var h=function(t,e){for(var n=[],r=0,s=t._first;s;)s instanceof i?n[r++]=s:(e&&(n[r++]=s),r=(n=n.concat(h(s,e))).length),s=s._next;return n},d=s.getAllTweens=function(e){return h(t._rootTimeline,e).concat(h(t._rootFramesTimeline,e))};s.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var s,a,o,l=d(0!=r),u=l.length,c=i&&n&&r;for(o=0;o<u;o++)a=l[o],(c||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},s.killChildTweensOf=function(t,e){if(null!=t){var r,u,c,h,d,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),o(t)&&(t=n(t)),l(t))for(h=t.length;--h>-1;)s.killChildTweensOf(t[h],e);else{for(c in r=[],f)for(u=f[c].target.parentNode;u;)u===t&&(r=r.concat(f[c].tweens)),u=u.parentNode;for(d=r.length,h=0;h<d;h++)e&&r[h].totalTime(r[h].totalDuration()),r[h]._enabled(!1,!1)}}};var f=function(t,i,n,r){i=!1!==i,n=!1!==n;for(var s,a,o=d(r=!1!==r),l=i&&n&&r,u=o.length;--u>-1;)a=o[u],(l||a instanceof e||(s=a.target===a.vars.onComplete)&&n||i&&!s)&&a.paused(t)};return s.pauseAll=function(t,e,i){f(!0,t,e,i)},s.resumeAll=function(t,e,i){f(!1,t,e,i)},s.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||1e-10,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},u.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},u.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},u.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},u.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},u.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},u.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},u.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},s},!0),r._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},s=i._internals,a=n._internals={},o=s.isSelector,l=s.isArray,u=s.lazyTweens,c=s.lazyRender,h=r._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var n,r,s=t.cycle;for(n in s)r=s[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},p=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=n.prototype=new e;return n.version="1.20.4",g.constructor=n,g.kill()._gc=g._forcingPlayhead=g._hasPause=!1,g.to=function(t,e,n,r){var s=n.repeat&&h.TweenMax||i;return e?this.add(new s(t,e,n),r):this.set(t,n,r)},g.from=function(t,e,n,r){return this.add((n.repeat&&h.TweenMax||i).from(t,e,n),r)},g.fromTo=function(t,e,n,r,s){var a=r.repeat&&h.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),s):this.set(t,r,s)},g.staggerTo=function(t,e,r,s,a,l,u,c){var h,p,g=new n({onComplete:l,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),_=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),o(t=t||[])&&(t=m(t)),(s=s||0)<0&&((t=m(t)).reverse(),s*=-1),p=0;p<t.length;p++)(h=d(r)).startAt&&(h.startAt=d(h.startAt),h.startAt.cycle&&f(h.startAt,t,p)),_&&(f(h,t,p),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[p],e,h,p*s);return this.add(g,a)},g.staggerFrom=function(t,e,i,n,r,s,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,s,a,o)},g.staggerFromTo=function(t,e,i,n,r,s,a,o,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,s,a,o,l)},g.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},g.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var r,s,a,o,l=new n(t),u=l._timeline;for(null==e&&(e=!0),u._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=u._time,a=u._first;a;)o=a._next,e&&a instanceof i&&a.target===a.vars.onComplete||((s=a._startTime-a._delay)<0&&(r=1),l.add(a,s)),a=o;return u.add(l,0),r&&l.totalDuration(),l},g.add=function(r,s,a,o){var u,c,h,d,f,p;if("number"!=typeof s&&(s=this._parseTimeOrLabel(s,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",o=o||0,u=s,c=r.length,h=0;h<c;h++)l(d=r[h])&&(d=new n({tweens:d})),this.add(d,u),"string"!=typeof d&&"function"!=typeof d&&("sequence"===a?u=d._startTime+d.totalDuration()/d._timeScale:"start"===a&&(d._startTime-=d.delay())),u+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,s);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,s),r._time&&r.render((this.rawTime()-r._startTime)*r._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=(f=this).rawTime()>r._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},g.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},g._remove=function(t,i){return e.prototype._remove.call(this,t,i),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},g.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},g.insert=g.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},g.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},g.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},g.addPause=function(t,e,n,r){var s=i.delayedCall(0,p,n,r||this);return s.vars.onComplete=s.vars.onReverseComplete=e,s.data="isPause",this._hasPause=!0,this.add(s,t)},g.removeLabel=function(t){return delete this._labels[t],this},g.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},g._parseTimeOrLabel=function(e,i,n,r){var s,a;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(a=r.length;--a>-1;)r[a]instanceof t&&r[a].timeline===this&&this.remove(r[a]);if(s="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-s:0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=s);else{if(-1===(a=e.indexOf("=")))return null==this._labels[e]?n?this._labels[e]=s+i:i:this._labels[e]+i;i=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,n):s}return Number(e)+i},g.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},g.stop=function(){return this.paused(!0)},g.gotoAndPlay=function(t,e){return this.play(t,e)},g.gotoAndStop=function(t,e){return this.pause(t,e)},g.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,o,l,h,d=this._time,f=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,m=this._timeScale,g=this._paused;if(d!==this._time&&(t+=this._time-d),t>=f-1e-7&&t>=0)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",o=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(o=!0,this._rawPrevTime>1e-10&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=f+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&1e-10!==this._rawPrevTime&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(o=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(o=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(o=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||o||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(h=this._time)>=d)for(n=this._first;n&&(s=n._next,h===this._time&&(!this._paused||g));)(n._active||n._startTime<=h&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,h===this._time&&(!this._paused||g));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(u.length&&c(),this._callback("onUpdate"))),a&&(this._gc||p!==this._startTime&&m===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(u.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},g._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},g.getChildren=function(t,e,n,r){r=r||-9999999999;for(var s=[],a=this._first,o=0;a;)a._startTime<r||(a instanceof i?!1!==e&&(s[o++]=a):(!1!==n&&(s[o++]=a),!1!==t&&(o=(s=s.concat(a.getChildren(!0,e,n))).length))),a=a._next;return s},g.getTweensOf=function(t,e){var n,r,s=this._gc,a=[],o=0;for(s&&this._enabled(!0,!0),r=(n=i.getTweensOf(t)).length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[o++]=n[r]);return s&&this._enabled(!1,!0),a},g.recent=function(){return this._recent},g._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},g.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,s=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return this._uncache(!0)},g._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},g.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},g.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},g._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},g.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},g.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},g.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,s=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>s&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):s=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),s=0),(i=r._startTime+r._totalDuration/r._timeScale)>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},g.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},g.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},g.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),r._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},s=e._internals,a=s.lazyTweens,o=s.lazyRender,l=r._gsDefine.globals,u=new i(null,null,1,0),c=n.prototype=new t;return c.constructor=n,c.kill()._gc=!1,n.version="1.20.4",c.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,i){i=i||{};var n,r,s,a={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},o=i.repeat&&l.TweenMax||e;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,s=new o(this,n,a),a.onStart=function(){s.target.paused(!0),s.vars.time===s.target.time()||n!==s.duration()||s.isFromTo||s.duration(Math.abs(s.vars.time-s.target.time())/s.target._timeScale).render(s.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||s,i.onStartParams||[])},s},c.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,l,u,c,h,d,f=this._time,p=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,g=this._totalTime,_=this._startTime,v=this._timeScale,y=this._rawPrevTime,b=this._paused,T=this._cycle;if(f!==this._time&&(t+=this._time-f),t>=p-1e-7&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,l="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||y<0||1e-10===y)&&y!==t&&this._first&&(u=!0,y>1e-10&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==f||0===m&&1e-10!==y&&(y>0||t<0&&y>=0)&&!this._locked)&&(l="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=r=!0,l="onReverseComplete"):y>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(u=!0)}else if(0===m&&y<0&&(u=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=m+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&g<=t&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!=(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if((t=this._time)>=f||this._repeat&&T!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!h;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(h=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!h;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(h=n),n=n._prev;h&&h._startTime<m&&(this._time=t=h._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==T&&!this._locked){var w=this._yoyo&&0!=(1&T),S=w===(this._yoyo&&0!=(1&this._cycle)),k=this._totalTime,C=this._cycle,E=this._rawPrevTime,x=this._time;if(this._totalTime=T*m,this._cycle<T?w=!w:this._totalTime+=m,this._time=f,this._rawPrevTime=0===m?y-1e-4:y,this._cycle=T,this._locked=!0,f=w?0:m,this.render(f,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=C,this._locked=!1,this._callback("onRepeat")),f!==this._time)return;if(S&&(this._cycle=T,this._locked=!0,f=w?m+1e-4:-1e-4,this.render(f,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=x,this._totalTime=k,this._cycle=C,this._rawPrevTime=E}if(this._time!==f&&this._first||i||u||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==g&&t>0&&(this._active=!0),0===g&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(d=this._time)>=f)for(n=this._first;n&&(s=n._next,d===this._time&&(!this._paused||b));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(h===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,d===this._time&&(!this._paused||b));){if(n._active||n._startTime<=f&&!n._paused&&!n._gc){if(h===n){for(h=n._prev;h&&h.endTime()>this._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),l&&(this._locked||this._gc||_!==this._startTime&&v===this._timeScale||(0===this._time||p>=this.totalDuration())&&(r&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))}else g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},c.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,s=[],a=this.getChildren(t,e,i),o=0,l=a.length;for(n=0;n<l;n++)(r=a[n]).isActive()&&(s[o++]=r);return s},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},c.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),t=180/Math.PI,e=[],i=[],n=[],s={},a=r._gsDefine.globals,o=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},l=function(t,e,i,n){var r={a:t},s={},a={},o={c:n},l=(t+e)/2,u=(e+i)/2,c=(i+n)/2,h=(l+u)/2,d=(u+c)/2,f=(d-h)/8;return r.b=l+(t-l)/4,s.b=h+f,r.c=s.a=(r.b+s.b)/2,s.c=a.a=(h+d)/2,a.b=d-f,o.b=c+(n-c)/4,a.c=o.a=(a.b+o.b)/2,[r,s,a,o]},u=function(t,r,s,a,o){var u,c,h,d,f,p,m,g,_,v,y,b,T,w=t.length-1,S=0,k=t[0].a;for(u=0;u<w;u++)c=(f=t[S]).a,h=f.d,d=t[S+1].d,o?(y=e[u],T=((b=i[u])+y)*r*.25/(a?.5:n[u]||.5),g=h-((p=h-(h-c)*(a?.5*r:0!==y?T/y:0))+(((m=h+(d-h)*(a?.5*r:0!==b?T/b:0))-p)*(3*y/(y+b)+.5)/4||0))):g=h-((p=h-(h-c)*r*.5)+(m=h+(d-h)*r*.5))/2,p+=g,m+=g,f.c=_=p,f.b=0!==u?k:k=f.a+.6*(f.c-f.a),f.da=h-c,f.ca=_-c,f.ba=k-c,s?(v=l(c,k,_,h),t.splice(S,1,v[0],v[1],v[2],v[3]),S+=4):S++,k=m;(f=t[S]).b=k,f.c=k+.4*(f.d-k),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=k-f.a,s&&(v=l(f.a,k,f.c,f.d),t.splice(S,1,v[0],v[1],v[2],v[3]))},c=function(t,n,r,s){var a,l,u,c,h,d,f=[];if(s)for(l=(t=[s].concat(t)).length;--l>-1;)"string"==typeof(d=t[l][n])&&"="===d.charAt(1)&&(t[l][n]=s[n]+Number(d.charAt(0)+d.substr(2)));if((a=t.length-2)<0)return f[0]=new o(t[0][n],0,0,t[0][n]),f;for(l=0;l<a;l++)u=t[l][n],c=t[l+1][n],f[l]=new o(u,0,0,c),r&&(h=t[l+2][n],e[l]=(e[l]||0)+(c-u)*(c-u),i[l]=(i[l]||0)+(h-c)*(h-c));return f[l]=new o(t[l][n],0,0,t[l+1][n]),f},h=function(t,r,a,o,l,h){var d,f,p,m,g,_,v,y,b={},T=[],w=h||t[0];for(f in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==r&&(r=1),t[0])T.push(f);if(t.length>1){for(y=t[t.length-1],v=!0,d=T.length;--d>-1;)if(f=T[d],Math.abs(w[f]-y[f])>.05){v=!1;break}v&&(t=t.concat(),h&&t.unshift(h),t.push(t[1]),h=t[t.length-3])}for(e.length=i.length=n.length=0,d=T.length;--d>-1;)f=T[d],s[f]=-1!==l.indexOf(","+f+","),b[f]=c(t,f,s[f],h);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!o){for(d=T.length;--d>-1;)if(s[f])for(_=(p=b[T[d]]).length-1,m=0;m<_;m++)g=p[m+1].da/i[m]+p[m].da/e[m]||0,n[m]=(n[m]||0)+g*g;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=T.length,m=a?4:1;--d>-1;)p=b[f=T[d]],u(p,r,a,o,s[f]),v&&(p.splice(0,m),p.splice(p.length-m,m));return b},d=function(t,e,i){for(var n,r,s,a,o,l,u,c,h,d,f,p=1/i,m=t.length;--m>-1;)for(s=(d=t[m]).a,a=d.d-s,o=d.c-s,l=d.b-s,n=r=0,c=1;c<=i;c++)n=r-(r=((u=p*c)*u*a+3*(h=1-u)*(u*o+h*l))*u),e[f=m*i+c-1]=(e[f]||0)+n*n},f=r._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,s,a,l,u=e.values||[],c={},f=u[0],p=e.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=p?p instanceof Array?p:[["x","y","rotation",!0===p?0:Number(p)||0]]:null,f)this._props.push(n);for(s=this._props.length;--s>-1;)n=this._props[s],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],c[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),l||c[n]!==u[0][n]&&(l=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?h(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,l):function(t,e,i){var n,r,s,a,l,u,c,h,d,f,p,m={},g="cubic"===(e=e||"soft")?3:2,_="soft"===e,v=[];if(_&&i&&(t=[i].concat(t)),null==t||t.length<g+1)throw"invalid Bezier data";for(d in t[0])v.push(d);for(u=v.length;--u>-1;){for(m[d=v[u]]=l=[],f=0,h=t.length,c=0;c<h;c++)n=null==i?t[c][d]:"string"==typeof(p=t[c][d])&&"="===p.charAt(1)?i[d]+Number(p.charAt(0)+p.substr(2)):Number(p),_&&c>1&&c<h-1&&(l[f++]=(n+l[f-2])/2),l[f++]=n;for(h=f-g+1,f=0,c=0;c<h;c+=g)n=l[c],r=l[c+1],s=l[c+2],a=2===g?0:l[c+3],l[f++]=p=3===g?new o(n,r,s,a):new o(n,(2*r+n)/3,(2*r+s)/3,s);l.length=f}return m}(u,e.type,c),this._segCount=this._beziers[n].length,this._timeRes){var m=function(t,e){var i,n,r,s,a=[],o=[],l=0,u=0,c=(e=e>>0||6)-1,h=[],f=[];for(i in t)d(t[i],a,e);for(r=a.length,n=0;n<r;n++)l+=Math.sqrt(a[n]),f[s=n%e]=l,s===c&&(u+=l,h[s=n/e>>0]=f,o[s]=u,l=0,f=[]);return{length:u,lengths:o,segments:h}}(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(p=this._autoRotate)for(this._initialRotations=[],p[0]instanceof Array||(this._autoRotate=p=[p]),s=p.length;--s>-1;){for(a=0;a<3;a++)n=p[s][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=p[s][2],this._initialRotations[s]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,s,a,o,l,u,c,h,d=this._segCount,f=this._func,p=this._target,m=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<d-1){for(u=d-1;r<u&&(this._l2=c[++r])<=e;);this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<h.length-1){for(u=h.length-1;r<u&&(this._s2=h[++r])<=e;);this._s1=h[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=h[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=h[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else o=(e-(i=e<0?0:e>=1?d-1:d*e>>0)*(1/d))*d;for(n=1-o,r=this._props.length;--r>-1;)s=this._props[r],l=(o*o*(a=this._beziers[s][i]).da+3*n*(o*a.ca+n*a.ba))*o+a.a,this._mod[s]&&(l=this._mod[s](l,p)),f[s]?p[s](l):p[s]=l;if(this._autoRotate){var g,_,v,y,b,T,w,S=this._autoRotate;for(r=S.length;--r>-1;)s=S[r][2],T=S[r][3]||0,w=!0===S[r][4]?1:t,a=this._beziers[S[r][0]],g=this._beziers[S[r][1]],a&&g&&(a=a[i],g=g[i],_=a.a+(a.b-a.a)*o,_+=((y=a.b+(a.c-a.b)*o)-_)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=g.a+(g.b-g.a)*o,v+=((b=g.b+(g.c-g.b)*o)-v)*o,b+=(g.c+(g.d-g.c)*o-b)*o,l=m?Math.atan2(b-v,y-_)*w+T:this._initialRotations[r],this._mod[s]&&(l=this._mod[s](l,p)),f[s]?p[s](l):p[s]=l)}}}),p=f.prototype,f.bezierThrough=h,f.cubicToQuadratic=l,f._autoCSS=!0,f.quadraticToCubic=function(t,e,i){return new o(t,(2*e+t)/3,(2*e+i)/3,i)},f._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,s,a,o,l){e instanceof Array&&(e={values:e}),l=new f;var u,c,h,d=e.values,p=d.length-1,m=[],g={};if(p<0)return o;for(u=0;u<=p;u++)h=i(t,d[u],a,o,l,p!==u),m[u]=h.end;for(c in e)g[c]=e[c];return g.values=m,(o=new r(t,"bezier",0,0,h.pt,2)).data=h,o.plugin=l,o.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x&&[["x","y","rotation",u,!1]]),g.autoRotate&&(a._transform||a._enableTransforms(!1),h.autoRotate=a._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,a._overwriteProps.push("rotation")),l._onInitTween(h.proxy,g,a._tween),o}})}},p._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},p._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)},r._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,s,a,o=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=o.prototype.setRatio},l=r._gsDefine.globals,u={},c=o.prototype=new t("css");c.constructor=o,o.version="1.20.5",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,c="px",o.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,d,f,p,m,g,_,v,y=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,T=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,S=/(?:\d|\-|\+|=|#|\.)*/g,k=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,x=/^(rgb|hsl)/,P=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,I=function(t,e){return e.toUpperCase()},D=/(?:Left|Right|Width)/i,L=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,N=/[\s,\(]/i,U=Math.PI/180,B=180/Math.PI,j={},F={style:{}},H=r.document||{createElement:function(){return F}},V=function(t,e){return H.createElementNS?H.createElementNS(e||"http://www.w3.org/1999/xhtml",t):H.createElement(t)},q=V("div"),z=V("img"),$=o._internals={_specialProps:u},W=(r.navigator||{}).userAgent||"",X=function(){var t=W.indexOf("Android"),e=V("a");return f=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||parseFloat(W.substr(t+8,2))>3),m=f&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,p=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(g=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return k.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(t){r.console&&console.log(t)},K="",Q="",Z=function(t,e){var i,n,r=(e=e||q).style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(K="-"+(Q=3===n?"ms":i[n]).toLowerCase()+"-",Q+t):null},J=("undefined"!=typeof window?window:H.defaultView||{getComputedStyle:function(){}}).getComputedStyle,tt=o.getStyle=function(t,e,i,n,r){var s;return X||"opacity"!==e?(!n&&t.style[e]?s=t.style[e]:(i=i||J(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==r||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:r):Y(t)},et=$.convertToPixels=function(t,i,n,r,s){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var a,l,u,c=D.test(i),h=t,d=q.style,f=n<0,p=1===n;if(f&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&-1!==i.indexOf("border"))a=n/100*(c?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=t.parentNode||H.body,-1!==tt(h,"display").indexOf("flex")&&(d.position="absolute"),l=h._gsCache,u=e.ticker.frame,l&&c&&l.time===u)return l.width*n/100;d[c?"width":"height"]=n+r}h.appendChild(q),a=parseFloat(q[c?"offsetWidth":"offsetHeight"]),h.removeChild(q),c&&"%"===r&&!1!==o.cacheWidths&&((l=h._gsCache=h._gsCache||{}).time=u,l.width=a/n*100),0!==a||s||(a=et(t,i,n,r,!0))}else l=J(t).lineHeight,t.style.lineHeight=n,a=parseFloat(J(t).lineHeight),t.style.lineHeight=l;return p&&(a/=100),f?-a:a},it=$.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=tt(t,"margin"+n,i);return t["offset"+n]-(et(t,e,parseFloat(r),r.replace(S,""))||0)},nt=function(t,e){var i,n,r,s={};if(e=e||J(t,null))if(i=e.length)for(;--i>-1;)-1!==(r=e[i]).indexOf("-transform")&&Rt!==r||(s[r.replace(A,I)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Lt!==i||(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(A,I)]=e[i]);return X||(s.opacity=Y(t)),n=Xt(t,e,!1),s.rotation=n.rotation,s.skewX=n.skewX,s.scaleX=n.scaleX,s.scaleY=n.scaleY,s.x=n.x,s.y=n.y,Nt&&(s.z=n.z,s.rotationX=n.rotationX,s.rotationY=n.rotationY,s.scaleZ=n.scaleZ),s.filters&&delete s.filters,s},rt=function(t,e,i,n,r){var s,a,o,l={},u=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"!=typeof s&&"string"!=typeof s||(l[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(w,"")?s:0:it(t,a),void 0!==u[a]&&(o=new yt(u,a,u[a],o))));if(n)for(a in n)"className"!==a&&(l[a]=n[a]);return{difs:l,firstMPT:o}},st={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],ot=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||J(t))[e]||0;if(t.getCTM&&zt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=st[e],s=r.length;for(i=i||J(t,null);--s>-1;)n-=parseFloat(tt(t,"padding"+r[s],i,!0))||0,n-=parseFloat(tt(t,"border"+r[s]+"Width",i,!0))||0;return n},lt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(lt(n[i]));return t.join(",")}return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(s.replace(w,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(v,_)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(v,_)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,i,n){var r,s,a,o;return"function"==typeof t&&(t=t(v,_)),null==t?a=e:"number"==typeof t?a=t:(360,r=t.split("_"),s=((o="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===t.indexOf("rad")?1:B)-(o?0:e),r.length&&(n&&(n[i]=e+s),-1!==t.indexOf("short")&&(s%=360)!==s%180&&(s=s<0?s+360:s-360),-1!==t.indexOf("_cw")&&s<0?s=(s+3599999999640)%360-360*(s/360|0):-1!==t.indexOf("ccw")&&s>0&&(s=(s-3599999999640)%360-360*(s/360|0))),a=e+s),a<1e-6&&a>-1e-6&&(a=0),a},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,i){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},pt=o.parseColor=function(t,e){var i,n,r,s,a,o,l,u,c,h,d;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),s=t.charAt(3),t="#"+n+n+r+r+s+s),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=d=t.match(y),e){if(-1!==t.indexOf("="))return t.match(b)}else a=Number(i[0])%360/360,o=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(r=l<=.5?l*(o+1):l+o-l*o),i.length>3&&(i[3]=Number(i[3])),i[0]=ft(a+1/3,n,r),i[1]=ft(a,n,r),i[2]=ft(a-1/3,n,r);else i=t.match(y)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!d&&(n=i[0]/255,r=i[1]/255,s=i[2]/255,l=((u=Math.max(n,r,s))+(c=Math.min(n,r,s)))/2,u===c?a=o=0:(h=u-c,o=l>.5?h/(2-u-c):h/(u+c),a=u===n?(r-s)/h+(r<s?6:0):u===r?(s-n)/h+2:(n-r)/h+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*l+.5|0),i},mt=function(t,e){var i,n,r,s=t.match(gt)||[],a=0,o="";if(!s.length)return t;for(i=0;i<s.length;i++)n=s[i],a+=(r=t.substr(a,t.indexOf(n,a)-a)).length+n.length,3===(n=pt(n,e)).length&&n.push(1),o+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return o+t.substr(a)},gt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in dt)gt+="|"+c+"\\b";gt=new RegExp(gt+")","gi"),o.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];gt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=mt(t[0],e),t[1]=mt(t[1],e)),gt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=o.colorStringFilter);var _t=function(t,e,i,n){if(null==t)return function(t){return t};var r,s=e?(t.match(gt)||[""])[0]:"",a=t.split(s).join("").match(T)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",u=-1!==t.indexOf(" ")?" ":",",c=a.length,h=c>0?a[0].replace(y,""):"";return c?r=e?function(t){var e,d,f,p;if("number"==typeof t)t+=h;else if(n&&M.test(t)){for(p=t.replace(M,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(gt)||[s])[0],f=(d=t.split(e).join("").match(T)||[]).length,c>f--)for(;++f<c;)d[f]=i?d[(f-1)/2|0]:a[f];return o+d.join(u)+u+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,s,d;if("number"==typeof t)t+=h;else if(n&&M.test(t)){for(s=t.replace(M,"|").split("|"),d=0;d<s.length;d++)s[d]=r(s[d]);return s.join(",")}if(d=(e=t.match(T)||[]).length,c>d--)for(;++d<c;)e[d]=i?e[(d-1)/2|0]:a[d];return o+e.join(u)+l}:function(t){return t}},vt=function(t){return t=t.split(","),function(e,i,n,r,s,a,o){var l,u=(i+"").split(" ");for(o={},l=0;l<4;l++)o[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,o,s,a)}},yt=($._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,s,a=this.data,o=a.proxy,l=a.firstMPT;l;)e=o[l.v],l.r?e=l.r(e):e<1e-6&&e>-1e-6&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,o.rotation,this.t,this._tween):o.rotation),1===t||0===t)for(l=a.firstMPT,s=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[s]=r}}else i[s]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),bt=($._parseToProxy=function(t,e,i,n,r,s){var a,o,l,u,c,h=n,d={},f={},p=i._transform,m=j;for(i._transform=null,j=e,n=c=i.parse(t,e,n,r),j=m,s&&(i._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(f[o=n.p]=n.s+n.c,d[o]=n.s,s||(u=new yt(n,"s",o,u,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)l="xn"+a,f[o=n.p+"_"+l]=n.data[l],d[o]=n[l],s||(u=new yt(n,l,o,u,n.rxp[l]));n=n._next}return{proxy:d,end:f,firstMPT:u,pt:c}},$.CSSPropTween=function(t,e,n,r,s,o,l,u,c,h,d){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof bt||a.push(this.n),this.r=u?"function"==typeof u?u:Math.round:u,this.type=o||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===d?n+r:d,s&&(this._next=s,s._prev=this)}),Tt=function(t,e,i,n,r,s){var a=new bt(t,e,i,n-i,r,-1,s);return a.b=i,a.e=a.xs0=n,a},wt=o.parseComplex=function(t,e,i,n,r,s,a,l,u,c){i=i||s||"","function"==typeof n&&(n=n(v,_)),a=new bt(t,e,0,0,a,c?2:1,null,!1,l,i,n),n+="",r&&gt.test(n+i)&&(n=[i,n],o.colorStringFilter(n),i=n[0],n=n[1]);var d,f,p,m,g,T,w,S,k,C,E,x,P,A=i.split(", ").join(",").split(" "),O=n.split(", ").join(",").split(" "),I=A.length,D=!1!==h;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(A=A.join(" ").replace(M,", ").split(" "),O=O.join(" ").replace(M,", ").split(" ")):(A=A.join(" ").split(",").join(", ").split(" "),O=O.join(" ").split(",").join(", ").split(" ")),I=A.length),I!==O.length&&(I=(A=(s||"").split(" ")).length),a.plugin=u,a.setRatio=c,gt.lastIndex=0,d=0;d<I;d++)if(m=A[d],g=O[d]+"",(S=parseFloat(m))||0===S)a.appendXtra("",S,ut(g,S),g.replace(b,""),!(!D||-1===g.indexOf("px"))&&Math.round,!0);else if(r&&gt.test(m))x=")"+((x=g.indexOf(")")+1)?g.substr(x):""),P=-1!==g.indexOf("hsl")&&X,C=g,m=pt(m,P),g=pt(g,P),(k=m.length+g.length>6)&&!X&&0===g[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[d]).join("transparent")):(X||(k=!1),P?a.appendXtra(C.substr(0,C.indexOf("hsl"))+(k?"hsla(":"hsl("),m[0],ut(g[0],m[0]),",",!1,!0).appendXtra("",m[1],ut(g[1],m[1]),"%,",!1).appendXtra("",m[2],ut(g[2],m[2]),k?"%,":"%"+x,!1):a.appendXtra(C.substr(0,C.indexOf("rgb"))+(k?"rgba(":"rgb("),m[0],g[0]-m[0],",",Math.round,!0).appendXtra("",m[1],g[1]-m[1],",",Math.round).appendXtra("",m[2],g[2]-m[2],k?",":x,Math.round),k&&(m=m.length<4?1:m[3],a.appendXtra("",m,(g.length<4?1:g[3])-m,x,!1))),gt.lastIndex=0;else if(T=m.match(y)){if(!(w=g.match(b))||w.length!==T.length)return a;for(p=0,f=0;f<T.length;f++)E=T[f],C=m.indexOf(E,p),a.appendXtra(m.substr(p,C-p),Number(E),ut(w[f],E),"",!(!D||"px"!==m.substr(C+E.length,2))&&Math.round,0===f),p=C+E.length;a["xs"+a.l]+=m.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+g:g;if(-1!==n.indexOf("=")&&a.data){for(x=a.xs0+a.data.s,d=1;d<a.l;d++)x+=a["xs"+d]+a.data["xn"+d];a.e=x+a["xs"+d]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},St=9;for((c=bt.prototype).l=c.pr=0;--St>0;)c["xn"+St]=0,c["xs"+St]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,r,s){var a=this,o=a.l;return a["xs"+o]+=s&&(o||a["xs"+o])?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new bt(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(n||""),a)};var kt=function(t,e){e=e||{},this.p=e.prefix&&Z(t)||t,u[t]=u[this.p]=this,this.format=e.formatter||_t(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Ct=$._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<r.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,new kt(r[n],e)},Et=$._registerPluginProp=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Ct(t,{parser:function(t,i,n,r,s,a,o){var c=l.com.greensock.plugins[e];return c?(c._cssRegister(),u[n].parse(t,i,n,r,s,a,o)):(G("Error: "+e+" js file not loaded."),s)}})}};(c=kt.prototype).parseComplex=function(t,e,i,n,r,s){var a,o,l,u,c,h,d=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):d&&(o=[e],l=[i])),l){for(u=l.length>o.length?l.length:o.length,a=0;a<u;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,d&&(c=e.indexOf(d))!==(h=i.indexOf(d))&&(-1===h?o[a]=o[a].split(d).join(""):-1===c&&(o[a]+=" "+d));e=o.join(", "),i=l.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,s)},c.parse=function(t,e,i,n,r,a,o){return this.parseComplex(t.style,this.format(tt(t,this.p,s,!1,this.dflt)),this.format(e),r,a)},o.registerSpecialProp=function(t,e,i){Ct(t,{parser:function(t,n,r,s,a,o,l){var u=new bt(t,r,0,0,a,2,r,!1,i);return u.plugin=o,u.setRatio=e(t,n,s._tween,r),u},priority:i})},o.useSVGTransformAttr=!0;var xt,Pt,At,Ot,It,Dt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Lt=Z("transform"),Rt=K+"transform",Mt=Z("transformOrigin"),Nt=null!==Z("perspective"),Ut=$.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!Nt)&&(o.defaultForce3D||"auto")},Bt=r.SVGElement,jt=function(t,e,i){var n,r=H.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(s,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Ft=H.documentElement||{},Ht=(It=g||/Android/i.test(W)&&!r.chrome,H.createElementNS&&!It&&(Pt=jt("svg",Ft),Ot=(At=jt("rect",Pt,{width:100,height:50,x:100})).getBoundingClientRect().width,At.style[Mt]="50% 50%",At.style[Lt]="scaleX(0.5)",It=Ot===At.getBoundingClientRect().width&&!(p&&Nt),Ft.removeChild(Pt)),It),Vt=function(t,e,i,n,r,s){var a,l,u,c,h,d,f,p,m,g,_,v,y,b,T=t._gsTransform,w=Wt(t,!0);T&&(y=T.xOrigin,b=T.yOrigin),(!n||(a=n.split(" ")).length<2)&&(0===(f=t.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=lt(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=c=parseFloat(a[0]),i.yOrigin=h=parseFloat(a[1]),n&&w!==$t&&(d=w[0],f=w[1],p=w[2],m=w[3],g=w[4],_=w[5],(v=d*m-f*p)&&(l=c*(m/v)+h*(-p/v)+(p*_-m*g)/v,u=c*(-f/v)+h*(d/v)-(d*_-f*g)/v,c=i.xOrigin=a[0]=l,h=i.yOrigin=a[1]=u)),T&&(s&&(i.xOffset=T.xOffset,i.yOffset=T.yOffset,T=i),r||!1!==r&&!1!==o.defaultSmoothOrigin?(l=c-y,u=h-b,T.xOffset+=l*w[0]+u*w[2]-l,T.yOffset+=l*w[1]+u*w[3]-u):T.xOffset=T.yOffset=0),s||t.setAttribute("data-svg-origin",a.join(" "))},qt=function(t){var e,i=V("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Ft.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=qt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),Ft.removeChild(i),this.style.cssText=s,e},zt=function(t){return!(!Bt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(t){try{return t.getBBox()}catch(e){return qt.call(t,!0)}}(t))},$t=[1,0,0,1,0,0],Wt=function(t,e){var i,n,r,s,a,o,l=t._gsTransform||new Ut,u=t.style;if(Lt?n=tt(t,Rt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(L))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Lt||!(o=!J(t)||"none"===J(t).display)&&t.parentNode||(o&&(s=u.display,u.display="block"),t.parentNode||(a=1,Ft.appendChild(t)),i=!(n=tt(t,Rt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,s?u.display=s:o&&Qt(u,"display"),a&&Ft.removeChild(t)),(l.svg||t.getCTM&&zt(t))&&(i&&-1!==(u[Lt]+"").indexOf("matrix")&&(n=u[Lt],i=0),r=t.getAttribute("transform"),i&&r&&(n="matrix("+(r=t.transform.baseVal.consolidate().matrix).a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return $t;for(r=(n||"").match(y)||[],St=r.length;--St>-1;)s=Number(r[St]),r[St]=(a=s-(s|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+s:s;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Xt=$.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,a,l,u,c,h,d=n&&t._gsTransform||new Ut,f=d.scaleX<0,p=Nt&&(parseFloat(tt(t,Mt,i,!1,"0 0 0").split(" ")[2])||d.zOrigin)||0,m=parseFloat(o.defaultTransformPerspective)||0;if(d.svg=!(!t.getCTM||!zt(t)),d.svg&&(Vt(t,tt(t,Mt,i,!1,"50% 50%")+"",d,t.getAttribute("data-svg-origin")),xt=o.useSVGTransformAttr||Ht),(s=Wt(t))!==$t){if(16===s.length){var g,_,v,y,b,T=s[0],w=s[1],S=s[2],k=s[3],C=s[4],E=s[5],x=s[6],P=s[7],A=s[8],O=s[9],I=s[10],D=s[12],L=s[13],R=s[14],M=s[11],N=Math.atan2(x,I);d.zOrigin&&(D=A*(R=-d.zOrigin)-s[12],L=O*R-s[13],R=I*R+d.zOrigin-s[14]),d.rotationX=N*B,N&&(g=C*(y=Math.cos(-N))+A*(b=Math.sin(-N)),_=E*y+O*b,v=x*y+I*b,A=C*-b+A*y,O=E*-b+O*y,I=x*-b+I*y,M=P*-b+M*y,C=g,E=_,x=v),N=Math.atan2(-S,I),d.rotationY=N*B,N&&(_=w*(y=Math.cos(-N))-O*(b=Math.sin(-N)),v=S*y-I*b,O=w*b+O*y,I=S*b+I*y,M=k*b+M*y,T=g=T*y-A*b,w=_,S=v),N=Math.atan2(w,T),d.rotation=N*B,N&&(g=T*(y=Math.cos(N))+w*(b=Math.sin(N)),_=C*y+E*b,v=A*y+O*b,w=w*y-T*b,E=E*y-C*b,O=O*y-A*b,T=g,C=_,A=v),d.rotationX&&Math.abs(d.rotationX)+Math.abs(d.rotation)>359.9&&(d.rotationX=d.rotation=0,d.rotationY=180-d.rotationY),N=Math.atan2(C,E),d.scaleX=(1e5*Math.sqrt(T*T+w*w+S*S)+.5|0)/1e5,d.scaleY=(1e5*Math.sqrt(E*E+x*x)+.5|0)/1e5,d.scaleZ=(1e5*Math.sqrt(A*A+O*O+I*I)+.5|0)/1e5,T/=d.scaleX,C/=d.scaleY,w/=d.scaleX,E/=d.scaleY,Math.abs(N)>2e-5?(d.skewX=N*B,C=0,"simple"!==d.skewType&&(d.scaleY*=1/Math.cos(N))):d.skewX=0,d.perspective=M?1/(M<0?-M:M):0,d.x=D,d.y=L,d.z=R,d.svg&&(d.x-=d.xOrigin-(d.xOrigin*T-d.yOrigin*C),d.y-=d.yOrigin-(d.yOrigin*w-d.xOrigin*E))}else if(!Nt||r||!s.length||d.x!==s[4]||d.y!==s[5]||!d.rotationX&&!d.rotationY){var U=s.length>=6,j=U?s[0]:1,F=s[1]||0,H=s[2]||0,V=U?s[3]:1;d.x=s[4]||0,d.y=s[5]||0,l=Math.sqrt(j*j+F*F),u=Math.sqrt(V*V+H*H),c=j||F?Math.atan2(F,j)*B:d.rotation||0,h=H||V?Math.atan2(H,V)*B+c:d.skewX||0,d.scaleX=l,d.scaleY=u,d.rotation=c,d.skewX=h,Nt&&(d.rotationX=d.rotationY=d.z=0,d.perspective=m,d.scaleZ=1),d.svg&&(d.x-=d.xOrigin-(d.xOrigin*j+d.yOrigin*H),d.y-=d.yOrigin-(d.xOrigin*F+d.yOrigin*V))}for(a in Math.abs(d.skewX)>90&&Math.abs(d.skewX)<270&&(f?(d.scaleX*=-1,d.skewX+=d.rotation<=0?180:-180,d.rotation+=d.rotation<=0?180:-180):(d.scaleY*=-1,d.skewX+=d.skewX<=0?180:-180)),d.zOrigin=p,d)d[a]<2e-5&&d[a]>-2e-5&&(d[a]=0)}return n&&(t._gsTransform=d,d.svg&&(xt&&t.style[Lt]?e.delayedCall(.001,function(){Qt(t.style,Lt)}):!xt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),d},Yt=function(t){var e,i,n=this.data,r=-n.rotation*U,s=r+n.skewX*U,a=(Math.cos(r)*n.scaleX*1e5|0)/1e5,o=(Math.sin(r)*n.scaleX*1e5|0)/1e5,l=(Math.sin(s)*-n.scaleY*1e5|0)/1e5,u=(Math.cos(s)*n.scaleY*1e5|0)/1e5,c=this.t.style,h=this.t.currentStyle;if(h){i=o,o=-l,l=-i,e=h.filter,c.filter="";var d,f,p=this.t.offsetWidth,m=this.t.offsetHeight,_="absolute"!==h.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+o+", M21="+l+", M22="+u,y=n.x+p*n.xPercent/100,b=n.y+m*n.yPercent/100;if(null!=n.ox&&(y+=(d=(n.oxp?p*n.ox*.01:n.ox)-p/2)-(d*a+(f=(n.oyp?m*n.oy*.01:n.oy)-m/2)*o),b+=f-(d*l+f*u)),v+=_?", Dx="+((d=p/2)-(d*a+(f=m/2)*o)+y)+", Dy="+(f-(d*l+f*u)+b)+")":", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?c.filter=e.replace(R,v):c.filter=v+" "+e,0!==t&&1!==t||1===a&&0===o&&0===l&&1===u&&(_&&-1===v.indexOf("Dx=0, Dy=0")||k.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&c.removeAttribute("filter")),!_){var T,w,C,E=g<8?1:-1;for(d=n.ieOffsetX||0,f=n.ieOffsetY||0,n.ieOffsetX=Math.round((p-((a<0?-a:a)*p+(o<0?-o:o)*m))/2+y),n.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(l<0?-l:l)*p))/2+b),St=0;St<4;St++)C=(i=-1!==(T=h[w=at[St]]).indexOf("px")?parseFloat(T):et(this.t,w,parseFloat(T),T.replace(S,""))||0)!==n[w]?St<2?-n.ieOffsetX:-n.ieOffsetY:St<2?d-n.ieOffsetX:f-n.ieOffsetY,c[w]=(n[w]=Math.round(i-C*(0===St||2===St?1:E)))+"px"}}},Gt=$.set3DTransformRatio=$.setTransformRatio=function(t){var e,i,n,r,s,a,o,l,u,c,h,d,f,m,g,_,v,y,b,T,w=this.data,S=this.t.style,k=w.rotation,C=w.rotationX,E=w.rotationY,x=w.scaleX,P=w.scaleY,A=w.scaleZ,O=w.x,I=w.y,D=w.z,L=w.svg,R=w.perspective,M=w.force3D,N=w.skewY,B=w.skewX;if(N&&(B+=N,k+=N),!((1!==t&&0!==t||"auto"!==M||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&M||D||R||E||C||1!==A)||xt&&L||!Nt)k||B||L?(k*=U,T=B*U,1e5,i=Math.cos(k)*x,s=Math.sin(k)*x,n=Math.sin(k-T)*-P,a=Math.cos(k-T)*P,T&&"simple"===w.skewType&&(e=Math.tan(T-N*U),n*=e=Math.sqrt(1+e*e),a*=e,N&&(e=Math.tan(N*U),i*=e=Math.sqrt(1+e*e),s*=e)),L&&(O+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,I+=w.yOrigin-(w.xOrigin*s+w.yOrigin*a)+w.yOffset,xt&&(w.xPercent||w.yPercent)&&(g=this.t.getBBox(),O+=.01*w.xPercent*g.width,I+=.01*w.yPercent*g.height),O<(g=1e-6)&&O>-g&&(O=0),I<g&&I>-g&&(I=0)),b=(1e5*i|0)/1e5+","+(1e5*s|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*a|0)/1e5+","+O+","+I+")",L&&xt?this.t.setAttribute("transform","matrix("+b):S[Lt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+b):S[Lt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix(":"matrix(")+x+",0,0,"+P+","+O+","+I+")";else{if(p&&(x<(g=1e-4)&&x>-g&&(x=A=2e-5),P<g&&P>-g&&(P=A=2e-5),!R||w.z||w.rotationX||w.rotationY||(R=0)),k||B)k*=U,_=i=Math.cos(k),v=s=Math.sin(k),B&&(k-=B*U,_=Math.cos(k),v=Math.sin(k),"simple"===w.skewType&&(e=Math.tan((B-N)*U),_*=e=Math.sqrt(1+e*e),v*=e,w.skewY&&(e=Math.tan(N*U),i*=e=Math.sqrt(1+e*e),s*=e))),n=-v,a=_;else{if(!(E||C||1!==A||R||L))return void(S[Lt]=(w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) translate3d(":"translate3d(")+O+"px,"+I+"px,"+D+"px)"+(1!==x||1!==P?" scale("+x+","+P+")":""));i=a=1,n=s=0}c=1,r=o=l=u=h=d=0,f=R?-1/R:0,m=w.zOrigin,g=1e-6,",","0",(k=E*U)&&(_=Math.cos(k),l=-(v=Math.sin(k)),h=f*-v,r=i*v,o=s*v,c=_,f*=_,i*=_,s*=_),(k=C*U)&&(e=n*(_=Math.cos(k))+r*(v=Math.sin(k)),y=a*_+o*v,u=c*v,d=f*v,r=n*-v+r*_,o=a*-v+o*_,c*=_,f*=_,n=e,a=y),1!==A&&(r*=A,o*=A,c*=A,f*=A),1!==P&&(n*=P,a*=P,u*=P,d*=P),1!==x&&(i*=x,s*=x,l*=x,h*=x),(m||L)&&(m&&(O+=r*-m,I+=o*-m,D+=c*-m+m),L&&(O+=w.xOrigin-(w.xOrigin*i+w.yOrigin*n)+w.xOffset,I+=w.yOrigin-(w.xOrigin*s+w.yOrigin*a)+w.yOffset),O<g&&O>-g&&(O="0"),I<g&&I>-g&&(I="0"),D<g&&D>-g&&(D=0)),b=w.xPercent||w.yPercent?"translate("+w.xPercent+"%,"+w.yPercent+"%) matrix3d(":"matrix3d(",b+=(i<g&&i>-g?"0":i)+","+(s<g&&s>-g?"0":s)+","+(l<g&&l>-g?"0":l),b+=","+(h<g&&h>-g?"0":h)+","+(n<g&&n>-g?"0":n)+","+(a<g&&a>-g?"0":a),C||E||1!==A?(b+=","+(u<g&&u>-g?"0":u)+","+(d<g&&d>-g?"0":d)+","+(r<g&&r>-g?"0":r),b+=","+(o<g&&o>-g?"0":o)+","+(c<g&&c>-g?"0":c)+","+(f<g&&f>-g?"0":f)+","):b+=",0,0,0,0,1,0,",b+=O+","+I+","+D+","+(R?1+-D/R:1)+")",S[Lt]=b}};(c=Ut.prototype).x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,Ct("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,a,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var u,c=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(u=l[i],l[i]=e),c&&(l.scale=c(v,t));var h,d,f,p,m,g,y,b,T,w=t._gsTransform,S=t.style,k=Dt.length,C=l,E={},x=Xt(t,s,!0,C.parseTransform),P=C.transform&&("function"==typeof C.transform?C.transform(v,_):C.transform);if(x.skewType=C.skewType||x.skewType||o.defaultSkewType,n._transform=x,P&&"string"==typeof P&&Lt)(d=q.style)[Lt]=P,d.display="block",d.position="absolute",-1!==P.indexOf("%")&&(d.width=tt(t,"width"),d.height=tt(t,"height")),H.body.appendChild(q),h=Xt(q,null,!1),"simple"===x.skewType&&(h.scaleY*=Math.cos(h.skewX*U)),x.svg&&(g=x.xOrigin,y=x.yOrigin,h.x-=x.xOffset,h.y-=x.yOffset,(C.transformOrigin||C.svgOrigin)&&(P={},Vt(t,lt(C.transformOrigin),P,C.svgOrigin,C.smoothOrigin,!0),g=P.xOrigin,y=P.yOrigin,h.x-=P.xOffset-x.xOffset,h.y-=P.yOffset-x.yOffset),(g||y)&&(b=Wt(q,!0),h.x-=g-(g*b[0]+y*b[2]),h.y-=y-(g*b[1]+y*b[3]))),H.body.removeChild(q),h.perspective||(h.perspective=x.perspective),null!=C.xPercent&&(h.xPercent=ct(C.xPercent,x.xPercent)),null!=C.yPercent&&(h.yPercent=ct(C.yPercent,x.yPercent));else if("object"==typeof C){if(h={scaleX:ct(null!=C.scaleX?C.scaleX:C.scale,x.scaleX),scaleY:ct(null!=C.scaleY?C.scaleY:C.scale,x.scaleY),scaleZ:ct(C.scaleZ,x.scaleZ),x:ct(C.x,x.x),y:ct(C.y,x.y),z:ct(C.z,x.z),xPercent:ct(C.xPercent,x.xPercent),yPercent:ct(C.yPercent,x.yPercent),perspective:ct(C.transformPerspective,x.perspective)},null!=(m=C.directionalRotation))if("object"==typeof m)for(d in m)C[d]=m[d];else C.rotation=m;"string"==typeof C.x&&-1!==C.x.indexOf("%")&&(h.x=0,h.xPercent=ct(C.x,x.xPercent)),"string"==typeof C.y&&-1!==C.y.indexOf("%")&&(h.y=0,h.yPercent=ct(C.y,x.yPercent)),h.rotation=ht("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:x.rotation,x.rotation,"rotation",E),Nt&&(h.rotationX=ht("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":x.rotationX||0,x.rotationX,"rotationX",E),h.rotationY=ht("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":x.rotationY||0,x.rotationY,"rotationY",E)),h.skewX=ht(C.skewX,x.skewX),h.skewY=ht(C.skewY,x.skewY)}for(Nt&&null!=C.force3D&&(x.force3D=C.force3D,p=!0),(f=x.force3D||x.z||x.rotationX||x.rotationY||h.z||h.rotationX||h.rotationY||h.perspective)||null==C.scale||(h.scaleZ=1);--k>-1;)((P=h[T=Dt[k]]-x[T])>1e-6||P<-1e-6||null!=C[T]||null!=j[T])&&(p=!0,r=new bt(x,T,x[T],P,r),T in E&&(r.e=E[T]),r.xs0=0,r.plugin=a,n._overwriteProps.push(r.n));return P=C.transformOrigin,x.svg&&(P||C.svgOrigin)&&(g=x.xOffset,y=x.yOffset,Vt(t,lt(P),h,C.svgOrigin,C.smoothOrigin),r=Tt(x,"xOrigin",(w?x:h).xOrigin,h.xOrigin,r,"transformOrigin"),r=Tt(x,"yOrigin",(w?x:h).yOrigin,h.yOrigin,r,"transformOrigin"),g===x.xOffset&&y===x.yOffset||(r=Tt(x,"xOffset",w?g:x.xOffset,x.xOffset,r,"transformOrigin"),r=Tt(x,"yOffset",w?y:x.yOffset,x.yOffset,r,"transformOrigin")),P="0px 0px"),(P||Nt&&f&&x.zOrigin)&&(Lt?(p=!0,T=Mt,P=(P||tt(t,T,s,!1,"50% 50%"))+"",(r=new bt(S,T,0,0,r,-1,"transformOrigin")).b=S[T],r.plugin=a,Nt?(d=x.zOrigin,P=P.split(" "),x.zOrigin=(P.length>2&&(0===d||"0px"!==P[2])?parseFloat(P[2]):d)||0,r.xs0=r.e=P[0]+" "+(P[1]||"50%")+" 0px",(r=new bt(x,"zOrigin",0,0,r,-1,r.n)).b=d,r.xs0=r.e=x.zOrigin):r.xs0=r.e=P):lt(P+"",x)),p&&(n._transformType=x.svg&&xt||!f&&3!==this._transformType?2:3),u&&(l[i]=u),c&&(l.scale=c),r},prefix:!0}),Ct("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ct("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,a,o){e=this.format(e);var l,u,c,h,d,f,p,m,g,_,v,y,b,T,w,S,k=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],C=t.style;for(g=parseFloat(t.offsetWidth),_=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<k.length;u++)this.p.indexOf("border")&&(k[u]=Z(k[u])),-1!==(d=h=tt(t,k[u],s,!1,"0px")).indexOf(" ")&&(h=d.split(" "),d=h[0],h=h[1]),f=c=l[u],p=parseFloat(d),y=d.substr((p+"").length),(b="="===f.charAt(1))?(m=parseInt(f.charAt(0)+"1",10),f=f.substr(2),m*=parseFloat(f),v=f.substr((m+"").length-(m<0?1:0))||""):(m=parseFloat(f),v=f.substr((m+"").length)),""===v&&(v=n[i]||y),v!==y&&(T=et(t,"borderLeft",p,y),w=et(t,"borderTop",p,y),"%"===v?(d=T/g*100+"%",h=w/_*100+"%"):"em"===v?(d=T/(S=et(t,"borderLeft",1,"em"))+"em",h=w/S+"em"):(d=T+"px",h=w+"px"),b&&(f=parseFloat(d)+m+v,c=parseFloat(h)+m+v)),a=wt(C,k[u],d+" "+h,f+" "+c,!1,"0px",a);return a},prefix:!0,formatter:_t("0px 0px 0px 0px",!1,!0)}),Ct("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,a){return wt(t.style,i,this.format(tt(t,i,s,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:_t("0px 0px",!1,!0)}),Ct("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,a){var o,l,u,c,h,d,f="background-position",p=s||J(t,null),m=this.format((p?g?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),_=this.format(e);if(-1!==m.indexOf("%")!=(-1!==_.indexOf("%"))&&_.split(",").length<2&&(d=tt(t,"backgroundImage").replace(O,""))&&"none"!==d){for(o=m.split(" "),l=_.split(" "),z.setAttribute("src",d),u=2;--u>-1;)(c=-1!==(m=o[u]).indexOf("%"))!==(-1!==l[u].indexOf("%"))&&(h=0===u?t.offsetWidth-z.width:t.offsetHeight-z.height,o[u]=c?parseFloat(m)/100*h+"px":parseFloat(m)/h*100+"%");m=o.join(" ")}return this.parseComplex(t.style,m,_,r,a)},formatter:lt}),Ct("backgroundSize",{defaultValue:"0 0",formatter:function(t){return"co"===(t+="").substr(0,2)?t:lt(-1===t.indexOf(" ")?t+" "+t:t)}}),Ct("perspective",{defaultValue:"0px",prefix:!0}),Ct("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ct("transformStyle",{prefix:!0}),Ct("backfaceVisibility",{prefix:!0}),Ct("userSelect",{prefix:!0}),Ct("margin",{parser:vt("marginTop,marginRight,marginBottom,marginLeft")}),Ct("padding",{parser:vt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ct("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,a){var o,l,u;return g<9?(l=t.currentStyle,u=g<8?" ":",",o="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(o=this.format(tt(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,r,a)}}),Ct("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ct("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Ct("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,a){var o=tt(t,"borderTopWidth",s,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(S,"");return"px"!==u&&(o=parseFloat(o)/et(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(o+" "+tt(t,"borderTopStyle",s,!1,"solid")+" "+tt(t,"borderTopColor",s,!1,"#000")),l.join(" "),r,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(gt)||["#000"])[0]}}),Ct("borderWidth",{parser:vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ct("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,s){var a=t.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new bt(a,o,0,0,r,-1,i,!1,0,a[o],e)}});var Kt=function(t){var e,i=this.t,n=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=n.replace(E,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(k,"opacity="+r))};Ct("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,a){var o=parseFloat(tt(t,"opacity",s,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),u&&1===o&&"hidden"===tt(t,"visibility",s)&&0!==e&&(o=0),X?r=new bt(l,"opacity",o,e-o,r):((r=new bt(l,"opacity",100*o,100*(e-o),r)).xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=a,r.setRatio=Kt),u&&((r=new bt(l,"visibility",0,0,r,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Qt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ct("className",{parser:function(t,e,n,r,a,o,l){var u,c,h,d,f,p=t.getAttribute("class")||"",m=t.style.cssText;if((a=r._classNamePT=new bt(t,n,0,0,a,2)).setRatio=Zt,a.pr=-11,i=!0,a.b=p,c=nt(t,s),h=t._gsClassPT){for(d={},f=h.data;f;)d[f.p]=1,f=f._next;h.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),u=rt(t,c,nt(t),l,d),t.setAttribute("class",p),a.data=u.firstMPT,t.style.cssText=m,a=a.xfirst=r.parse(t,u.difs,a,o)}});var Jt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,s,a=this.t.style,o=u.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(n=(e=this.e.split(" ").join("").split(",")).length;--n>-1;)i=e[n],u[i]&&(u[i].parse===o?r=!0:i="transformOrigin"===i?Mt:u[i].p),Qt(a,i);r&&(Qt(a,Lt),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ct("clearProps",{parser:function(t,e,n,r,s){return(s=new bt(t,n,0,0,s,2)).setRatio=Jt,s.e=e,s.pr=-10,s.data=r._tween,i=!0,s}}),c="bezier,throwProps,physicsProps,physics2D".split(","),St=c.length;St--;)Et(c[St]);(c=o.prototype)._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,r,l){if(!t.nodeType)return!1;this._target=_=t,this._tween=r,this._vars=e,v=l,h=e.autoRound,i=!1,n=e.suffixMap||o.suffixMap,s=J(t,""),a=this._overwriteProps;var c,p,g,y,b,T,w,S,k,E=t.style;if(d&&""===E.zIndex&&("auto"!==(c=tt(t,"zIndex",s))&&""!==c||this._addLazySet(E,"zIndex",0)),"string"==typeof e&&(y=E.cssText,c=nt(t,s),E.cssText=y+";"+e,c=rt(t,c,nt(t)).difs,!X&&C.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,E.cssText=y),e.className?this._firstPT=p=u.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(k=3===this._transformType,Lt?f&&(d=!0,""===E.zIndex&&("auto"!==(w=tt(t,"zIndex",s))&&""!==w||this._addLazySet(E,"zIndex",0)),m&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(k?"visible":"hidden"))):E.zoom=1,g=p;g&&g._next;)g=g._next;S=new bt(t,"transform",0,0,null,2),this._linkCSSP(S,null,g),S.setRatio=Lt?Gt:Yt,S.data=this._transform||Xt(t,s,!0),S.tween=r,S.pr=-1,a.pop()}if(i){for(;p;){for(T=p._next,g=y;g&&g.pr>p.pr;)g=g._next;(p._prev=g?g._prev:b)?p._prev._next=p:y=p,(p._next=g)?g._prev=p:b=p,p=T}this._firstPT=y}return!0},c.parse=function(t,e,i,r){var a,o,l,c,d,f,p,m,g,y,b=t.style;for(a in e){if("function"==typeof(f=e[a])&&(f=f(v,_)),o=u[a])i=o.parse(t,f,a,this,i,r,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",J(t).getPropertyValue(a)+"",f+"",a,!1,a);continue}d=tt(t,a,s)+"",g="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||g&&x.test(f)?(g||(f=((f=pt(f)).length>3?"rgba(":"rgb(")+f.join(",")+")"),i=wt(b,a,d,f,!0,"transparent",i,0,r)):g&&N.test(f)?i=wt(b,a,d,f,!0,null,i,0,r):(p=(l=parseFloat(d))||0===l?d.substr((l+"").length):"",""!==d&&"auto"!==d||("width"===a||"height"===a?(l=ot(t,a,s),p="px"):"left"===a||"top"===a?(l=it(t,a,s),p="px"):(l="opacity"!==a?0:1,p="")),(y=g&&"="===f.charAt(1))?(c=parseInt(f.charAt(0)+"1",10),f=f.substr(2),c*=parseFloat(f),m=f.replace(S,"")):(c=parseFloat(f),m=g?f.replace(S,""):""),""===m&&(m=a in n?n[a]:p),f=c||0===c?(y?c+l:c)+m:e[a],p!==m&&(""===m&&"lineHeight"!==a||(c||0===c)&&l&&(l=et(t,a,l,p),"%"===m?(l/=et(t,a,100,"%")/100,!0!==e.strictUnits&&(d=l+"%")):"em"===m||"rem"===m||"vw"===m||"vh"===m?l/=et(t,a,1,m):"px"!==m&&(c=et(t,a,c,m),m="px"),y&&(c||0===c)&&(f=c+l+m))),y&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==b[a]&&(f||f+""!="NaN"&&null!=f)?(i=new bt(b,a,c||l||0,0,i,-1,a,!1,0,d,f)).xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:d:G("invalid "+a+" tween value: "+e[a]):(i=new bt(b,a,l,c-l,i,0,a,!1!==h&&("px"===m||"zIndex"===a),0,d,f)).xs0=m)}r&&i&&!i.plugin&&(i.plugin=r)}return i},c.setRatio=function(t){var e,i,n,r=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(e=r.c*t+r.s,r.r?e=r.r(e):e<1e-6&&e>-1e-6&&(e=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=r.r(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,s,!0),this._transformType=this._transform.svg&&xt||!t&&3!==this._transformType?2:3};var te=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new bt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=te,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},c._kill=function(e){var i,n,r,s=e;if(e.autoAlpha||e.alpha){for(n in s={},e)s[n]=e[n];s.opacity=1,s.autoAlpha&&(s.visibility=1)}for(e.className&&(i=this._classNamePT)&&((r=i.xfirst)&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,s)};var ee=function(t,e,i){var n,r,s,a;if(t.slice)for(r=t.length;--r>-1;)ee(t[r],e,i);else for(r=(n=t.childNodes).length;--r>-1;)a=(s=n[r]).type,s.style&&(e.push(nt(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||ee(s,e,i)};return o.cascadeTo=function(t,i,n){var r,s,a,o,l=e.to(t,i,n),u=[l],c=[],h=[],d=[],f=e._internals.reservedProps;for(t=l._targets||l.target,ee(t,c,d),l.render(i,!0,!0),ee(t,h),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if((s=rt(d[r],c[r],h[r])).firstMPT){for(a in s=s.difs,n)f[a]&&(s[a]=n[a]);for(a in o={},s)o[a]=c[r][a];u.push(e.fromTo(d[r],i,o,s))}return u},t.activate([o]),o},!0),function(){var t=r._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return(Math.round(i/t)*t*e|0)/e}},i=function(t,e){for(;t;)t.f||t.blob||(t.m=e||Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){var t,n,r,s,a=this._tween,o=a.vars.roundProps,l={},u=a._propLookup.roundProps;if("object"!=typeof o||o.push)for("string"==typeof o&&(o=o.split(",")),r=o.length;--r>-1;)l[o[r]]=Math.round;else for(s in o)l[s]=e(o[s]);for(s in l)for(t=a._firstPT;t;)n=t._next,t.pg?t.t._mod(l):t.n===s&&(2===t.f&&t.t?i(t.t._firstPT,l[s]):(this._add(t.t,s,t.s,t.c,l[s]),n&&(n._prev=t._prev),t._prev?t._prev._next=n:a._firstPT===t&&(a._firstPT=n),t._next=t._prev=null,a._propLookup[s]=u)),t=n;return!1},n._add=function(t,e,i,n,r){this._addTween(t,e,i,i+n,e,r||Math.round),this._overwriteProps.push(e)}}(),r._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,s;if("function"!=typeof t.setAttribute)return!1;for(r in e)"function"==typeof(s=e[r])&&(s=s(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",s+"",r,!1,r),this._overwriteProps.push(r);return!0}}),r._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,s,a,o,l,u,c=!0===e.useRadians?2*Math.PI:360;for(r in e)"useRadians"!==r&&("function"==typeof(o=e[r])&&(o=o(n,t)),s=(u=(o+"").split("_"))[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),l=(o=this.finals[r]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-a,u.length&&(-1!==(s=u.join("_")).indexOf("short")&&(l%=c)!==l%(c/2)&&(l=l<0?l+c:l-c),-1!==s.indexOf("_cw")&&l<0?l=(l+9999999999*c)%c-(l/c|0)*c:-1!==s.indexOf("ccw")&&l>0&&(l=(l-9999999999*c)%c-(l/c|0)*c)),(l>1e-6||l<-1e-6)&&(this._addTween(t,r,a,a+l,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,r._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,s,a=r.GreenSockGlobals||r,o=a.com.greensock,l=2*Math.PI,u=Math.PI/2,c=o._class,h=function(e,i){var n=c("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},d=t.register||function(){},f=function(t,e,i,n,r){var s=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return d(s,t),s},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},m=function(e,i){var n=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},g=f("Back",m("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),m("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),m("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),_=c("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),v=_.prototype=new t;return v.constructor=_,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},_.ease=new _(.7,.7),v.config=_.config=function(t,e,i){return new _(t,e,i)},(v=(e=c("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new t).constructor=e,v.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},v.config=e.config=function(t,i){return new e(t,i)},(v=(i=c("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new t).constructor=i,v.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},v.config=i.config=function(t,e,n){return new i(t,e,n)},(v=(n=c("easing.RoughEase",function(e){for(var i,n,r,s,a,o,l=(e=e||{}).taper||"none",u=[],c=0,h=0|(e.points||20),d=h,f=!1!==e.randomize,m=!0===e.clamp,g=e.template instanceof t?e.template:null,_="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=f?Math.random():1/h*d,n=g?g.getRatio(i):i,r="none"===l?_:"out"===l?(s=1-i)*s*_:"in"===l?i*i*_:i<.5?(s=2*i)*s*.5*_:(s=2*(1-i))*s*.5*_,f?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,m&&(n>1?n=1:n<0&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),o=new p(1,1,null),d=h;--d>-1;)a=u[d],o=new p(a.x,a.y,o);this._prev=new p(0,0,0!==o.t?o:o.next)},!0)).prototype=new t).constructor=n,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new n(t)},n.ease=new n,f("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),f("Elastic",(s=function(e,i,n){var r=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/l*(Math.asin(1/this._p1)||0),this._p2=l/this._p2},!0),s=r.prototype=new t;return s.constructor=r,s.getRatio=i,s.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),s("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*u)}),h("SineIn",function(t){return 1-Math.cos(t*u)}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),d(a.SlowMo,"SlowMo","ease,"),d(n,"RoughEase","ease,"),d(e,"SteppedEase","ease,"),g},!0)}),r._gsDefine&&r._gsQueue.pop()(),function(i,r){"use strict";var s={},a=i.document,o=i.GreenSockGlobals=i.GreenSockGlobals||i;if(o.TweenLite)return o.TweenLite;var l,u,c,h,d,f,p,m=function(t){var e,i=t.split("."),n=o;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},g=m("com.greensock"),_=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=function(){},y=(f=Object.prototype.toString,p=f.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&f.call(t)===p)}),b={},T=function(i,r,a,l){this.sc=b[i]?b[i].sc:[],b[i]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(c){for(var h,d,f,p,g=r.length,_=g;--g>-1;)(h=b[r[g]]||new T(r[g],[])).gsClass?(u[g]=h.gsClass,_--):c&&h.sc.push(this);if(0===_&&a){if(f=(d=("com.greensock."+i).split(".")).pop(),p=m(d.join("."))[f]=this.gsClass=a.apply(a,u),l)if(o[f]=s[f]=p,void 0!==t&&t.exports)if("TweenMax"===i)for(g in t.exports=s.TweenMax=p,s)p[g]=s[g];else s.TweenMax&&(s.TweenMax[f]=p);else void 0===(n=function(){return p}.apply(e,[]))||(t.exports=n);for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},w=i._gsDefine=function(t,e,i,n){return new T(t,e,i,n)},S=g._class=function(t,e,i){return e=e||function(){},w(t,[],function(){return e},i),e};w.globals=o;var k=[0,0,1,1],C=S("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?k.concat(e):k},!0),E=C.map={},x=C.register=function(t,e,i,n){for(var r,s,a,o,l=e.split(","),u=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(s=l[u],r=n?S("easing."+s,null,!0):g.easing[s]||{},a=c.length;--a>-1;)o=c[a],E[s+"."+o]=E[o+s]=r[o]=t.getRatio?t:t[o]||new t};for((c=C.prototype)._calcEnd=!1,c.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},u=(l=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--u>-1;)c=l[u]+",Power"+u,x(new C(null,null,1,u),c,"easeOut",!0),x(new C(null,null,2,u),c,"easeIn"+(0===u?",easeNone":"")),x(new C(null,null,3,u),c,"easeInOut");E.linear=g.easing.Linear.easeIn,E.swing=g.easing.Quad.easeInOut;var P=S("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(c=P.prototype).addEventListener=function(t,e,i,n,r){r=r||0;var s,a,o=this._listeners[t],l=0;for(this!==h||d||h.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;--a>-1;)(s=o[a]).c===e&&s.s===i?o.splice(a,1):0===l&&s.pr<r&&(l=a+1);o.splice(l,0,{c:e,s:i,up:n,pr:r})},c.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},c.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for((e=r.length)>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)(n=r[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var A=i.requestAnimationFrame,O=i.cancelAnimationFrame,I=Date.now||function(){return(new Date).getTime()},D=I();for(u=(l=["ms","moz","webkit","o"]).length;--u>-1&&!A;)A=i[l[u]+"RequestAnimationFrame"],O=i[l[u]+"CancelAnimationFrame"]||i[l[u]+"CancelRequestAnimationFrame"];S("Ticker",function(t,e){var i,n,r,s,o,l=this,u=I(),c=!(!1===e||!A)&&"auto",f=500,p=33,m=function(t){var e,a,c=I()-D;c>f&&(u+=c-p),D+=c,l.time=(D-u)/1e3,e=l.time-o,(!i||e>0||!0===t)&&(l.frame++,o+=e+(e>=s?.004:s-e),a=!0),!0!==t&&(r=n(m)),a&&l.dispatchEvent("tick")};P.call(l),l.time=l.frame=0,l.tick=function(){m(!0)},l.lagSmoothing=function(t,e){if(!arguments.length)return f<1e10;f=t||1e10,p=Math.min(e,f,0)},l.sleep=function(){null!=r&&(c&&O?O(r):clearTimeout(r),n=v,r=null,l===h&&(d=!1))},l.wake=function(t){null!==r?l.sleep():t?u+=-D+(D=I()):l.frame>10&&(D=I()-f+5),n=0===i?v:c&&A?A:function(t){return setTimeout(t,1e3*(o-l.time)+1|0)},l===h&&(d=!0),m(2)},l.fps=function(t){if(!arguments.length)return i;s=1/((i=t)||60),o=this.time+s,l.wake()},l.useRAF=function(t){if(!arguments.length)return c;l.sleep(),c=t,l.fps(i)},l.fps(t),setTimeout(function(){"auto"===c&&l.frame<5&&"hidden"!==(a||{}).visibilityState&&l.useRAF(!1)},1500)}),(c=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var L=S("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,Z){d||h.wake();var i=this.vars.useFrames?Q:Z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});h=L.ticker=new g.Ticker,(c=L.prototype)._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var R=function(){d&&I()-D>2e3&&("hidden"!==(a||{}).visibilityState||!h.lagSmoothing())&&h.wake();var t=setTimeout(R,2e3);t.unref&&t.unref()};R(),c.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},c.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},c.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},c.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},c.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},c.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},c.render=function(t,e,i){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},c.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},c._enabled=function(t,e){return d||h.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(t,e){return this._enabled(!1,!1)},c.kill=function(t,e){return this._kill(t,e),this},c._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},c._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},c._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},c.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=y(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},c.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},c.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},c.totalTime=function(t,e,i){if(d||h.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(B.length&&tt(),this.render(t,e,!1),B.length&&tt())}return this},c.progress=c.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},c.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},c.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||1e-10,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},c.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(d||t||h.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=S("core.SimpleTimeline",function(t){L.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(c=M.prototype=new L).constructor=M,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(t,e,i,n){var r,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(s=t._startTime;r&&r._startTime>s;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},c._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},c.rawTime=function(){return d||h.wake(),this._totalTime};var N=S("TweenLite",function(t,e,n){if(L.call(this,e,n),this.render=N.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:N.selector(t)||t;var r,s,a,o=t.jquery||t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?K[N.defaultOverwrite]:"number"==typeof l?l>>0:K[l],(o||t instanceof Array||t.push&&y(t))&&"number"!=typeof t[0])for(this._targets=a=_(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)(s=a[r])?"string"!=typeof s?s.length&&s!==i&&s[0]&&(s[0]===i||s[0].nodeType&&s[0].style&&!s.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(_(s))):(this._siblings[r]=et(s,this,!1),1===l&&this._siblings[r].length>1&&nt(s,this,null,1,this._siblings[r])):"string"==typeof(s=a[r--]=N.selector(s))&&a.splice(r+1,1):a.splice(r--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===l&&this._siblings.length>1&&nt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),U=function(t){return t&&t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType)};(c=N.prototype=new L).constructor=N,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,N.version="1.20.5",N.defaultEase=c._ease=new C(null,null,1,1),N.defaultOverwrite="auto",N.ticker=h,N.autoSleep=120,N.lagSmoothing=function(t,e){h.lagSmoothing(t,e)},N.selector=i.$||i.jQuery||function(t){var e=i.$||i.jQuery;return e?(N.selector=e,e(t)):(a||(a=i.document),a?a.querySelectorAll?a.querySelectorAll(t):a.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var B=[],j={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=/[\+-]=-?[\.\d]/,V=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&e>-1e-6&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},q=function(t,e,i,n){var r,s,a,o,l,u,c,h=[],d=0,f="",p=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",i&&(i(h),t=h[0],e=h[1]),h.length=0,r=t.match(F)||[],s=e.match(F)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),l=s.length,o=0;o<l;o++)c=s[o],f+=(u=e.substr(d,e.indexOf(c,d)-d))||!o?u:",",d+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),c===r[o]||r.length<=o?f+=c:(f&&(h.push(f),f=""),a=parseFloat(r[o]),h.push(a),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:a,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-a)||0,f:0,m:p&&p<4?Math.round:0}),d+=c.length;return(f+=e.substr(d))&&h.push(f),h.setRatio=V,H.test(e)&&(h.end=null),h},z=function(t,e,i,n,r,s,a,o,l){"function"==typeof n&&(n=n(l||0,t));var u=typeof t[e],c="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),h="get"!==i?i:c?a?t[c](a):t[c]():t[e],d="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:h,f:"function"===u,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-h||0};if(("number"!=typeof h||"number"!=typeof n&&!d)&&(a||isNaN(h)||!d&&isNaN(n)||"boolean"==typeof h||"boolean"==typeof n?(f.fp=a,f={t:q(h,d?parseFloat(f.s)+f.c+(f.s+"").replace(/[0-9\-\.]/g,""):n,o||N.defaultStringFilter,f),p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(f.s=parseFloat(h),d||(f.c=parseFloat(n)-f.s||0))),f.c)return(f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f},$=N._internals={isArray:y,isSelector:U,lazyTweens:B,blobDif:q},W=N._plugins={},X=$.tweenLookup={},Y=0,G=$.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=L._rootFramesTimeline=new M,Z=L._rootTimeline=new M,J=30,tt=$.lazyRender=function(){var t,e=B.length;for(j={};--e>-1;)(t=B[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);B.length=0};Z._startTime=h.time,Q._startTime=h.frame,Z._active=Q._active=!0,setTimeout(tt,1),L._updateRoot=N.render=function(){var t,e,i;if(B.length&&tt(),Z.render((h.time-Z._startTime)*Z._timeScale,!1,!1),Q.render((h.frame-Q._startTime)*Q._timeScale,!1,!1),B.length&&tt(),h.frame>=J){for(i in J=h.frame+(parseInt(N.autoSleep,10)||120),X){for(t=(e=X[i].tweens).length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete X[i]}if((!(i=Z._first)||i._paused)&&N.autoSleep&&!Q._first&&1===h._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||h.sleep()}}},h.addEventListener("tick",L._updateRoot);var et=function(t,e,i){var n,r,s=t._gsTweenID;if(X[s||(t._gsTweenID=s="t"+Y++)]||(X[s]={target:t,tweens:[]}),e&&((n=X[s].tweens)[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return X[s].tweens},it=function(t,e,i,n){var r,s,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,n)),(a=N.onOverwrite)&&(s=a(t,e,i,n)),!1!==r&&!1!==s},nt=function(t,e,i,n,r){var s,a,o,l;if(1===n||n>=4){for(l=r.length,s=0;s<l;s++)if((o=r[s])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var u,c=e._startTime+1e-10,h=[],d=0,f=0===e._duration;for(s=r.length;--s>-1;)(o=r[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(u=u||rt(e,0,f),0===rt(o,u,f)&&(h[d++]=o)):o._startTime<=c&&o._startTime+o.totalDuration()/o._timeScale>c&&((f||!o._initted)&&c-o._startTime<=2e-10||(h[d++]=o)));for(s=d;--s>-1;)if(o=h[s],2===n&&o._kill(i,t,e)&&(a=!0),2!==n||!o._firstPT&&o._initted){if(2!==n&&!it(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},rt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,s=t._startTime;n._timeline;){if(s+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return(s/=r)>e?s-e:i&&s===e||!t._initted&&s-e<2e-10?1e-10:(s+=t.totalDuration()/t._timeScale/r)>e+1e-10?0:s-e-1e-10};c._init=function(){var t,e,i,n,r,s,a=this.vars,o=this._overwrittenProps,l=this._duration,u=!!a.immediateRender,c=a.ease;if(a.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={},a.startAt)r[n]=a.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&!1!==a.lazy,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateParams=a.onUpdateParams,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=N.to(this.target||{},0,r),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(u=!1),i={},a)G[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&!1!==a.lazy,i.immediateRender=u,this._startAt=N.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof C?c:"function"==typeof c?new C(c,a.easeParams):E[c]||N.defaultEase:N.defaultEase,a.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&N._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},c._initProps=function(t,e,n,r,s){var a,o,l,u,c,h;if(null==t)return!1;for(a in j[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==i&&t.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(h=this.vars[a],G[a])h&&(h instanceof Array||h.push&&y(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[a]=h=this._swapSelfInParams(h,this));else if(W[a]&&(u=new W[a])._onInitTween(t,this.vars[a],this,s)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:u._priority,m:0},o=u._overwriteProps.length;--o>-1;)e[u._overwriteProps[o]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else e[a]=z.call(this,t,a,"get",h,a,0,null,this.vars.stringFilter,s);return r&&this._kill(r,t)?this._initProps(t,e,n,r,s):this._overwrite>1&&this._firstPT&&n.length>1&&nt(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,r,s)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(j[t._gsTweenID]=!0),l)},c.render=function(t,e,i){var n,r,s,a,o=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||1e-10===u&&"isPause"!==this.data)&&u!==t&&(i=!0,u>1e-10&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||u===t?t:1e-10);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(1e-10!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||u===t?t:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,h=this._easeType,d=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===d?c*=c:2===d?c*=c*c:3===d?c*=c*c*c:4===d&&(c*=c*c*c*c),this.ratio=1===h?1-c:2===h?c:t/l<.5?c/2:1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=u,B.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==o||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&1e-10===this._rawPrevTime&&1e-10!==a&&(this._rawPrevTime=0)))}},c._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var n,r,s,a,o,l,u,c,h,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((y(e)||U(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(u=t||o,c=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(N.onOverwrite||this.vars.onOverwrite)){for(s in u)o[s]&&(h||(h=[]),h.push(s));if((h||!t)&&!it(this,i,e,h))return!1}for(s in u)(a=o[s])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(u)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[s]),c&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},c.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},c._enabled=function(t,e){if(d||h.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=et(n[i],this,!0);else this._siblings=et(this.target,this,!0)}return L.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&N._onPluginEvent(t?"_onEnable":"_onDisable",this)},N.to=function(t,e,i){return new N(t,e,i)},N.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new N(t,e,i)},N.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new N(t,e,n)},N.delayedCall=function(t,e,i,n,r){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];var i,n,r,s;if(t="string"!=typeof t?t:N.selector(t)||t,(y(t)||U(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(N.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(s=n[i],r=i;--r>-1;)s===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=et(t).concat()).length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},N.killTweensOf=N.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=N.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var st=S("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(c=st.prototype,st.version="1.19.0",st.API=2,c._firstPT=null,c._addTween=z,c.setRatio=V,c._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},c._mod=c._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},N._onPluginEvent=function(t,e){var i,n,r,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:s)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:s=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},st.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===st.API&&(W[(new t[e])._propName]=t[e]);return!0},w.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=S("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,n),this._overwriteProps=r||[]},!0===t.global),o=a.prototype=new st(i);for(e in o.constructor=a,a.API=t.API,s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,st.activate([a]),a},l=i._gsQueue){for(u=0;u<l.length;u++)l[u]();for(c in b)b[c].func||i.console.log("GSAP encountered missing dependency: "+c)}d=!1}(void 0!==t&&t.exports&&void 0!==i?i:this||window)}).call(e,i(1))},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.arrSlideDetail=$(".slide-content .slide-item"),this.arrLiTag=$(".slide-dots-custom li"),this.arrDots=$(".slide-dots-custom li button"),this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){this.SlideDetailPage(),this.SlideImageReality(),this.AddColorSlide()}},{key:"SlideDetailPage",value:function(){$(".slide-detail .slide-content").slick({draggable:!0,arrows:!1,dots:!1,fade:!0,speed:900,infinite:!0,cssEase:"cubic-bezier(0.7, 0, 0.3, 1)",touchThreshold:100}),$(".slide-detail .slide-content").on("init reInit",function(){$("#loading-overlay").length>0&&$("#loading-overlay").addClass("hidden")})}},{key:"SlideImageReality",value:function(){$(".real-img-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,nextArrow:'<img class="real-img-control next-slide" src="'.concat(yadeaVietnamVariables.assets_url,'img/arrow-right.png">'),prevArrow:'<img class="real-img-control prev-slide" src="'.concat(yadeaVietnamVariables.assets_url,'img/arrow-left.png">')})}},{key:"AddColorSlide",value:function(){for(var t=this,e=function(e){$(t.arrDots[e]).on("click",function(t){$(".slide-detail .slide-content").slick("slickGoTo",e),$(".slide-dots-custom li.active-color").removeClass("active-color"),$(t.target).parents("li").addClass("active-color")})},i=0;i<this.arrDots.length;i++)e(i)}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){this.oxygenData=[41537417,77715167,124612250,13782e4,160215750,172275e3,195819250,213621e3,223957500,249224500,258412500,284828e3],this.secondsPerMonth=[2678400,2505600,2678400,2592e3,2678400,2592e3,2678400,2592e3,2678400,2592e3,2678400,2592e3],this.CheckNameUnit();var t=new Date,e=t.getMonth();this.oxygenStart=e<1?1e7:this.oxygenData[e-1],this.oxygenEnd=this.oxygenData[e],this.TIME_PER_MONTH=this.secondsPerMonth[e];var i=t.getSeconds()+86400*t.getDate()+3600*t.getHours()+60*t.getMinutes();this.thisMonthOxygenSpeed=(this.oxygenEnd-this.oxygenStart)/this.TIME_PER_MONTH,this.monthProgress=Math.floor((this.oxygenEnd-this.oxygenStart)*(i/this.TIME_PER_MONTH))+this.oxygenStart,console.log(this.thisMonthOxygenSpeed),$("#home-flip-clock").length>0&&(this.NumberOxygen(),this.NumberTree())}},{key:"NumberOxygen",value:function(){var t=this,e=[],i=this.monthProgress;this.numberOxygen=$(".number-decrease").FlipClock(i,{clockFace:"Counter"}),console.log(this.numberOxygen),setInterval(function(){i+=5*Math.floor(t.thisMonthOxygenSpeed),t.numberOxygen.setValue(i)},4e3),$(".number-decrease .flip").each(function(t,i){e.forEach(function(e){e===t+1&&($(i).css("margin-right","13px"),$(i).addClass("add-dot"))})})}},{key:"NumberTree",value:function(){var t=this,e=[],i=Math.floor(this.monthProgress/21.7);this.numberTree=$(".number-increase").FlipClock(i,{clockFace:"Counter"}),setInterval(function(){0===Math.floor(t.thisMonthOxygenSpeed/21.7)?i+=2:i+=5*Math.floor(t.thisMonthOxygenSpeed/21.7),t.numberTree.setValue(i)},4e3),$(".number-increase .flip").each(function(t,i){e.forEach(function(e){e===t+1&&($(i).css("margin-right","13px"),$(i).addClass("add-dot"))})})}},{key:"CheckNameUnit",value:function(){window.innerWidth<=1024&&($(".unit01").html("Tấn"),$(".unit02").html("Nghìn cây xanh"))}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){this.$applyShopForm=$("#signup-as-shop-form"),this.$signupTestDriveForm=$("#signup-test-drive"),this.SetupAJAXSubmitForm(this.$applyShopForm),this.SetupAJAXSubmitForm(this.$signupTestDriveForm),document.getElementById("phone-number-input")&&this.setInputFilter(document.getElementById("phone-number-input"),function(t){return/^\d*\.?\d*$/.test(t)})}},{key:"setInputFilter",value:function(t,e){["input","keydown","keyup","mousedown","mouseup","select","contextmenu","drop"].forEach(function(i){t.addEventListener(i,function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")&&(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd))})})}},{key:"SetupAJAXSubmitForm",value:function(t){var e=t.find(".submit-feedback"),i=t.attr("action"),n=t.find(".loading-form"),r=t.data("callback-link")?t.data("callback-link"):"";console.log(r),t.on("submit",function(s){s.preventDefault();var a=new Date,o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),l=a.getHours()+":"+a.getMinutes()+":"+a.getSeconds();t.find("input[name=submit_date]").val(o+" "+l);var u=t.serialize();n.show(),$.ajax({type:"GET",url:i,dataType:"json",crossDomain:!0,data:u,success:function(t){n.hide(),"false"==t?e.removeClass("success").addClass("error").html("Đăng ký thông tin không thành công, quý khách vui lòng thử lại"):window.location.replace(r)}})})}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sliderProcess=$(".slide-process"),this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){this.sliderProcess.length>0&&this.sliderProcess.slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,loop:!1,infinite:!1,fade:!0,focusOnSelect:!1,autoplay:!0,autoplaySpeed:2500})}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bindEvents()}var e,i,r;return e=t,(i=[{key:"bindEvents",value:function(){var t=this;this.$openModalBtn=$(".open-signup-info-modal"),this.$closeModalBtn=$(".close-signup-info-modal"),this.$signupInfoModal=$(".signup-info-modal"),this.$openModalBtn.on("click",function(){t.$signupInfoModal.addClass("active")}),this.$closeModalBtn.on("click",function(){t.$signupInfoModal.removeClass("active")}),this.$signupBuyBikeForm=$(".signup-information-form"),this.FormSetup(this.$signupBuyBikeForm)}},{key:"FormSetup",value:function(t){var e=t.find(".submit-feedback"),i=t.attr("action"),n=t.find(".loading-context"),r=t.find(".btn-context"),s=t.find("[type=submit]"),a=t.data("callback-link")?t.data("callback-link"):"";t.on("submit",function(o){o.preventDefault();var l=new Date,u=l.getFullYear()+"-"+(l.getMonth()+1)+"-"+l.getDate(),c=l.getHours()+":"+l.getMinutes()+":"+l.getSeconds();t.find("input[name=registered_day]").val(u+" "+c);var h=t.serialize();n.show(),r.hide(),$.ajax({type:"GET",url:i,dataType:"json",crossDomain:!0,data:h,success:function(t){n.hide(),"false"==t?(r.show(),n.hide(),e.removeClass("success").addClass("error").html("Đăng ký mua xe không thành công, quý khách vui lòng thử lại")):""===a?(s.hide(),e.removeClass("error").addClass("success").html("Đăng ký mua xe thành công, Yadea sẽ liên hệ lại với bạn")):window.location.replace(a)}})})}}])&&n(e.prototype,i),r&&n(e,r),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){document.addEventListener("DOMContentLoaded",function(){var t;if("IntersectionObserver"in window){t=document.querySelectorAll(".lazy");var e=new IntersectionObserver(function(t,i){t.forEach(function(t){if(t.isIntersecting){var i=t.target;i.src=i.dataset.src,i.classList.remove("lazy"),e.unobserve(i)}})});t.forEach(function(t){e.observe(t)})}else{var i,n=function e(){i&&clearTimeout(i),i=setTimeout(function(){var i=window.pageYOffset;t.forEach(function(t){t.offsetTop<window.innerHeight+i&&(t.src=t.dataset.src,t.classList.remove("lazy"))}),0==t.length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationChange",e))},20)};t=document.querySelectorAll(".lazy"),document.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("orientationChange",n)}})};e.default=n}]);